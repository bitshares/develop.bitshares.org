{"version":3,"file":"exchange.d64cde307fad238f846d.js","sources":["webpack:///exchange.d64cde307fad238f846d.js"],"sourcesContent":["(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1786:function(e,t,a){\"use strict\";var r=a(0),n=a.n(r),s=a(1813),o=a.n(s),i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),i(t,[{key:\"componentDidMount\",value:function(){this.enableAnimation()}},{key:\"resetAnimation\",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:\"enableAnimation\",value:function(){var e=this;this.timer=setTimeout(function(){e.timer&&e.setState({animateEnter:!0})},2e3)}},{key:\"componentWillUnmount\",value:function(){clearTimeout(this.timer),this.timer=null}},{key:\"render\",value:function(){return this.props.children?n.a.createElement(o.a,{id:this.props.id,className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):n.a.createElement(this.props.component)}}]),t}();l.defaultProps={component:\"span\",enterTimeout:2e3},t.a=l},1799:function(e,t,a){\"use strict\";var r=a(0),n=a.n(r),s=a(3),o=a.n(s),i=a(10),l=a(35),c=a(45),u=a(14),p=a.n(u),d=a(332),m=a(30),h=a(11),f=a.n(h),b=a(5),g=a.n(b),y=a(115),_=a(1),v=a.n(_),k=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function E(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function w(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function S(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=function(e){function t(){return E(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,n.a.Component),k(t,[{key:\"render\",value:function(){return 0!==this.props.assets.length&&this.props.value?n.a.createElement(d.a,{entries:this.props.assets.map(function(e){return e&&e.get(\"symbol\")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get(\"symbol\")&&(e[t.get(\"symbol\")]=t),e},{}),singleEntry:this.props.assets[0]?n.a.createElement(m.a,{asset:this.props.assets[0].get(\"id\"),amount:0,hide_amount:!0}):null,value:\"\",onChange:this.props.onChange}):null}}]),t}();C.propTypes={value:v.a.string,onChange:v.a.func},C=Object(y.a)(C,{asList:!0});var A=function(e){function t(){return E(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,n.a.Component),k(t,[{key:\"getAsset\",value:function(){return this.props.asset}},{key:\"getError\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.assetInput,t=this.props.error;return t||!e||this.getNameType(e)||(t=p.a.translate(\"explorer.asset.invalid\",{name:e})),t}},{key:\"getNameType\",value:function(e){return e?i.ChainValidation.is_valid_symbol_error(e,!0)?null:\"symbol\":null}},{key:\"onInputChanged\",value:function(e){var t=e.target.value.trim().substr(0,16).toUpperCase();this.props.onChange&&t!==this.props.assetInput&&this.props.onChange(t)}},{key:\"onKeyDown\",value:function(e){13===e.keyCode&&(this.onFound(e),this.onAction(e))}},{key:\"componentDidMount\",value:function(){this.props.onFound&&this.props.asset&&this.props.onFound(this.props.asset)}},{key:\"componentWillReceiveProps\",value:function(e){this.props.onFound&&e.asset!==this.props.asset&&this.props.onFound(e.asset)}},{key:\"onFound\",value:function(e){e.preventDefault(),!this.props.onFound||this.getError()||this.props.disableActionButton||this.props.asset&&this.props.onFound(this.props.asset)}},{key:\"onAssetSelect\",value:function(e){e&&(this.props.onFound(e),this.props.onChange(e.get(\"symbol\")))}},{key:\"onAction\",value:function(e){e.preventDefault(),!this.props.onAction||this.getError()||this.props.disableActionButton||this.props.asset&&this.props.onAction(this.props.asset)}},{key:\"render\",value:function(){var e=this.props,t=e.disabled,a=e.noLabel,r=this.getError(),s=void 0;t||(this.props.asset?s=this.props.asset.get(\"symbol\"):!r&&this.props.assetInput&&(r=p.a.translate(\"explorer.asset.not_found\",{name:this.props.assetInput})));var i=g()(\"button\",{disabled:!this.props.asset||r||this.props.disableActionButton});return n.a.createElement(\"div\",{className:\"asset-selector\",style:this.props.style},n.a.createElement(\"div\",null,n.a.createElement(\"div\",{className:\"header-area\"},r||a?null:n.a.createElement(\"label\",{className:\"right-label\"},\"  \",n.a.createElement(\"span\",null,s)),n.a.createElement(o.a,{component:\"label\",content:this.props.label})),n.a.createElement(\"div\",{className:\"input-area\"},n.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},n.a.createElement(\"input\",{style:this.props.inputStyle,disabled:this.props.disabled,type:\"text\",value:this.props.assetInput||\"\",placeholder:this.props.placeholder||p.a.translate(\"explorer.assets.symbol\"),ref:\"user_input\",onChange:this.onInputChanged.bind(this),onKeyDown:this.onKeyDown.bind(this),tabIndex:this.props.tabIndex}),n.a.createElement(\"div\",{className:\"form-label select floating-dropdown\"},this.props.asset?n.a.createElement(C,{ref:this.props.refCallback,value:this.props.asset.get(\"symbol\"),assets:f.a.List(this.props.assets),onChange:this.onAssetSelect.bind(this)}):null),this.props.children,this.props.onAction?n.a.createElement(\"button\",{className:i,onClick:this.onAction.bind(this)},n.a.createElement(o.a,{content:this.props.action_label})):null)),n.a.createElement(\"div\",{className:\"error-area\",style:{paddingBottom:\"10px\"}},n.a.createElement(\"span\",{style:{wordBreak:\"break-all\"}},r))))}}]),t}();A.propTypes={label:v.a.string,error:v.a.string,placeholder:v.a.string,onChange:v.a.func,onFound:v.a.func,assetInput:v.a.string,asset:l.a.ChainAsset,tabIndex:v.a.number,disableActionButton:v.a.bool},A.defaultProps={disabled:!1},t.a=Object(c.a)(A)},1801:function(e,t,a){\"use strict\";a.d(t,\"b\",function(){return x}),a.d(t,\"a\",function(){return O});var r=a(0),n=a.n(r),s=a(30),o=a(35),i=a(45),l=a(115),c=a(16),u=a(33),p=a(248),d=a(3),m=a.n(d),h=a(14),f=a.n(h),b=a(100),g=a.n(b),y=a(521),_=a(58),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},k=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function E(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}function w(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function S(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function C(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=function(e){function t(e){return w(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return C(t,y[\"a\"]),k(t,[{key:\"componentDidMount\",value:function(){g.a.rebuild()}},{key:\"shouldComponentUpdate\",value:function(e){return function e(t,a,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,a,r)}if(\"value\"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"shouldComponentUpdate\",this).call(this,e)||!c.a.are_equal_shallow(e.pulsate,this.props.pulsate)||e.toAsset!==this.props.toAsset||e.fromAsset!==this.props.fromAsset||e.amount!==this.props.amount}},{key:\"getValue\",value:function(){var e=this.props,t=e.amount,a=e.toAsset,r=e.fromAsset,n=e.fullPrecision,s=e.allMarketStats,o=e.coreAsset;return _.a.convertValue(t,a,r,s,o,n)}},{key:\"render\",value:function(){var e=this.props,t=e.amount,a=e.toAsset,r=e.fromAsset,o=e.fullPrecision,i=E(e,[\"amount\",\"toAsset\",\"fromAsset\",\"fullPrecision\"]),l=a.get(\"id\"),u=a.get(\"symbol\");o||(t=c.a.get_asset_amount(t,r));var p=this.getValue();return p||0===p?n.a.createElement(s.a,v({noPrefix:!0,amount:p,asset:l,decimalOffset:-1!==u.indexOf(\"BTC\")?4:this.props.fullDecimals?0:this.props.noDecimals?a.get(\"precision\"):a.get(\"precision\")-2},i)):n.a.createElement(\"div\",{className:\"tooltip inline-block\",\"data-place\":\"bottom\",\"data-tip\":f.a.translate(\"tooltip.no_price\"),style:{fontSize:\"0.9rem\"}},n.a.createElement(m.a,{content:\"account.no_price\"}))}}]),t}();A.defaultProps={fullPrecision:!0,noDecimals:!1,fullDecimals:!1,hide_asset:!1},A=Object(l.a)(A,{propNames:[\"toAsset\",\"fromAsset\",\"coreAsset\"],defaultProps:{toAsset:\"1.3.0\",coreAsset:\"1.3.0\"}});var x=function(e){function t(){return w(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,n.a.Component),k(t,[{key:\"render\",value:function(){var e=this.props,t=e.refCallback,a=E(e,[\"refCallback\"]);return n.a.createElement(A,v({},a,{ref:t}))}}]),t}();x=Object(u.a)(x,{listenTo:function(){return[p.a]},getProps:function(){return{allMarketStats:p.a.getState().allMarketStats}}});var O=function(e){function t(){return w(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,n.a.Component),k(t,[{key:\"render\",value:function(){var e=this.props,t=e.balance,a=E(e,[\"balance\"]),r=!!t.getIn([\"balance\",\"amount\"]),s=Number(r?t.getIn([\"balance\",\"amount\"]):t.get(\"balance\")),o=r?t.getIn([\"balance\",\"asset_id\"]):t.get(\"asset_type\");return isNaN(s)?n.a.createElement(\"span\",null,\"--\"):n.a.createElement(x,v({amount:s,fromAsset:o,noDecimals:!0},a))}}]),t}();O.propTypes={balance:o.a.ChainObject.isRequired},O=Object(i.a)(O,{keep_updating:!0})},1809:function(e,t,a){\"use strict\";var r=a(0),n=a.n(r),s=a(16),o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),o(t,[{key:\"render\",value:function(){var e=this.props,t=e.price,a=e.preFormattedPrice,r=e.quote,o=e.base;if(!t&&!a)return null;var i=a||s.a.price_to_text(t,r,o);return i.full>=1?n.a.createElement(\"span\",null,n.a.createElement(\"span\",{className:\"price-integer\"},i.int,\".\"),i.dec?n.a.createElement(\"span\",{className:\"price-integer\"},i.dec):null,i.trailing?n.a.createElement(\"span\",{className:\"price-decimal\"},i.trailing):null):i.full>=.1?n.a.createElement(\"span\",null,n.a.createElement(\"span\",{className:\"price-decimal\"},i.int,\".\"),i.dec?n.a.createElement(\"span\",{className:\"price-integer\"},i.dec):null,i.trailing?n.a.createElement(\"span\",{className:\"price-decimal\"},i.trailing):null):n.a.createElement(\"span\",null,n.a.createElement(\"span\",{className:\"price-decimal\"},i.int,\".\"),i.dec?n.a.createElement(\"span\",{className:\"price-decimal\"},i.dec):null,i.trailing?n.a.createElement(\"span\",{className:\"price-integer\"},i.trailing):null)}}]),t}();t.a=i},1821:function(e,t,a){\"use strict\";a.d(t,\"a\",function(){return _}),a.d(t,\"b\",function(){return g});var r=a(0),n=a.n(r),s=a(115),o=a(5),i=a.n(o),l=a(248),c=a(33),u=a(16),p=a(141),d=a(58),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function f(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function b(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(e){h(this,t);var a=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));a.statsInterval=null;var r=d.a.getMarketName(e.base,e.quote).marketName;return a.state={marketName:r},a}return b(t,n.a.Component),m(t,[{key:\"_checkStats\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{close:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{close:{}};return e.volumeBase!==t.volumeBase||!u.a.are_equal_shallow(e.close&&e.close.base,t.close&&t.close.base)||!u.a.are_equal_shallow(e.close&&e.close.quote,t.close&&t.close.quote)}},{key:\"shouldComponentUpdate\",value:function(e){return this._checkStats(e.allMarketStats.get(this.state.marketName),this.props.allMarketStats.get(this.state.marketName))||e.base.get(\"id\")!==this.props.base.get(\"id\")||e.quote.get(\"id\")!==this.props.quote.get(\"id\")}},{key:\"componentWillUnmount\",value:function(){this.statsInterval&&this.statsInterval()}}]),t}(),y=function(e){function t(e){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return b(t,g),m(t,[{key:\"shouldComponentUpdate\",value:function(e){return function e(t,a,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,a,r)}if(\"value\"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"shouldComponentUpdate\",this).call(this,e)}},{key:\"render\",value:function(){var e=this.props.allMarketStats,t=this.state.marketName,a=e.get(t),r=a&&a.price?a.price:null;return n.a.createElement(\"span\",{className:i()(\"\",this.props.className)},r?n.a.createElement(p.a,{base_amount:r.base.amount,base_asset:r.base.asset_id,quote_amount:r.quote.amount,quote_asset:r.quote.asset_id,force_direction:this.props.force_direction,hide_symbols:this.props.hide_symbols}):\"n/a\")}}]),t}();y=Object(s.a)(y,{propNames:[\"quote\",\"base\"]});var _=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,n.a.Component),m(t,[{key:\"render\",value:function(){return n.a.createElement(y,this.props)}}]),t}();_=Object(c.a)(_,{listenTo:function(){return[l.a]},getProps:function(){return{allMarketStats:l.a.getState().allMarketStats}}})},1823:function(e,t,a){\"use strict\";var r=a(1834),n=a(0),s=a.n(n),o=a(1),i=a.n(o),l=a(36),c=a.n(l),u=a(90),p=a(171),d=a.n(p),m=a(3),h=a.n(m),f=a(35),b=a(100),g=a.n(b),y=a(45),_=a(30),v=a(16),k=a(5),E=a.n(k),w=a(301),S=a(330),C=a(95),A=a(18),x=a(141),O=a(14),N=a.n(O),P=a(516),T=a(11),B=a.n(T),j=a(10),q=a(20),F=a(116),I=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function R(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function M(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function L(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=function(e){function t(e){R(this,t);var a=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state=a._initialState(e),a}return L(t,s.a.Component),I(t,[{key:\"_initialState\",value:function(e){var t=e?this._getCurrentPosition(e):{};if(t.collateral){var a=v.a.get_asset_amount(t.debt,e.quote_asset),r=v.a.get_asset_amount(t.collateral,e.backing_asset),n=isNaN(t.target_collateral_ratio)?0:t.target_collateral_ratio/1e3;return{short_amount:a?a.toString():null,collateral:r?r.toString():null,collateral_ratio:this._getCollateralRatio(a,r),target_collateral_ratio:n,errors:this._getInitialErrors(),isValid:!1,useTargetCollateral:n>0,original_position:{debt:a,collateral:r,target_collateral_ratio:n}}}return{short_amount:0,collateral:0,collateral_ratio:this._getInitialCollateralRatio(e),target_collateral_ratio:0,errors:this._getInitialErrors(),isValid:!1,useTargetCollateral:!1,original_position:{debt:0,collateral:0}}}},{key:\"componentDidUpdate\",value:function(){g.a.rebuild()}},{key:\"componentDidMount\",value:function(){var e=this._initialState(this.props);this.setState(e),this._setUpdatedPosition(e)}},{key:\"shouldComponentUpdate\",value:function(e,t){return!(v.a.are_equal_shallow(t,this.state)&&B.a.is(e.quote_asset,this.props.quote_asset)&&!e.backing_asset.get(\"symbol\")!==this.props.backing_asset.get(\"symbol\")&&B.a.is(e.account,this.props.account)&&B.a.is(e.call_orders,this.props.call_orders))}},{key:\"componentWillReceiveProps\",value:function(e){var t=this.state,a=t.short_amount,r=t.collateral,n=t.collateral_ratio;if(e.account!==this.props.account||e.hasCallOrders!==this.props.hasCallOrders||e.quote_asset.get(\"id\")!==this.props.quote_asset.get(\"id\")){var s=this._initialState(e),o=!1;(a||r||n)&&(s.short_amount=a,s.collateral=r,s.collateral_ratio=n,o=!0),this.setState(s),o&&this._validateFields(s)}}},{key:\"_getInitialErrors\",value:function(){return{collateral_balance:null,ratio_too_high:null}}},{key:\"_getMaintenanceRatio\",value:function(){return this.props.quote_asset.getIn([\"bitasset\",\"current_feed\",\"maintenance_collateral_ratio\"])/1e3}},{key:\"confirmClicked\",value:function(e){e.preventDefault(),c.a.publish(this.props.modalId,\"close\")}},{key:\"toggleLockedCR\",value:function(e){e.preventDefault(),this.setState({lockedCR:!this.state.lockedCR})}},{key:\"_onBorrowChange\",value:function(e){var t=this._getFeedPrice(),a=e.amount.replace(/,/g,\"\"),r={short_amount:a,collateral:(this.state.collateral_ratio*(a/t)).toFixed(this.props.backing_asset.get(\"precision\")),collateral_ratio:this.state.collateral_ratio};this.setState(r),this._validateFields(r),this._setUpdatedPosition(r)}},{key:\"_onCollateralChange\",value:function(e){var t=e.amount.replace(/,/g,\"\"),a=this._getFeedPrice(),n=t/(this.state.short_amount/a),s=this._isPredictionMarket(this.props)?{short_amount:t,collateral:t,collateral_ratio:1}:{short_amount:this.state.short_amount,collateral:t,collateral_ratio:Object(r.a)(n)?n:this._getInitialCollateralRatio(this.props)};this.setState(s),this._validateFields(s),this._setUpdatedPosition(s)}},{key:\"_onTargetRatioChange\",value:function(e){var t=e.target;new RegExp(/[[:digit:]]/).test(t.value)||(t.value=t.value.replace(/[^0-9.]/g,\"\"));var a=t.value;this.setState({target_collateral_ratio:a})}},{key:\"_onRatioChange\",value:function(e){var t=this._getFeedPrice(),a=e.target;new RegExp(/[[:digit:]]/).test(a.value)||(a.value=a.value.replace(/[^0-9.]/g,\"\"));var r=a.value,n=void 0,s=void 0;this.state.lockedCR?(n=(this.state.collateral*t/r).toFixed(this.props.backing_asset.get(\"precision\")),s=this.state.collateral):(n=this.state.short_amount,s=(this.state.short_amount/t*r).toFixed(this.props.backing_asset.get(\"precision\")));var o={short_amount:n,collateral:s,collateral_ratio:r};this.setState(o),this._validateFields(o),this._setUpdatedPosition(o)}},{key:\"_maximizeCollateral\",value:function(){var e=this.props?this._getCurrentPosition(this.props):{},t=0;e.collateral&&(t=v.a.get_asset_amount(e.collateral,this.props.backing_asset));var a=Math.floor(Math.min(this.props.backing_balance.get(\"balance\")/v.a.get_asset_precision(this.props.backing_asset)+t-10,this.state.short_amount/this._getFeedPrice()*1e3));this._onCollateralChange(new Object({amount:a.toString()}))}},{key:\"_maximizeDebt\",value:function(){var e=this.props?this._getCurrentPosition(this.props):{},t=0;e.collateral&&(t=v.a.get_asset_amount(e.collateral,this.props.backing_asset));var a=this.props.backing_balance.get(\"balance\")/v.a.get_asset_precision(this.props.backing_asset)+t-10,r={short_amount:a/this.state.collateral_ratio*this._getFeedPrice(),collateral:a,collateral_ratio:this.state.collateral_ratio};this.setState(r),this._validateFields(r),this._setUpdatedPosition(r)}},{key:\"_payDebt\",value:function(){var e=this.props?this._getCurrentPosition(this.props):{debt:0};if(!(e.debt<=0)){var t=v.a.get_asset_amount(Math.max(e.debt-this.props.bitasset_balance.get(\"balance\"),0),this.props.quote_asset);this._onBorrowChange({amount:t.toString()})}}},{key:\"_setUpdatedPosition\",value:function(e){this.setState({newPosition:parseFloat(e.short_amount)/parseFloat(e.collateral)})}},{key:\"_validateFields\",value:function(e){var t=this._getInitialErrors(),a=this.state.original_position,r=this.props.backing_balance?this.props.backing_balance.toJS():{balance:0},n=this._getMaintenanceRatio(),s=this._getCollateralRatio(a.debt,a.collateral),o=a.collateral>0&&s<n;parseFloat(e.collateral)-a.collateral>v.a.get_asset_amount(r.balance,this.props.backing_asset.toJS())&&(t.collateral_balance=N.a.translate(\"borrow.errors.collateral\")),o&&e.short_amount>a.debt?t.below_maintenance=N.a.translate(\"borrow.errors.increased_debt_on_margin_call\"):o&&parseFloat(e.collateral_ratio)<=parseFloat(s)?t.below_maintenance=N.a.translate(\"borrow.errors.below_ratio_mcr_update\",{ocr:s.toFixed(4)}):!o&&parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:n)?t.below_maintenance=N.a.translate(\"borrow.errors.below\",{mr:n}):parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:n+.5)&&(t.close_maintenance=N.a.translate(\"borrow.errors.close\",{mr:n})),this.setState({errors:t})}},{key:\"_onSubmit\",value:function(e){e.preventDefault();var t=v.a.get_asset_precision(this.props.quote_asset.get(\"precision\")),a=v.a.get_asset_precision(this.props.backing_asset.get(\"precision\")),r=this._getCurrentPosition(this.props),n=!1;!!(void 0!==this.state.target_collateral_ratio&&this.state.target_collateral_ratio>0&&this.state.useTargetCollateral)&&(n={target_collateral_ratio:parseInt(1e3*this.state.target_collateral_ratio,10)});var s=C.a.new_transaction();n?s.add_type_operation(\"call_order_update\",{fee:{amount:0,asset_id:0},funding_account:this.props.account.get(\"id\"),delta_collateral:{amount:parseInt(this.state.collateral*a-r.collateral,10),asset_id:this.props.backing_asset.get(\"id\")},delta_debt:{amount:parseInt(this.state.short_amount*t-r.debt,10),asset_id:this.props.quote_asset.get(\"id\")},extensions:n}):s.add_type_operation(\"call_order_update\",{fee:{amount:0,asset_id:0},funding_account:this.props.account.get(\"id\"),delta_collateral:{amount:parseInt(this.state.collateral*a-r.collateral,10),asset_id:this.props.backing_asset.get(\"id\")},delta_debt:{amount:parseInt(this.state.short_amount*t-r.debt,10),asset_id:this.props.quote_asset.get(\"id\")}}),A.a.process_transaction(s,null,!0).catch(function(e){}),c.a.publish(this.props.modalId,\"close\")}},{key:\"_getCurrentPosition\",value:function(e){var t={collateral:null,debt:null};return e&&e.hasCallOrders&&e.call_orders&&(t=(t=e.call_orders.filter(function(e){return!!e}).find(function(t){return t.getIn([\"call_price\",\"quote\",\"asset_id\"])===e.quote_asset.get(\"id\")}))?t.toJS():{collateral:null,debt:null}),t}},{key:\"_getFeedPrice\",value:function(){return this.props?this._isPredictionMarket(this.props)?1:1/v.a.get_asset_price(this.props.quote_asset.getIn([\"bitasset\",\"current_feed\",\"settlement_price\",\"quote\",\"amount\"]),this.props.backing_asset,this.props.quote_asset.getIn([\"bitasset\",\"current_feed\",\"settlement_price\",\"base\",\"amount\"]),this.props.quote_asset):1}},{key:\"_getInitialCollateralRatio\",value:function(e){return this._isPredictionMarket(e)?1:0}},{key:\"_getCollateralRatio\",value:function(e,t){return t/(e/this._getFeedPrice())}},{key:\"_isPredictionMarket\",value:function(e){return e.quote_asset.getIn([\"bitasset\",\"is_prediction_market\"])}},{key:\"_setUseTargetCollateral\",value:function(){this.setState({useTargetCollateral:!this.state.useTargetCollateral})}},{key:\"render\",value:function(){var e=this,t=this.props,a=t.quote_asset,r=t.bitasset_balance,n=t.backing_asset,o=t.backing_balance,i=this.state,l=i.short_amount,c=i.collateral,u=i.collateral_ratio,p=i.target_collateral_ratio,m=i.errors,f=i.original_position,b=i.useTargetCollateral,g=v.a.get_asset_precision(this.props.quote_asset.get(\"precision\")),y=v.a.get_asset_precision(this.props.backing_asset.get(\"precision\"));u&&!isNaN(u)&&u>0&&u<1e3||(u=0),r=r?r.toJS():{balance:0,id:null},o=o?o.toJS():{balance:0,id:null};var k=E()(\"form-group\",{\"has-error\":m.collateral_balance}),C=E()(\"form-group\",{\"has-error\":m.below_maintenance},{\"has-warning\":m.close_maintenance}),A=this._getCurrentPosition(this.props),O=o.id?j.ChainStore.getObject(o.id):null,T=(O?O.get(\"balance\"):0)-parseInt(this.state.collateral*y-A.collateral,10),B=s.a.createElement(\"span\",null,s.a.createElement(\"span\",null,s.a.createElement(h.a,{component:\"span\",content:\"transfer.available\"}),\":\",\" \",r.id?s.a.createElement(S.a,{balance:r.id}):s.a.createElement(_.a,{amount:0,asset:a.get(\"id\")})),s.a.createElement(\"a\",{onClick:this._payDebt.bind(this)},s.a.createElement(h.a,{content:\"borrow.pay_max_debt\"})),\"|\",0!=u?s.a.createElement(\"a\",{onClick:this._maximizeDebt.bind(this)},s.a.createElement(h.a,{content:\"borrow.use_max\"})):s.a.createElement(\"span\",{className:\"disabled-link\",\"data-place\":\"left\",\"data-tip\":N.a.translate(\"borrow.maximize_debt_set_ratio_slider\")},s.a.createElement(h.a,{content:\"borrow.use_max\"}))),I=s.a.createElement(\"span\",null,s.a.createElement(\"span\",null,s.a.createElement(h.a,{component:\"span\",content:\"transfer.available\"}),\":\",\" \",o.id?s.a.createElement(_.a,{amount:T,asset:n.get(\"id\")}):s.a.createElement(_.a,{amount:0,asset:n.get(\"id\")})),s.a.createElement(\"a\",{onClick:this._maximizeCollateral.bind(this)},s.a.createElement(h.a,{content:\"borrow.use_max\"}))),R=this._getFeedPrice(),M=this._getMaintenanceRatio(),L=(this.props.quote_asset.getIn([\"bitasset\",\"current_feed\",\"maximum_short_squeeze_ratio\"]),this._isPredictionMarket(this.props)),D=f.collateral>0&&this._getCollateralRatio(f.debt,f.collateral)<M;return!L&&isNaN(R)?s.a.createElement(\"div\",null,s.a.createElement(\"form\",{className:\"grid-container text-center no-overflow\",noValidate:!0},s.a.createElement(h.a,{component:\"h3\",content:\"borrow.no_valid\",asset_symbol:a.get(\"symbol\")})),s.a.createElement(\"div\",{className:\"grid-content button-group text-center no-overflow\"},s.a.createElement(d.a,{close:this.props.modalId},s.a.createElement(\"div\",{className:\" button warning\"},s.a.createElement(h.a,{content:\"account.perm.cancel\"}))))):s.a.createElement(\"div\",null,s.a.createElement(\"form\",{className:\"grid-container small-10 small-offset-1 no-overflow\",noValidate:!0},s.a.createElement(h.a,{component:\"h3\",content:\"borrow.title\",asset_symbol:a.get(\"symbol\")}),s.a.createElement(\"div\",{style:{textAlign:\"left\"}},this.props.hide_help?null:s.a.createElement(P.a,{path:\"components/\"+(L?\"BorrowModalPrediction\":\"BorrowModal\"),debt:a.get(\"symbol\"),collateral:n.get(\"symbol\"),borrower:this.props.account.get(\"name\"),mr:M}),D?s.a.createElement(h.a,{component:\"h6\",className:\"has-warning\",content:\"borrow.errors.below_info\"}):null,L?null:s.a.createElement(\"div\",{style:{paddingTop:\"1rem\",paddingBottom:\"1rem\"}},s.a.createElement(\"div\",{className:\"borrow-price-feeds\"},s.a.createElement(\"span\",{className:\"borrow-price-label\"},s.a.createElement(h.a,{content:\"transaction.feed_price\"}),\": \"),s.a.createElement(x.a,{noPopOver:!0,quote_amount:a.getIn([\"bitasset\",\"current_feed\",\"settlement_price\",\"base\",\"amount\"]),quote_asset:a.getIn([\"bitasset\",\"current_feed\",\"settlement_price\",\"base\",\"asset_id\"]),base_asset:a.getIn([\"bitasset\",\"current_feed\",\"settlement_price\",\"quote\",\"asset_id\"]),base_amount:a.getIn([\"bitasset\",\"current_feed\",\"settlement_price\",\"quote\",\"amount\"])})),s.a.createElement(\"b\",null),s.a.createElement(\"div\",{className:\"borrow-price-final \"+(m.below_maintenance?\"has-error\":m.close_maintenance?\"has-warning\":\"\")},s.a.createElement(\"span\",{className:\"borrow-price-label\"},s.a.createElement(h.a,{content:\"exchange.your_price\"}),\": \"),this.state.newPosition?s.a.createElement(x.a,{noPopOver:!0,quote_amount:M*this.state.short_amount*g,quote_asset:a.get(\"id\"),base_asset:n.get(\"id\"),base_amount:this.state.collateral*y}):null)),s.a.createElement(\"div\",{className:\"form-group\"},s.a.createElement(\"span\",{style:{position:\"absolute\",left:20}},s.a.createElement(q.a,{onClick:this.toggleLockedCR.bind(this),name:this.state.lockedCR?\"unlocked\":\"locked\",size:\"1_5x\",style:{position:\"relative\",top:-10}})),s.a.createElement(w.a,{label:\"transaction.borrow_amount\",amount:l.toString(),onChange:this._onBorrowChange.bind(this),asset:a.get(\"id\"),assets:[a.get(\"id\")],display_balance:B,placeholder:\"0.0\",tabIndex:1})),s.a.createElement(\"div\",{className:k},s.a.createElement(\"span\",{style:{position:\"absolute\",left:20}},s.a.createElement(q.a,{onClick:this.toggleLockedCR.bind(this),name:this.state.lockedCR?\"locked\":\"unlocked\",size:\"1_5x\",style:{position:\"relative\",top:-10}})),s.a.createElement(w.a,{label:\"transaction.collateral\",amount:c.toString(),onChange:this._onCollateralChange.bind(this),asset:n.get(\"id\"),assets:[n.get(\"id\")],display_balance:I,placeholder:\"0.0\",tabIndex:1}),m.collateral_balance?s.a.createElement(\"div\",{className:\"float-left\",style:{paddingTop:5}},m.collateral_balance):null),L?null:s.a.createElement(\"div\",null,s.a.createElement(\"div\",{className:C,style:{marginBottom:\"3.5rem\"}},s.a.createElement(h.a,{component:\"label\",content:\"borrow.coll_ratio\"}),s.a.createElement(\"span\",null,s.a.createElement(\"input\",{value:0==u?\"\":u,onChange:this._onRatioChange.bind(this),type:\"text\",style:{width:\"12%\",float:\"right\",marginTop:-10}}),s.a.createElement(\"input\",{style:{width:\"85%\"},min:\"0\",max:\"6\",step:\"0.01\",onChange:this._onRatioChange.bind(this),value:u,type:\"range\"})),m.below_maintenance||m.close_maintenance?s.a.createElement(\"div\",{style:{height:\"1em\",maxWidth:\"85%\"},className:\"float-left\"},m.below_maintenance,m.close_maintenance):null),s.a.createElement(\"div\",{className:\"form-group\",style:{marginBottom:\"3.5rem\"}},s.a.createElement(\"span\",null,s.a.createElement(\"label\",null,s.a.createElement(h.a,{content:\"borrow.target_collateral_ratio\"}),\"  \",s.a.createElement(\"span\",{\"data-place\":\"top\",\"data-html\":!0,\"data-tip\":N.a.translate(\"tooltip.target_collateral_ratio\")},s.a.createElement(q.a,{name:\"question-circle\",title:\"icons.question_circle\"}))),b?s.a.createElement(\"span\",null,s.a.createElement(\"div\",{style:{marginBottom:\"1em\"}},s.a.createElement(F.Checkbox,{onClick:this._setUseTargetCollateral.bind(this),checked:!0},s.a.createElement(h.a,{content:\"borrow.enable_target_collateral_ratio\"}))),s.a.createElement(\"span\",null,s.a.createElement(\"input\",{value:isNaN(p)?\"0\":p,onChange:this._onTargetRatioChange.bind(this),type:\"text\",style:{float:\"right\",marginTop:-10,width:\"12%\"}}),s.a.createElement(\"input\",{style:{width:\"85%\"},min:\"0\",max:\"6\",step:\"0.01\",onChange:this._onTargetRatioChange.bind(this),value:isNaN(p)?\"0\":p,type:\"range\"}))):s.a.createElement(\"div\",{style:{marginBottom:\"1em\"}},s.a.createElement(F.Checkbox,{onClick:this._setUseTargetCollateral.bind(this)},s.a.createElement(h.a,{content:\"borrow.enable_target_collateral_ratio\"})))))),s.a.createElement(\"div\",{className:\"no-padding grid-content button-group no-overflow\"},s.a.createElement(\"div\",{onClick:this._onSubmit.bind(this),className:E()(\"button\")},s.a.createElement(h.a,{content:\"borrow.adjust\"})),s.a.createElement(\"div\",{onClick:function(t){t.preventDefault(),e.setState(e._initialState(e.props))},className:\"button hollow primary\"},s.a.createElement(h.a,{content:\"wallet.reset\"}))))))}}]),t}();D.propTypes={quote_asset:f.a.ChainAsset.isRequired,bitasset_balance:f.a.ChainObject,backing_asset:f.a.ChainAsset.isRequired,backing_balance:f.a.ChainObject,call_orders:f.a.ChainObjectsList,hasCallOrders:i.a.bool},D=Object(y.a)(D);var z=function(e){function t(){R(this,t);var e=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={smallScreen:!1,open:!1},e}return L(t,s.a.Component),I(t,[{key:\"show\",value:function(){var e=this;this.setState({open:!0},function(){c.a.publish(e.props.modalId,\"open\")})}},{key:\"onClose\",value:function(){this.setState({open:!1})}},{key:\"componentWillMount\",value:function(){this.setState({smallScreen:window.innerHeight<=800})}},{key:\"render\",value:function(){var e=this.props,t=e.quote_asset,a=e.backing_asset,r=e.account,n=r.get(\"balances\").toJS(),o=void 0,i=void 0;if(n)for(var l in n)l===a&&(o=n[l]),l===t&&(i=n[l]);return this.state.open?s.a.createElement(u.a,{id:this.props.modalId,overlay:!0,onClose:this.onClose.bind(this),ref:this.props.modalId},s.a.createElement(\"div\",{className:\"grid-block vertical\"},s.a.createElement(D,{quote_asset:t,call_orders:r.get(\"call_orders\",Object(T.List)()).toList(),hasCallOrders:r.get(\"call_orders\")&&r.get(\"call_orders\").size>0,modalId:this.props.modalId,bitasset_balance:i,backing_balance:o,backing_asset:a,hide_help:this.state.smallScreen,account:r}))):null}}]),t}();t.a=z},1835:function(e,t,a){\"use strict\";(function(e){var r=a(302),n=a(0),s=a.n(n),o=a(36),i=a.n(o),l=a(90),c=a(3),u=a.n(c),p=a(26),d=a(16),m=a(45),h=a(35),f=a(44),b=a(100),g=a.n(b),y=a(14),_=a.n(y),v=a(75),k=a(305),E=a(20),w=a(39),S=a(140),C=a(138),A=a(10),x=a(263),O=a(40),N=a(34),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},T=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function B(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function j(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function q(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=function(t){function a(e){B(this,a);var t=j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.state={toAddress:v.a.getLast(e.walletType),withdrawValue:\"\",amountError:null,symbol:e.asset.get(\"symbol\"),to_withdraw:new p.a({asset_id:e.asset.get(\"id\"),precision:e.asset.get(\"precision\")}),fee_asset_id:\"1.3.0\",feeStatus:{},loading:!1,emptyAddressDeposit:!1},t._validateAddress(t.state.toAddress,e),t.addDepositAddress=t.addDepositAddress.bind(t),t._checkFeeStatus=t._checkFeeStatus.bind(t),t._checkBalance=t._checkBalance.bind(t),t._getCurrentBalance=t._getCurrentBalance.bind(t),t._getFee=t._getFee.bind(t),t._updateFee=Object(r.a)(t._updateFee.bind(t),250),t}return q(a,x[\"a\"]),T(a,[{key:\"componentWillMount\",value:function(){this._getDepositAddress(),this._updateFee(),this._checkFeeStatus()}},{key:\"componentWillReceiveProps\",value:function(e){e.asset&&this.props.asset&&e.asset.get(\"id\")!==this.props.asset.get(\"id\")&&this.setState({to_withdraw:new p.a({asset_id:e.asset.get(\"id\"),precision:e.asset.get(\"precision\")}),gateFee:e.asset.get(\"gateFee\"),intermediateAccount:e.asset.get(\"intermediateAccount\"),symbol:e.asset.get(\"symbol\"),memo:\"\",withdrawValue:\"\",receive_address:null,toAddress:v.a.getLast(e.walletType)},this._getDepositAddress)}},{key:\"_getDepositAddress\",value:function(){if(this.props.backingCoinType){var e=Object(v.j)({coin:\"open.\"+this.props.backingCoinType.toLowerCase(),account:this.props.account,stateCallback:this.addDepositAddress});e?this.setState({receive_address:e}):Object(v.l)(this._getDepositObject())}}},{key:\"_getDepositObject\",value:function(){return{inputCoinType:this.props.backingCoinType.toLowerCase(),outputCoinType:this.props.symbol.toLowerCase(),outputAddress:this.props.sender.get(\"name\"),stateCallback:this.addDepositAddress}}},{key:\"requestDepositAddressLoad\",value:function(){this.setState({loading:!0,emptyAddressDeposit:!1}),Object(v.l)(this._getDepositObject())}},{key:\"addDepositAddress\",value:function(e){e.error&&(\"no_address\"===e.error.message?this.setState({emptyAddressDeposit:!0}):this.setState({emptyAddressDeposit:!1})),this.setState({receive_address:e,loading:!1})}},{key:\"componentDidUpdate\",value:function(){g.a.rebuild()}},{key:\"onSubmit\",value:function(t){if(t.preventDefault(),0===this.state.to_withdraw.getAmount())return this.setState({amountError:\"transfer.errors.pos\"});if(this.props.intermediateAccount){var a=this._getFee(),r=this._getGateFee(),n=this.state.to_withdraw.clone(),s=n.clone(this._getCurrentBalance().get(\"balance\"));n.plus(r),s.lt(n)&&(n=this.state.to_withdraw.clone()),f.a.transfer(this.props.sender.get(\"id\"),this.props.intermediateAccount,this.state.to_withdraw.getAmount(),this.state.to_withdraw.asset_id,this.props.backingCoinType.toLowerCase()+\":\"+this.state.toAddress+(this.state.memo?\":\"+new e(this.state.memo,\"utf-8\"):\"\"),null,a.asset_id)}}},{key:\"_updateAmount\",value:function(){var e=this._getFee(),t=this._getCurrentBalance(),a=new p.a({amount:t?t.get(\"balance\"):0,asset_id:this.props.asset.get(\"id\"),precision:this.props.asset.get(\"precision\")});a.asset_id===e.asset_id&&a.minus(e),this.state.to_withdraw.setAmount({sats:a.getAmount()}),this.setState({withdrawValue:a.getAmount({real:!0}),amountError:null},this._checkBalance)}},{key:\"_checkFeeStatus\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.sender;if(t){var a=[\"1.3.0\",this.state.to_withdraw.asset_id],r={},n=[];a.forEach(function(a){n.push(Object(S.b)({accountID:t.get(\"id\"),feeID:a,options:[\"price_per_kbyte\"],data:{type:\"memo\",content:e.props.backingCoinType.toLowerCase()+\":\"+e.state.toAddress+(e.state.memo?\":\"+e.state.memo:\"\")}}))}),Promise.all(n).then(function(t){a.forEach(function(e,a){r[e]=t[a]}),d.a.are_equal_shallow(e.state.feeStatus,r)||e.setState({feeStatus:r}),e._checkBalance()}).catch(function(e){console.error(e)})}}},{key:\"_updateFee\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.fee_asset_id;if(!this.props.sender)return null;Object(S.b)({accountID:this.props.sender.get(\"id\"),feeID:t,options:[\"price_per_kbyte\"],data:{type:\"memo\",content:this.props.backingCoinType.toLowerCase()+\":\"+this.state.toAddress+(this.state.memo?\":\"+this.state.memo:\"\")}}).then(function(t){var a=t.fee,r=t.hasBalance,n=t.hasPoolBalance;e.setState({feeAmount:a,hasBalance:r,hasPoolBalance:n,error:!r||!n},e._checkFeeStatus)})}},{key:\"_getCurrentBalance\",value:function(){var e=this;return(this.props.balance?[this.props.balance]:this.props.balances).find(function(t){return t&&t.get(\"asset_type\")===e.props.asset.get(\"id\")})}},{key:\"_checkBalance\",value:function(){var e=this.state,t=e.feeAmount,a=e.to_withdraw,r=this.props.asset,n=this._getCurrentBalance();if(n&&t){var s=Object(S.a)(a.getAmount({real:!0}),r,this._getFee(),n,this._getGateFee());if(null!==s)return this.state.balanceError!==!s&&this.setState({balanceError:!s}),s}}},{key:\"_getFee\",value:function(){var e={getAmount:function(){return 0},asset_id:this.state.fee_asset_id};if(!this.state.feeStatus||!this.state.feeAmount)return e;var t=this.state.feeStatus[\"1.3.0\"],a=this.state.feeStatus[this.state.to_withdraw.asset_id];return t&&t.hasBalance?t.fee:t&&!t.hasBalance&&a&&a.hasBalance?a.fee:t?t.fee:e}},{key:\"_onInputAmount\",value:function(e){try{this.state.to_withdraw.setAmount({real:parseFloat(e.target.value||0)}),this.setState({withdrawValue:e.target.value,amountError:null},this._checkBalance)}catch(e){console.error(\"err:\",e)}}},{key:\"_onInputTo\",value:function(e){var t=e.target.value.trim();this.setState({withdraw_address_check_in_progress:!0,withdraw_address_selected:t,validAddress:null,toAddress:t}),this._validateAddress(t)}},{key:\"_onMemoChanged\",value:function(e){this.setState({memo:e.target.value},this._updateFee)}},{key:\"_validateAddress\",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object(v.m)({url:O.g.BASE,walletType:a.walletType,newAddress:e}).then(function(a){t.state.toAddress===e&&t.setState({withdraw_address_check_in_progress:!1,validAddress:!!a})}).catch(function(e){console.error(\"Error when validating address:\",e)})}},{key:\"_openRegistrarSite\",value:function(e){e.preventDefault(),window.open(SettingsStore.site_registr,\"_blank\").opener=null}},{key:\"_getGateFee\",value:function(){var e=this.props,t=e.gateFee,a=e.asset;return new p.a({real:parseFloat(t?t.replace(\",\",\"\"):0),asset_id:a.get(\"id\"),precision:a.get(\"precision\")})}},{key:\"_renderWithdraw\",value:function(){var e=this.state.amountError,t=d.a.replaceName(this.props.asset).name,a=1,r=this.props.supportsMemos,n=this._getFee(),o=this._getGateFee(),i=this.state.feeStatus[n.asset_id],l=A.ChainStore.getAsset(n.asset_id),c=i&&!i.hasBalance||this.state.balanceError||!this.state.toAddress||!this.state.withdrawValue;return s.a.createElement(\"div\",null,s.a.createElement(\"p\",null,s.a.createElement(u.a,{content:\"gateway.withdraw_funds\",asset:t,wallet_name:Object(N.l)()})),this._renderCurrentBalance(),s.a.createElement(\"div\",{className:\"SimpleTrade__withdraw-row\"},s.a.createElement(\"label\",{className:\"left-label\"},_.a.translate(\"modal.withdraw.amount\")),s.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},s.a.createElement(\"input\",{tabIndex:a++,type:\"number\",min:\"0\",onKeyPress:this.onKeyPress.bind(this),value:this.state.withdrawValue,onChange:this._onInputAmount.bind(this)}),s.a.createElement(\"div\",{className:\"form-label select floating-dropdown\"},s.a.createElement(\"div\",{className:\"dropdown-wrapper inactive\"},s.a.createElement(\"div\",null,t)))),e?s.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},s.a.createElement(u.a,{content:e})):null,this.state.balanceError?s.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},s.a.createElement(u.a,{content:\"transfer.errors.insufficient\"})):null),s.a.createElement(\"div\",{className:\"SimpleTrade__withdraw-row\"},s.a.createElement(\"label\",{className:\"left-label\"},_.a.translate(\"transfer.fee\")),s.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},s.a.createElement(\"input\",{type:\"text\",disabled:!0,value:n.getAmount({real:!0})}),s.a.createElement(\"div\",{className:\"form-label select floating-dropdown\"},s.a.createElement(\"div\",{className:\"dropdown-wrapper inactive\"},s.a.createElement(\"div\",null,l?s.a.createElement(C.a,{name:l.get(\"symbol\")}):null)))),i&&!i.hasBalance?s.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},s.a.createElement(u.a,{content:\"transfer.errors.insufficient\"})):null),s.a.createElement(\"div\",{className:\"SimpleTrade__withdraw-row\"},s.a.createElement(\"label\",{className:\"left-label\"},_.a.translate(\"gateway.fee\")),s.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},s.a.createElement(\"input\",{type:\"text\",disabled:!0,value:o.getAmount({real:!0})}),s.a.createElement(\"div\",{className:\"form-label select floating-dropdown\"},s.a.createElement(\"div\",{className:\"dropdown-wrapper inactive\"},s.a.createElement(\"div\",null,s.a.createElement(C.a,{name:this.props.asset.get(\"symbol\")}))))),i&&!i.hasBalance?s.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},s.a.createElement(u.a,{content:\"transfer.errors.insufficient\"})):null),s.a.createElement(\"div\",{className:\"SimpleTrade__withdraw-row\"},s.a.createElement(\"label\",{className:\"left-label\"},_.a.translate(\"modal.withdraw.address\")),s.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},s.a.createElement(\"input\",{placeholder:_.a.translate(\"gateway.withdraw_placeholder\",{asset:t}),tabIndex:a++,type:\"text\",value:this.state.toAddress,onChange:this._onInputTo.bind(this)}),s.a.createElement(\"div\",{className:\"form-label select floating-dropdown\"},s.a.createElement(\"div\",{className:\"dropdown-wrapper inactive\"},s.a.createElement(\"div\",{\"data-place\":\"right\",\"data-tip\":_.a.translate(\"tooltip.withdraw_address\",{asset:t})},\"?\")))),!this.state.validAddress&&this.state.toAddress?s.a.createElement(\"div\",{className:\"has-error\",style:{paddingTop:10}},s.a.createElement(u.a,{content:\"gateway.valid_address\",coin_type:t})):null),r?s.a.createElement(\"div\",{className:\"SimpleTrade__withdraw-row\"},s.a.createElement(\"label\",{className:\"left-label\"},_.a.translate(\"transfer.memo\")),s.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},s.a.createElement(\"textarea\",{rows:\"3\",value:this.state.memo,tabIndex:a++,onChange:this._onMemoChanged.bind(this)})),!this.state.validAddress&&this.state.toAddress?s.a.createElement(\"div\",{className:\"has-error\",style:{paddingTop:10}},s.a.createElement(u.a,{content:\"gateway.valid_address\",coin_type:t})):null):null,s.a.createElement(\"div\",{className:\"button-group SimpleTrade__withdraw-row\"},s.a.createElement(\"button\",{tabIndex:a++,className:\"button\"+(c?\" disabled\":\"\"),onClick:this.onSubmit.bind(this),type:\"submit\"},s.a.createElement(u.a,{content:\"gateway.withdraw_now\"}))))}},{key:\"_renderDeposit\",value:function(){var e=this.state,t=e.receive_address,a=e.loading,r=e.emptyAddressDeposit,n=d.a.replaceName(this.props.asset).name,o=t&&\"memo\"in t&&t.memo,i=t&&t.address||\"\",l=1;return s.a.createElement(\"div\",{className:i?\"\":\"no-overflow\"},s.a.createElement(\"p\",null,s.a.createElement(u.a,{unsafe:!0,content:\"gateway.add_funds\",account:this.props.sender.get(\"name\"),wallet_name:Object(N.l)()})),this._renderCurrentBalance(),s.a.createElement(\"div\",{className:\"SimpleTrade__withdraw-row\"},s.a.createElement(\"p\",{style:{marginBottom:10},\"data-place\":\"right\",\"data-tip\":_.a.translate(\"tooltip.deposit_tip\",{asset:n})},s.a.createElement(u.a,{className:\"help-tooltip\",content:\"gateway.deposit_to\",asset:n}),\":\",s.a.createElement(\"label\",{className:\"fz_12 left-label\"},s.a.createElement(u.a,{content:\"gateway.deposit_notice_delay\"}))),i?s.a.createElement(\"label\",null,r?s.a.createElement(u.a,{content:\"gateway.please_generate_address\"}):s.a.createElement(\"span\",{className:\"inline-label\"},s.a.createElement(\"input\",{readOnly:!0,type:\"text\",value:i}),s.a.createElement(k.a,{text:i}),\" \")):s.a.createElement(w.a,{type:\"three-bounce\"}),o?s.a.createElement(\"label\",null,s.a.createElement(\"span\",{className:\"inline-label\"},s.a.createElement(\"input\",{readOnly:!0,type:\"text\",value:_.a.translate(\"transfer.memo\")+\": \"+t.memo}),s.a.createElement(k.a,{text:t.memo}))):null,t&&t.error?s.a.createElement(\"div\",{className:\"has-error\",style:{paddingTop:10}},t.error.message):null),s.a.createElement(\"div\",{className:\"button-group SimpleTrade__withdraw-row\"},s.a.createElement(\"button\",{tabIndex:l++,className:\"button spinner-button-circle\",onClick:this.requestDepositAddressLoad.bind(this),type:\"submit\"},a?s.a.createElement(w.a,{type:\"circle\"}):null,s.a.createElement(u.a,{content:\"gateway.generate_new\"}))))}},{key:\"_renderCurrentBalance\",value:function(){var e=d.a.replaceName(this.props.asset).name,t=\"deposit\"===this.props.action,a=this._getCurrentBalance(),r=a?new p.a({asset_id:a.get(\"asset_type\"),precision:this.props.asset.get(\"precision\"),amount:a.get(\"balance\")}):null,n=t?s.a.createElement(\"span\",{style:{border:\"2px solid black\",borderLeft:\"none\"},className:\"form-label\"},e):s.a.createElement(\"button\",{\"data-place\":\"right\",\"data-tip\":_.a.translate(\"tooltip.withdraw_full\"),className:\"button\",style:{border:\"2px solid black\",borderLeft:\"none\"},onClick:this._updateAmount.bind(this,a?parseInt(a.get(\"balance\"),10):0)},s.a.createElement(E.a,{name:\"clippy\",title:\"icons.clippy.withdraw_full\"}));return s.a.createElement(\"div\",{className:\"SimpleTrade__withdraw-row\",style:{fontSize:\"1rem\"}},s.a.createElement(\"label\",{style:{fontSize:\"1rem\"}},_.a.translate(\"gateway.balance_asset\",{asset:e}),\":\",s.a.createElement(\"span\",{className:\"inline-label\"},s.a.createElement(\"input\",{disabled:!0,style:{color:\"black\",border:\"2px solid black\",padding:10,width:\"100%\"},value:r?r.getAmount({real:!0}):0}),n)))}},{key:\"render\",value:function(){var e=this.props,t=e.asset,a=\"deposit\"===e.action;if(!t)return null;var r=d.a.replaceName(t).name,n=this.props.isDown?s.a.createElement(\"div\",null,s.a.createElement(u.a,{className:\"txtlabel cancel\",content:\"gateway.unavailable_OPEN\",component:\"p\"})):this.props.isAvailable?a?this._renderDeposit():this._renderWithdraw():s.a.createElement(\"div\",null,s.a.createElement(u.a,{className:\"txtlabel cancel\",content:\"gateway.unavailable\",component:\"p\"}));return s.a.createElement(\"div\",{className:\"SimpleTrade__modal\"},s.a.createElement(\"div\",{className:\"Modal__header\"},s.a.createElement(\"h3\",null,s.a.createElement(u.a,{content:a?\"gateway.deposit\":\"modal.withdraw.submit\"}),\" \",r)),s.a.createElement(\"div\",{className:\"Modal__divider\"}),s.a.createElement(\"div\",{className:\"grid-block vertical no-overflow\",style:{zIndex:1002,paddingLeft:\"2rem\",paddingRight:\"2rem\",paddingTop:\"1rem\"}},n))}}]),a}();F.propTypes={balance:h.a.ChainObject,sender:h.a.ChainAccount.isRequired,asset:h.a.ChainAsset.isRequired,coreAsset:h.a.ChainAsset.isRequired,globalObject:h.a.ChainAsset.isRequired},F.defaultProps={coreAsset:\"1.3.0\",globalObject:\"2.0.0\"},F=Object(m.a)(F);var I=function(e){function t(){B(this,t);var e=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return q(t,s.a.Component),T(t,[{key:\"show\",value:function(){var e=this;this.setState({open:!0},function(){i.a.publish(e.props.modalId,\"open\")})}},{key:\"onClose\",value:function(){this.setState({open:!1})}},{key:\"render\",value:function(){return this.state.open?s.a.createElement(l.a,{className:\"test\",onClose:this.onClose.bind(this),overlay:!0,id:this.props.modalId},this.state.open?s.a.createElement(F,P({},this.props,{open:this.state.open})):null):null}}]),t}();t.a=I}).call(this,a(114).Buffer)},1836:function(e,t,a){\"use strict\";var r=a(0),n=a.n(r),s=a(36),o=a.n(s),i=a(90),l=a(3),c=a.n(l),u=a(26),p=a(16),d=a(45),m=a(35),h=a(100),f=a.n(h),b=a(14),g=a.n(b),y=a(75),_=a(520),v=a(305),k=a(20),E=a(39),w=a(40),S=a(332),C=a(33),A=a(21),x=a(22),O=a(518),N=a.n(O),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},T=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function B(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function j(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function q(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=function(e){function t(e){B(this,t);var a=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={toAddress:y.a.getLast(e.walletType),withdrawValue:\"\",amountError:null,inputAmount:0,receiveLoading:!1,limitLoading:!0,apiError:!1},a._validateAddress(a.state.toAddress,e),a.deposit_address_cache=new _.a,a}return q(t,n.a.Component),T(t,[{key:\"onClose\",value:function(){o.a.publish(this.props.modalId,\"close\")}},{key:\"componentWillMount\",value:function(){this._getDepositAddress()}},{key:\"componentDidMount\",value:function(){this._getDepositLimit(),this._estimateOutput()}},{key:\"componentWillReceiveProps\",value:function(e){e.inputCoinType===this.props.inputCoinType&&e.outputCoinType===this.props.outputCoinType||(this._getDepositLimit(e),this._estimateOutput(e),this._getDepositAddress(e))}},{key:\"shouldComponentUpdate\",value:function(e,t){return e.inputCoinType!==this.props.inputCoinType||e.outputCoinType!==this.props.outputCoinType||e.sender!==this.props.sender||e.asset!==this.props.asset||e.isAvailable!==this.props.isAvailable||e.isDown!==this.props.isDown||!p.a.are_equal_shallow(t,this.state)}},{key:\"_getDepositLimit\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({limitLoading:!0}),Object(y.k)(t.inputCoinType,t.outputCoinType).then(function(t){e.setState({depositLimit:t.depositLimit,limitLoading:!1})}).catch(function(t){console.log(\"deposit limit error:\",t),e.setState({depositLimit:null,limitLoading:!1})})}},{key:\"_onAmountChange\",value:function(e,t){var a=new RegExp(/[[:digit:]]/),r=t.target;switch(a.test(r.value)||(r.value=r.value.replace(/[^0-9.]/g,\"\")),\".\"==r.value.charAt(0)&&(r.value=\"0.\"),r.value.charAt(r.value.length)!=r.value.search(\".\")&&r.value.substr(1),r.value=p.a.limitByPrecision(r.value,8),e){case\"input\":this.setState({inputAmount:r.value},this._estimateOutput.bind(this));break;case\"output\":this.setState({outputAmount:r.value},this._estimateInput.bind(this))}}},{key:\"_estimateOutput\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({receiveAmount:0,sendAmount:this.state.inputAmount}),this.state.inputAmount&&(this.setState({receiveLoading:!0}),Object(y.c)(this.state.inputAmount,t.inputCoinType,t.outputCoinType).then(function(t){e.setState({inputAmount:t.inputAmount,receiveAmount:t.outputAmount,receiveLoading:!1})}).catch(function(t){console.log(\"receive amount err:\",t),e.setState({receiveLoading:!1,apiError:!0})}))}},{key:\"_estimateInput\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({receiveAmount:this.state.outputAmount,sendAmount:0}),this.state.outputAmount&&(this.setState({receiveLoading:!0}),Object(y.b)(this.state.outputAmount,t.inputCoinType,t.outputCoinType).then(function(t){e.setState({inputAmount:t.inputAmount,sendAmount:p.a.limitByPrecision(t.inputAmount,8),receiveLoading:!1})}).catch(function(t){console.log(\"send amount err:\",t),e.setState({receiveLoading:!1,apiError:!0})}))}},{key:\"_getDepositAddress\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(e.inputCoinType){this.setState({receive_address:null}),Object(y.l)(this._getDepositObject(e))}}},{key:\"_getDepositObject\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{inputCoinType:t.inputCoinType.toLowerCase(),outputCoinType:t.outputCoinType.toLowerCase(),outputAddress:t.sender.get(\"name\"),url:w.b.BASE,stateCallback:function(a){e.addDepositAddress(t.inputCoinType.toLowerCase(),t.outputCoinType.toLowerCase(),t.sender.get(\"name\"),a)}}}},{key:\"addDepositAddress\",value:function(e,t,a,r){this.deposit_address_cache.cacheInputAddress(\"blocktrades\",a,e,t,r.address,r.memo),this.setState({receive_address:r})}},{key:\"componentDidUpdate\",value:function(){f.a.rebuild()}},{key:\"_validateAddress\",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object(y.m)({walletType:a.walletType,newAddress:e}).then(function(a){t.state.toAddress===e&&t.setState({withdraw_address_check_in_progress:!1,validAddress:a})}).catch(function(e){console.error(\"Error when validating address:\",e)})}},{key:\"_openRegistrarSite\",value:function(e){e.preventDefault(),window.open(A.a.site_registr,\"_blank\").opener=null}},{key:\"_onDropDownSelect\",value:function(e){x.a.changeViewSetting({preferredBridge:e})}},{key:\"onBlockTradesContact\",value:function(){console.log(\"Open New Tab\"),window.open(\"https://www.blocktrades.us/contact\",\"_blank\").focus()}},{key:\"_renderDeposit\",value:function(){var e=p.a.replaceName(this.props.asset),t=e.name,a=e.prefix,r=this.state,s=r.receive_address,o=r.apiError,i=s&&\"memo\"in s&&s.memo,l=s&&s.address||\"\",u=n.a.createElement(\"div\",{className:\"QR\",style:{textAlign:\"center\"}},n.a.createElement(N.a,{size:140,value:l})),d=Object.keys(this.props.bridges.toJS()),m=this.props.inputCoinType.toUpperCase(),h=(a||\"\")+t,f=(this.state.receiveAmount/this.state.inputAmount).toFixed(4),b=h+\"/\"+m,y=this.state.inputAmount>parseFloat(this.state.depositLimit)||this.state.sendAmount>parseFloat(this.state.depositLimit),_=y?{border:\"1px solid #a94442\"}:null;return n.a.createElement(\"div\",{className:\"modal__body\"},n.a.createElement(\"div\",{className:\"container-row\"},n.a.createElement(\"label\",{className:\"left-label\"},n.a.createElement(c.a,{content:\"modal.buy.asset\"})),n.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},n.a.createElement(\"input\",{disabled:!0,type:\"text\",defaultValue:h}))),n.a.createElement(\"div\",{className:\"container-row\"},n.a.createElement(\"div\",{className:\"grid-block\"},n.a.createElement(\"label\",{className:\"left-label\"},n.a.createElement(c.a,{content:\"modal.buy.bridge\"})),n.a.createElement(\"span\",{\"data-tip\":g.a.translate(\"tooltip.bridge_TRADE\"),className:\"inline-block tooltip\",onClick:this.onBlockTradesContact.bind(this)},\" \",n.a.createElement(k.a,{style:{position:\"relative\",top:0},name:\"question-circle\",title:\"icons.question_circle\"}))),n.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},n.a.createElement(\"input\",{disabled:!0,type:\"text\",defaultValue:\"BLOCKTRADES\"}),\" \")),n.a.createElement(\"span\",{style:o?{display:\"none\"}:{display:\"\"}},n.a.createElement(\"div\",{className:\"container-row double-row\"},n.a.createElement(\"div\",{className:\"no-margin no-padding\"},n.a.createElement(\"div\",{className:\"small-6\",style:{paddingRight:10}},n.a.createElement(\"div\",{className:\"grid-block\"},n.a.createElement(\"label\",{className:\"left-label\"},n.a.createElement(c.a,{content:\"transfer.send\"})),y?n.a.createElement(\"div\",{className:\"error-msg inline-block tooltip\",\"data-tip\":g.a.translate(\"tooltip.over_limit\")},n.a.createElement(c.a,{content:\"gateway.over_limit\"}),\" \",n.a.createElement(k.a,{name:\"question-circle\",title:\"icons.question_circle\"})):null),n.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},n.a.createElement(\"input\",{style:_,type:\"text\",value:this.state.sendAmount,onInput:this._onAmountChange.bind(this,\"input\")}),n.a.createElement(\"div\",{className:\"form-label select floating-dropdown\"},n.a.createElement(S.a,{entries:d,values:d.reduce(function(e,t){return t&&(e[t]=t),e},{}),singleEntry:d[0],value:this.props.preferredBridge||d[0],onChange:this._onDropDownSelect,upperCase:!0})))),n.a.createElement(\"div\",{className:\"small-6\",style:{paddingLeft:10}},n.a.createElement(\"label\",{className:\"left-label\"},n.a.createElement(c.a,{content:\"gateway.deposit_limit\"})),n.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},n.a.createElement(\"input\",{disabled:!0,type:\"number\",value:this.state.depositLimit&&parseFloat(this.state.depositLimit).toFixed(4)||0}),n.a.createElement(\"div\",{className:\"input-right-symbol\"},m))))),n.a.createElement(\"div\",{className:\"container-row double-row\"},n.a.createElement(\"div\",{className:\"no-margin no-padding\"},n.a.createElement(\"div\",{className:\"small-6\",style:{paddingRight:10}},n.a.createElement(\"label\",{className:\"left-label\"},n.a.createElement(c.a,{content:\"exchange.receive\"})),n.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},n.a.createElement(\"input\",{style:_,type:\"text\",value:this.state.receiveAmount,onInput:this._onAmountChange.bind(this,\"output\")}),n.a.createElement(\"div\",{className:\"input-right-symbol\"},h))),n.a.createElement(\"div\",{className:\"small-6\",style:{paddingLeft:10}},n.a.createElement(\"div\",{className:\"grid-block\"},n.a.createElement(\"label\",{className:\"left-label\"},n.a.createElement(c.a,{content:\"exchange.price\"}),\"  \",this.state.receiveLoading?n.a.createElement(c.a,{content:\"footer.loading\"}):\"\")),n.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},n.a.createElement(\"input\",{disabled:!0,type:\"number\",value:y?0:f}),n.a.createElement(\"div\",{className:\"input-right-symbol\"},b))))),l?n.a.createElement(\"div\",{className:\"container-row\"},i?null:u,n.a.createElement(\"div\",{className:\"grid-block\"},n.a.createElement(\"div\",{className:\"copyIcon\"},n.a.createElement(v.a,{text:l,className:\"copyIcon\"})),n.a.createElement(\"div\",null,n.a.createElement(c.a,{component:\"div\",style:{fontSize:\"0.8rem\",fontWeight:\"bold\",paddingBottom:\"0.3rem\"},content:\"gateway.purchase_notice\",inputAsset:m,outputAsset:h}),n.a.createElement(\"div\",{className:\"modal__highlight\"},l))),i?n.a.createElement(\"div\",{className:\"grid-block\",style:{marginTop:\"10px\"}},n.a.createElement(\"div\",{className:\"copyIcon\"},n.a.createElement(v.a,{text:s.memo,className:\"copyIcon\"})),n.a.createElement(\"div\",null,n.a.createElement(c.a,{unsafe:!0,content:\"gateway.purchase_notice_memo\",component:\"div\",style:{fontSize:\"0.8rem\",fontWeight:\"bold\",paddingBottom:\"0.3rem\"}}),n.a.createElement(\"div\",{className:\"modal__highlight\"},s.memo))):null):n.a.createElement(\"div\",{style:{textAlign:\"center\"}},n.a.createElement(E.a,{type:\"three-bounce\"})),n.a.createElement(\"div\",null,n.a.createElement(\"div\",{className:\"no-margin no-padding\"},n.a.createElement(\"button\",{className:\"button primary hollow\",onClick:this.onClose.bind(this)},n.a.createElement(c.a,{content:\"transfer.close\"}))))),n.a.createElement(\"span\",{style:o?{display:\"\"}:{display:\"none\"}},n.a.createElement(\"div\",{className:\"container-row double-row\"},n.a.createElement(c.a,{className:\"txtlabel cancel\",content:\"gateway.unavailable_TRADE\",component:\"h3\"}),n.a.createElement(\"button\",{className:\"button primary hollow\",onClick:this.onClose.bind(this)},n.a.createElement(c.a,{content:\"transfer.close\"})))))}},{key:\"_renderCurrentBalance\",value:function(){var e=this,t=p.a.replaceName(this.props.asset).name,a=\"deposit\"===this.props.action,r=this.props.balances.find(function(t){return t&&t.get(\"asset_type\")===e.props.asset.get(\"id\")}),s=r?new u.a({asset_id:r.get(\"asset_type\"),precision:this.props.asset.get(\"precision\"),amount:r.get(\"balance\")}):null,o=a?n.a.createElement(\"span\",{style:{border:\"2px solid black\",borderLeft:\"none\"},className:\"form-label\"},t):n.a.createElement(\"button\",{\"data-place\":\"right\",\"data-tip\":g.a.translate(\"tooltip.withdraw_full\"),className:\"button\",style:{border:\"2px solid black\",borderLeft:\"none\"},onClick:this._updateAmount.bind(this,r?parseInt(r.get(\"balance\"),10):0)},n.a.createElement(k.a,{name:\"clippy\",title:\"icons.clippy.withdraw_full\"}));return n.a.createElement(\"div\",{className:\"SimpleTrade__withdraw-row\",style:{fontSize:\"1rem\"}},n.a.createElement(\"label\",{style:{fontSize:\"1rem\"}},g.a.translate(\"gateway.balance_asset\",{asset:t}),\":\",n.a.createElement(\"span\",{className:\"inline-label\"},n.a.createElement(\"input\",{disabled:!0,style:{color:\"black\",border:\"2px solid black\",padding:10,width:\"100%\"},value:s?s.getAmount({real:!0}):0}),o)))}},{key:\"render\",value:function(){return this.props.asset?n.a.createElement(\"div\",{className:\"grid-block vertical no-overflow\"},n.a.createElement(\"div\",{className:\"modal__header\"},n.a.createElement(c.a,{component:\"p\",content:\"modal.buy.title\"})),this.props.isDown?n.a.createElement(\"div\",{style:{textAlign:\"center\"}},n.a.createElement(c.a,{className:\"txtlabel cancel\",content:\"gateway.unavailable_TRADE\",component:\"p\"})):this.props.isAvailable?this._renderDeposit():n.a.createElement(\"div\",{style:{textAlign:\"center\"}},n.a.createElement(c.a,{className:\"txtlabel cancel\",content:\"gateway.unavailable\",component:\"p\"}))):null}}]),t}();F.propTypes={sender:m.a.ChainAccount.isRequired,asset:m.a.ChainAsset.isRequired},F=Object(d.a)(F);var I=function(e){function t(){return B(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return q(t,n.a.Component),T(t,[{key:\"render\",value:function(){var e=this.props,t=e.preferredBridge,a=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,[\"preferredBridge\"]),r=this.props.bridges.get(this.props.preferredBridge);return r||(t=(r=this.props.bridges.first()).inputCoinType),n.a.createElement(F,P({},a,{preferredBridge:t},r.toJS()))}}]),t}();I=Object(C.a)(I,{listenTo:function(){return[A.a]},getProps:function(){return{preferredBridge:A.a.getState().viewSettings.get(\"preferredBridge\",\"btc\")}}});var R=function(e){function t(){B(this,t);var e=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return q(t,n.a.Component),T(t,[{key:\"show\",value:function(){var e=this;this.setState({open:!0},function(){o.a.publish(e.props.modalId,\"open\")})}},{key:\"onClose\",value:function(){this.setState({open:!1})}},{key:\"render\",value:function(){return this.props.bridges&&this.state.open?n.a.createElement(i.a,{id:this.props.modalId,onClose:this.onClose.bind(this),noCloseBtn:!0,overlay:!0},this.state.open?n.a.createElement(I,P({},this.props,{open:this.state.open})):null):null}}]),t}();t.a=R},1846:function(e,t,a){\"use strict\";var r=a(302),n=a(0),s=a.n(n),o=a(11),i=a.n(o),l=a(1791),c=a.n(l),u=a(16),p=a(3),d=a.n(p),m=a(31),h=a(33),f=a(30),b=a(115),g=a(35),y=a(45),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),_(t,[{key:\"render\",value:function(){return this.props.account?s.a.createElement(\"span\",null,this.props.account.get(\"name\")):null}}]),t}();v.propTypes={account:g.a.ChainObject.isRequired},v.defaultProps={autosubscribe:!1};var k=Object(y.a)(v),E=a(20),w=a(82),S=a(22),C=a(2095),A=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var x=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.statsInterval=null,e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),A(t,[{key:\"_onClick\",value:function(e){\"/market/\"+e!==this.props.location.pathname&&(w.a.switchMarket(),this.props.history.push(\"/market/\"+e))}},{key:\"componentDidMount\",value:function(){this.statsChecked=new Date,this.statsInterval=w.a.getMarketStatsInterval(35e3,this.props.base,this.props.quote)}},{key:\"componentWillUnmount\",value:function(){this.statsInterval&&this.statsInterval()}},{key:\"shouldComponentUpdate\",value:function(e){return!u.a.are_equal_shallow(e,this.props)}},{key:\"_onStar\",value:function(e,t,a){a.preventDefault(),this.props.starred?S.a.removeStarMarket(e,t):S.a.addStarMarket(e,t)}},{key:\"render\",value:function(){var e=this,t=this.props,a=t.quote,r=t.base,n=(t.noSymbols,t.stats),o=t.starred;if(!a||!r)return null;var i=a.get(\"symbol\")+\"_\"+r.get(\"symbol\"),l=a.get(\"symbol\")+\":\"+r.get(\"symbol\"),c=this.props.getDynamicObject(a.get(\"dynamic_asset_data_id\")),p=this.props.getDynamicObject(r.get(\"dynamic_asset_data_id\")),d=u.a.convertPrice(a,r),m={};this.props.leftAlign&&(m.textAlign=\"left\");var h=\"button outline\",b=null;this.props.compact&&(h+=\" no-margin\",b={marginBottom:0,fontSize:\"0.75rem\",padding:\"4px 10px\",borderRadius:\"0px\",letterSpacing:\"0.05rem\"});var g=this.props.columns.map(function(t){switch(t.name){case\"star\":var m=o?\"gold-star\":\"grey-star\";return s.a.createElement(\"td\",{onClick:e._onStar.bind(e,a.get(\"symbol\"),r.get(\"symbol\")),key:t.index},s.a.createElement(E.a,{className:m,name:\"fi-star\",title:\"icons.fi_star.symbol\"}));case\"vol\":var g=n?n.volumeBase:0;return s.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),className:\"text-right\",key:t.index},u.a.format_volume(g));case\"change\":var y=u.a.format_number(n&&n.change?n.change:0,2),_=\"0.00\"===y?\"\":y>0?\"change-up\":\"change-down\";return s.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),className:\"text-right \"+_,key:t.index},y+\"%\");case\"marketName\":return s.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),key:t.index},s.a.createElement(\"div\",{className:h,style:b},l));case\"market\":return s.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),key:t.index},e.props.name);case\"price\":var v=n&&n.price?n.price.toReal():n&&n.close&&n.close.quote.amount&&n.close.base.amount?u.a.get_asset_price(n.close.quote.amount,a,n.close.base.amount,r,!0):u.a.get_asset_price(d.quote.amount,a,d.base.amount,r,!0),w=6;return-1!==[\"BTC\",\"OPEN.BTC\",\"TRADE.BTC\",\"GOLD\",\"SILVER\"].indexOf(r.get(\"symbol\"))&&(w=8),s.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),className:\"text-right\",key:t.index},u.a.format_number(v,v>1e3?0:v>10?2:w));case\"quoteSupply\":return s.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),key:t.index},c?s.a.createElement(f.a,{style:{fontWeight:\"bold\"},amount:parseInt(c.get(\"current_supply\"),10),asset:a.get(\"id\")}):null);case\"baseSupply\":return s.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),key:t.index},p?s.a.createElement(f.a,{style:{fontWeight:\"bold\"},amount:parseInt(p.get(\"current_supply\"),10),asset:r.get(\"id\")}):null);case\"issuer\":return s.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),key:t.index},s.a.createElement(k,{account:a.get(\"issuer\")}));case\"add\":return s.a.createElement(\"td\",{style:{textAlign:\"right\"},key:t.index,onClick:e.props.onCheckMarket.bind(e,i)},s.a.createElement(\"input\",{type:\"checkbox\",checked:!!e.props.isChecked||e.props.isDefault,disabled:e.props.isDefault,\"data-tip\":e.props.isDefault?\"This market is a default market and cannot be removed\":null}));case\"remove\":return s.a.createElement(\"td\",{key:t.index,className:\"clickable\",onClick:e.props.removeMarket},s.a.createElement(\"span\",{style:{marginBottom:\"6px\",marginRight:\"6px\",zIndex:999},className:\"text float-right remove\"},\"–\"))}}).sort(function(e,t){return e.key>t.key}),y=\"clickable\";return this.props.current&&(y+=\" activeMarket\"),s.a.createElement(\"tr\",{className:y,style:m},g)}}]),t}();x.defaultProps={noSymbols:!1},x=Object(C.a)(x);var O=Object(b.a)(x,{propNames:[\"quote\",\"base\"],defaultProps:{tempComponent:\"tr\"},withDynamic:!0}),N=a(21),P=a(248),T=a(519),B=a(138),j=a(416),q=a(5),F=a.n(q),I=a(1799),R=a(14),M=a.n(R),L=a(39),D=a(10),z=a(1833),U=a.n(z),H=a(36),V=a.n(H),W=a(71),G=a(90),J=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var K=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={backingAsset:\"\",error:!1,valid:!1},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.Component),J(t,[{key:\"_onMoveUp\",value:function(e){var t=this.props.quotes.findIndex(function(t){return t===e});S.a.modifyPreferedBases({oldIndex:t,newIndex:t-1})}},{key:\"_onMoveDown\",value:function(e){var t=this.props.quotes.findIndex(function(t){return t===e});S.a.modifyPreferedBases({oldIndex:t,newIndex:t+1})}},{key:\"_onRemove\",value:function(e){var t=this.props.quotes.findIndex(function(t){return t===e});t>=0&&S.a.modifyPreferedBases({remove:t})}},{key:\"_onAdd\",value:function(e){-1===this.props.quotes.findIndex(function(t){return t===e.get(\"symbol\")})&&S.a.modifyPreferedBases({add:e.get(\"symbol\")})}},{key:\"_onInputBackingAsset\",value:function(e){this.setState({backingAsset:e.toUpperCase(),error:null})}},{key:\"_onFoundBackingAsset\",value:function(e){e&&(this.props.quotes.includes(e.get(\"symbol\"))?this.setState({error:\"Asset already being used\",isValid:!1}):this.setState({isValid:!0}))}},{key:\"render\",value:function(){var e=this,t=this.state.error,a=this.props.quotes.size;return s.a.createElement(G.a,{id:\"quote_selection\",overlay:!0,modalHeader:\"exchange.quote_selection\",noLogo:!0},s.a.createElement(\"section\",{className:\"block-list no-border-bottom\"},s.a.createElement(\"table\",{className:\"table\"},s.a.createElement(\"thead\",null,s.a.createElement(\"tr\",null,s.a.createElement(\"th\",null),s.a.createElement(\"th\",null,s.a.createElement(d.a,{content:\"account.quote\"})),s.a.createElement(\"th\",{style:{textAlign:\"center\"}},s.a.createElement(d.a,{content:\"exchange.move_down\"})),s.a.createElement(\"th\",{style:{textAlign:\"center\"}},s.a.createElement(d.a,{content:\"exchange.move_up\"})),s.a.createElement(\"th\",{style:{textAlign:\"center\"}},s.a.createElement(d.a,{content:\"exchange.remove\"})))),s.a.createElement(\"tbody\",null,this.props.quotes.map(function(t,r){return s.a.createElement(\"tr\",{key:t},s.a.createElement(\"td\",null,r+1),s.a.createElement(\"td\",null,t),s.a.createElement(\"td\",{className:\"text-center\"},r!==a-1&&s.a.createElement(E.a,{onClick:e._onMoveDown.bind(e,t),name:\"chevron-down\",className:\"clickable\"})),s.a.createElement(\"td\",{className:\"text-center\"},0!==r&&s.a.createElement(E.a,{onClick:e._onMoveUp.bind(e,t),name:\"chevron-down\",className:\"clickable rotate180\"})),s.a.createElement(\"td\",{className:\"text-center\"},a>1&&s.a.createElement(E.a,{onClick:e._onRemove.bind(e,t),name:\"cross-circle\",className:\"clickable\"})))}))),s.a.createElement(\"br\",null),s.a.createElement(\"br\",null),s.a.createElement(\"br\",null),s.a.createElement(\"div\",null,s.a.createElement(I.a,{label:\"exchange.custom_quote\",onChange:this._onInputBackingAsset.bind(this),asset:this.state.backingAsset,assetInput:this.state.backingAsset,tabIndex:1,style:{width:\"100%\",paddingRight:\"10px\"},onFound:this._onFoundBackingAsset.bind(this),onAction:this._onAdd.bind(this),action_label:\"exchange.add_quote\",disableActionButton:!!t,noLabel:!0}),s.a.createElement(\"div\",{className:\"error-area\"},t))))}}]),t}(),Q=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw s}}return a}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),Y=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function X(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Z(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function $(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ee=function(e){function t(e){X(this,t);var a=Z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state=a._getInitialState(e),a}return $(t,s.a.Component),Y(t,[{key:\"_getInitialState\",value:function(e){var t=!!e.findMarketTab||e.viewSettings.get(\"myMarketsBase_\"+e.index);return{open:void 0===t||t,inverseSort:e.viewSettings.get(\"myMarketsInvert\",!0),sortBy:e.viewSettings.get(\"myMarketsSort\",\"volume\")}}},{key:\"componentWillReceiveProps\",value:function(e){e.findMarketTab!==this.props.findMarketTab&&this.setState(this._getInitialState(e))}},{key:\"shouldComponentUpdate\",value:function(e,t){return!e.markets||!this.props.markets||(!u.a.are_equal_shallow(t,this.state)||!u.a.are_equal_shallow(e.markets,this.props.markets)||e.starredMarkets!==this.props.starredMarkets||e.marketStats!==this.props.marketStats||e.userMarkets!==this.props.userMarkets)}},{key:\"_inverseSort\",value:function(){S.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:\"_changeSort\",value:function(e){e!==this.state.sortBy?(S.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:\"_onToggle\",value:function(){if(!this.props.findMarketTab){var e=!this.state.open;this.setState({open:e});var t={};t[\"myMarketsBase_\"+this.props.index]=e,S.a.changeViewSetting(t)}}},{key:\"_onToggleUserMarket\",value:function(e){var t=e.split(\"_\"),a=Q(t,2),r=a[0],n=a[1],s=!this.props.userMarkets.get(e);S.a.setUserMarket(r,n,s)}},{key:\"render\",value:function(){var e=this,t=this.props,a=t.columns,r=t.markets,n=t.base,o=t.marketStats,i=t.starredMarkets,l=t.current,c=this.state,u=c.sortBy,p=c.inverseSort,m=c.open;if(!r||!r.length)return null;var h=a.map(function(t){switch(t.name){case\"market\":return s.a.createElement(\"th\",{key:t.name,className:\"clickable\",onClick:e._changeSort.bind(e,\"name\")},s.a.createElement(d.a,{content:\"exchange.market\"}));case\"vol\":return s.a.createElement(\"th\",{key:t.name,className:\"clickable\",onClick:e._changeSort.bind(e,\"volume\"),style:{textAlign:\"right\"}},s.a.createElement(d.a,{content:\"exchange.vol_short\"}));case\"price\":return s.a.createElement(\"th\",{key:t.name,style:{textAlign:\"right\"}},s.a.createElement(d.a,{content:\"exchange.price\"}));case\"quoteSupply\":return s.a.createElement(\"th\",{key:t.name},s.a.createElement(d.a,{content:\"exchange.base_supply\"}));case\"baseSupply\":return s.a.createElement(\"th\",{key:t.name},s.a.createElement(d.a,{content:\"exchange.quote_supply\"}));case\"change\":return s.a.createElement(\"th\",{key:t.name,className:\"clickable\",onClick:e._changeSort.bind(e,\"change\"),style:{textAlign:\"right\"}},s.a.createElement(d.a,{content:\"exchange.change\"}));case\"issuer\":return s.a.createElement(\"th\",{key:t.name},s.a.createElement(d.a,{content:\"explorer.assets.issuer\"}));case\"add\":return s.a.createElement(\"th\",{key:t.name,style:{textAlign:\"right\"}},s.a.createElement(d.a,{content:\"account.perm.confirm_add\"}));default:return s.a.createElement(\"th\",{key:t.name})}}),f=r.map(function(t){return e.props.onlyLiquid&&o.get(t.id)&&0==o.get(t.id).volumeBase?null:s.a.createElement(O,{key:t.id,name:\"others\"===n?s.a.createElement(\"span\",null,s.a.createElement(B.a,{name:t.quote}),\":\",s.a.createElement(B.a,{name:t.base})):s.a.createElement(B.a,{dataPlace:\"left\",name:t.quote}),quote:t.quote,base:t.base,columns:a,leftAlign:!0,compact:!0,noSymbols:!0,stats:o.get(t.id),starred:i.has(t.id),current:l===t.id,isChecked:e.props.userMarkets.has(t.id),isDefault:e.props.defaultMarkets&&e.props.defaultMarkets.has(t.id),onCheckMarket:e._onToggleUserMarket.bind(e),location:e.props.location,history:e.props.history})}).filter(function(e){return null!==e}).sort(function(e,t){var a=e.key.split(\"_\"),r=t.key.split(\"_\"),n=o.get(a[0]+\"_\"+a[1]),s=o.get(r[0]+\"_\"+r[1]);switch(u){case\"name\":return a[0]>r[0]?p?-1:1:a[0]<r[0]?p?1:-1:a[1]>r[1]?p?-1:1:a[1]<r[1]?p?1:-1:0;case\"volume\":return n&&s?p?s.volumeBase-n.volumeBase:n.volumeBase-s.volumeBase:0;case\"change\":return n&&s?p?s.change-n.change:n.change-s.change:0}});return s.a.createElement(\"div\",{style:{paddingRight:10}},m?s.a.createElement(\"table\",{className:\"table table-hover text-right\"},s.a.createElement(\"thead\",null,s.a.createElement(\"tr\",null,h)),f&&f.length?s.a.createElement(\"tbody\",null,f):null):null)}}]),t}();ee.defaultProps={maxRows:20,onlyLiquid:!1};var te=function(e){function t(e){X(this,t);var a=Z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.clearInput=function(){a.setState({myMarketFilter:\"\"})},a.handleSearchUpdate=function(e){a.setState({myMarketFilter:e.target.value&&e.target.value.toUpperCase()})},a.state={inverseSort:e.viewSettings.get(\"myMarketsInvert\",!0),sortBy:e.viewSettings.get(\"myMarketsSort\",\"volume\"),activeTab:e.viewSettings.get(\"favMarketTab\",\"my-market\"),activeMarketTab:e.viewSettings.get(\"activeMarketTab\",0),lookupQuote:null,lookupBase:null,inputValue:\"\",minWidth:\"100%\",findBaseInput:\"USD\",activeFindBase:\"USD\"},a._setMinWidth=a._setMinWidth.bind(a),a.getAssetList=Object(r.a)(j.a.getAssetList.defer,150),a}return $(t,s.a.Component),Y(t,[{key:\"shouldComponentUpdate\",value:function(e,t){return!(i.a.is(e.searchAssets,this.props.searchAssets)&&i.a.is(e.markets,this.props.markets)&&i.a.is(e.starredMarkets,this.props.starredMarkets)&&i.a.is(e.defaultMarkets,this.props.defaultMarkets)&&i.a.is(e.marketStats,this.props.marketStats)&&u.a.are_equal_shallow(t,this.state)&&e.current===this.props.current&&e.minWidth===this.props.minWidth&&e.listHeight===this.props.listHeight&&e.preferredBases===this.props.preferredBases&&e.onlyStars===this.props.onlyStars&&e.onlyLiquid===this.props.onlyLiquid&&e.assetsLoading===this.props.assetsLoading&&e.userMarkets===this.props.userMarkets)}},{key:\"componentWillMount\",value:function(){if(this.props.setMinWidth&&window.addEventListener(\"resize\",this._setMinWidth,{capture:!1,passive:!0}),this.props.currrent){var e=this.props.current.split(\"_\")[1],t=this.props.preferredBases.findIndex(function(t){return t===e});-1!==t&&t!==this.state.activeMarketTab&&this.setState({activeMarketTab:t})}}},{key:\"componentDidMount\",value:function(){var e=this.refs.favorites;c.a.initialize(e),this._setMinWidth()}},{key:\"componentWillUnmount\",value:function(){this.props.setMinWidth&&window.removeEventListener(\"resize\",this._setMinWidth),clearTimeout(this.timer)}},{key:\"componentWillReceiveProps\",value:function(e){this.props.myMarketTab&&!e.myMarketTab&&this.refs.findSearchInput&&this.refs.findSearchInput.focus()}},{key:\"_setMinWidth\",value:function(){this.props.setMinWidth&&this.refs.favorites&&\"my-market\"===this.props.activeTab&&this.state.minWidth!==this.refs.favorites.offsetWidth&&this.setState({minWidth:this.refs.favorites.offsetWidth})}},{key:\"componentDidUpdate\",value:function(){if(this.refs.favorites){var e=this.refs.favorites;c.a.update(e)}}},{key:\"_inverseSort\",value:function(){S.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:\"_changeSort\",value:function(e){e!==this.state.sortBy?(S.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:\"_goMarkets\",value:function(){this.props.history.push(\"/markets\")}},{key:\"_changeTab\",value:function(e){S.a.changeViewSetting({favMarketTab:e}),this.setState({activeTab:e}),this._setMinWidth()}},{key:\"_onInputName\",value:function(e,t){var a=this,r=t.target.value.trim().toUpperCase(),n=!D.ChainValidation.is_valid_symbol_error(r,!0);this.setState({inputValue:r}),r&&r.length>=2&&!n||(this.state.inputValue!==r&&this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){a._lookupAssets(r,e)},1500))}},{key:\"_lookupAssets\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e||\"\"===e){var a=e.toUpperCase().split(\":\"),r=a[0],n=2===a.length?a[1]:null;this.setState({lookupQuote:r,lookupBase:n}),S.a.changeViewSetting.defer({marketLookupInput:e.toUpperCase()}),this.getAssetList(r,50,t)}}},{key:\"toggleActiveMarketTab\",value:function(e){S.a.changeViewSetting({activeMarketTab:e}),this.setState({activeMarketTab:e})}},{key:\"_onInputBaseAsset\",value:function(e){this.setState({findBaseInput:e.toUpperCase(),error:null})}},{key:\"_onFoundBaseAsset\",value:function(e){e&&this.setState({activeFindBase:e.get(\"symbol\")})}},{key:\"_getMarkets\",value:function(){var e=this.props,t=e.searchAssets,a=e.defaultMarkets,r=e.onlyStars,n=e.userMarkets,s=e.preferredBases,o=e.starredMarkets,l=this.state,c=l.activeTab,u=l.lookupQuote,p=l.lookupBase,d=l.myMarketFilter,m=l.activeMarketTab,h=Object(W.d)(s),f=this._getBases(),b=[],g={},y=[],_=\"my-market\"===c;t.size&&t.filter(function(e){try{if(e.options.description){var t=JSON.parse(e.options.description);if(\"visible\"in t&&!t.visible)return!1}}catch(e){}return-1!==e.symbol.indexOf(u)&&e.symbol.length>=u.length}).forEach(function(e){f.forEach(function(t){var a=e.symbol+\"_\"+t;t!==e.symbol&&b.push([a,{quote:e.symbol,base:t}])})}),b=b.filter(function(e){return!p||e[1].quote===u});var v=_?a:i.a.Map(b);function k(e,t,a,n,i){return{otherMarkets:a.filter(function(e){if(e.base===e.quote)return!1;if(_){var t=e.quote+\"_\"+e.base;return d?-1!==t.indexOf(d):!(r&&!o.has(t))}return!(u.length<1)&&-1!==e.quote.indexOf(u)}).map(function(a){var r=a.quote+\"_\"+a.base;if(-1!==t.indexOf(a.base)){n[e]||(n[e]=[]);var o={id:r,quote:a.quote,base:a.base};return n[e].find(function(e){return e.id===r})||n[e].push(o),null}if(!s.includes(a.base)&&-1===h.indexOf(a.base))return{id:r,quote:a.quote,base:a.base}}).filter(function(e){return!!e}).take(_?100:20).toArray().concat(i),baseGroups:n}}if(_&&n.size&&n.forEach(function(e,t){v.has(t)||(v=v.set(t,e))}),v.size>0){var E=_?s.get(m):this.state.activeFindBase,w=k(E,[E],v,g,y);y=w.otherMarkets,g=w.baseGroups,W.c.forEach(function(e){var t=e+\".\"+E;if(D.ChainStore.getAsset(t)){var a=v.map(function(e){if(e.quote===e.base)return null;var a=e.quote+\"_\"+t;return v.has(a)?null:{base:t,quote:e.quote}},{}).filter(function(e){return!!e}),r=k(E,[E,t],a,g,y);y=r.otherMarkets,g=r.baseGroups}})}return{baseGroups:g,otherMarkets:y}}},{key:\"_getBases\",value:function(){var e=this.props,t=e.preferredBases,a=e.searchAssets,r=this.state,n=r.lookupQuote,s=r.lookupBase,o=a.filter(function(e){return s&&s.length?0===e.symbol.indexOf(s):-1!==e.symbol.indexOf(n)}).map(function(e){if(s&&s.length){if(0===e.symbol.indexOf(s))return e.symbol}else if(t.includes(e.symbol)&&e.symbol.length>=n.length&&e.symbol.length<n.length+3)return e.symbol}).filter(function(e){return!!e}).toArray();return o=(o=o.concat(t.filter(function(e){return!s||!s.length||0===e.indexOf(s)}).toArray())).filter(function(e){return!(s&&s.length>1)||0===e.indexOf(s)})}},{key:\"render\",value:function(){var e=this,t=this.props,r=t.starredMarkets,n=t.marketStats,o=t.columns,i=t.assetsLoading,l=t.preferredBases,c=t.current,u=t.viewSettings,p=t.listHeight,h=this.state,f=h.activeMarketTab,b=\"my-market\"===h.activeTab,g=l.map(function(e){return e});b||(l=(l=l.clear()).push(this.state.activeFindBase)),b||(f=0);var y=this._getMarkets(),_=y.baseGroups,v=y.otherMarkets,k=v&&v.length,E=\"mymarkets-header clickable\",C=F()(E,{inactive:!b}),A=F()(E,{inactive:b}),x={minWidth:this.state.minWidth,minHeight:\"6rem\"};p&&(x.height=p);var O=a(14);return s.a.createElement(\"div\",{className:this.props.className,style:this.props.style},s.a.createElement(\"div\",{style:this.props.headerStyle,className:\"grid-block shrink left-orderbook-header bottom-header\"},s.a.createElement(\"div\",{ref:\"myMarkets\",className:C,onClick:this._changeTab.bind(this,\"my-market\"),\"data-intro\":O.translate(\"walkthrough.my_markets_tab\")},s.a.createElement(d.a,{content:\"exchange.market_name\"})),s.a.createElement(\"div\",{className:A,onClick:this._changeTab.bind(this,\"find-market\"),\"data-intro\":O.translate(\"walkthrough.find_markets_tab\")},s.a.createElement(d.a,{content:\"exchange.more\"}))),this.props.controls?s.a.createElement(\"div\",{className:\"small-12 medium-6\",style:{padding:\"1rem 0\"}},this.props.controls?s.a.createElement(\"div\",{style:{paddingBottom:\"0.5rem\"}},this.props.controls):null):null,b?s.a.createElement(\"div\",{className:\"grid-block vertical shrink\",style:{width:\"100%\",textAlign:\"left\",padding:\"0.75rem 0.5rem\"}},s.a.createElement(\"div\",null,s.a.createElement(\"label\",{style:{margin:\"3px 0 0\"}},s.a.createElement(\"input\",{style:{position:\"relative\",top:3},className:\"no-margin\",type:\"checkbox\",checked:this.props.onlyLiquid,onChange:function(){S.a.changeViewSetting({onlyLiquid:!e.props.onlyLiquid})}}),s.a.createElement(\"span\",{style:{paddingLeft:\"0.4rem\"}},s.a.createElement(d.a,{content:\"exchange.show_only_liquid\"}))),s.a.createElement(\"label\",{style:{margin:\"3px 0 0\"}},s.a.createElement(\"input\",{style:{position:\"relative\",top:3},className:\"no-margin\",type:\"checkbox\",checked:this.props.onlyStars,onChange:function(){w.a.toggleStars()}}),s.a.createElement(\"span\",{style:{paddingLeft:\"0.4rem\"}},s.a.createElement(m.a,{string:\"exchange.show_only_star_formatter\",keys:[{type:\"icon\",value:\"fi-star\",className:\"gold-star\",arg:\"star_icon\"}]}))),s.a.createElement(\"br\",null)),s.a.createElement(\"div\",{className:\"search-wrapper\"},s.a.createElement(\"form\",null,s.a.createElement(\"input\",{autoComplete:\"off\",style:{fontSize:\"0.9rem\",height:\"inherit\",position:\"relative\",top:1,padding:2},type:\"text\",className:\"no-margin market-filter-input\",placeholder:M.a.translate(\"exchange.filter\"),maxLength:\"16\",name:\"focus\",required:\"required\",value:this.state.myMarketFilter,onChange:this.handleSearchUpdate}),s.a.createElement(\"button\",{className:\"clear-text\",type:\"reset\",onClick:this.clearInput})))):s.a.createElement(\"div\",{style:{width:\"100%\",textAlign:\"left\",padding:\"0.75rem 0.5rem\"}},s.a.createElement(\"table\",null,s.a.createElement(\"tbody\",null,s.a.createElement(\"tr\",{style:{width:\"100%\"}},s.a.createElement(\"td\",null,s.a.createElement(I.a,{onAssetSelect:this._onFoundBaseAsset.bind(this),assets:g,onChange:this._onInputBaseAsset.bind(this),asset:this.state.findBaseInput,assetInput:this.state.findBaseInput,tabIndex:1,style:{width:\"100%\",paddingBottom:\"1.5rem\"},onFound:this._onFoundBaseAsset.bind(this),label:\"exchange.quote\",noLabel:!0,inputStyle:{fontSize:\"0.9rem\"}}))),s.a.createElement(\"tr\",{style:{width:\"100%\"}},s.a.createElement(\"td\",null,s.a.createElement(\"label\",null,s.a.createElement(d.a,{content:\"account.user_issued_assets.name\"}),\":\"),s.a.createElement(\"input\",{style:{fontSize:\"0.9rem\",position:\"relative\",top:1},type:\"text\",value:this.state.inputValue,onChange:this._onInputName.bind(this,!0),placeholder:M.a.translate(\"exchange.search\"),maxLength:\"16\",tabIndex:2,ref:\"findSearchInput\"}),this.state.assetNameError?s.a.createElement(\"div\",{className:\"error-area\",style:{paddingTop:10}},s.a.createElement(\"span\",{style:{wordBreak:\"break-all\"}},s.a.createElement(d.a,{content:\"explorer.asset.invalid\",name:this.state.inputValue}))):null))))),s.a.createElement(\"ul\",{className:\"mymarkets-tabs\"},b&&l.map(function(t,a){return t?s.a.createElement(\"li\",{key:t,onClick:e.toggleActiveMarketTab.bind(e,a),className:F()(\"mymarkets-tab\",{active:f===a})},t):null}),b?null:s.a.createElement(\"li\",{className:F()(\"mymarkets-tab\",{active:!0})},this.state.activeFindBase),b&&k?s.a.createElement(\"li\",{key:\"others\",style:{textTransform:\"uppercase\"},onClick:this.toggleActiveMarketTab.bind(this,l.size+1),className:F()(\"mymarkets-tab\",{active:f===l.size+1})},s.a.createElement(d.a,{content:\"exchange.others\"})):null,b&&s.a.createElement(\"li\",{key:\"quote_edit\",style:{textTransform:\"uppercase\"},onClick:function(){V.a.publish(\"quote_selection\",\"open\")},className:\"mymarkets-tab\"},\" + \")),s.a.createElement(\"div\",{style:x,className:\"table-container grid-block vertical mymarkets-list\",ref:\"favorites\"},i?s.a.createElement(\"div\",{style:{position:\"absolute\",paddingTop:\"3rem\",textAlign:\"center\",width:\"100%\"}},s.a.createElement(L.a,{type:\"three-bounce\"})):null,l.filter(function(e){return e===l.get(f)}).map(function(t,a){return s.a.createElement(ee,{userMarkets:e.props.userMarkets,defaultMarkets:e.props.defaultMarkets,index:a,allowChange:!1,key:t,current:c,starredMarkets:r,marketStats:n,viewSettings:u,columns:b?o:e.props.findColumns||o,markets:_[t],base:t,maxRows:b?20:10,findMarketTab:!b,location:e.props.location,history:e.props.history,onlyLiquid:e.props.onlyLiquid&&b})}),f===l.size+1&&b&&k?s.a.createElement(ee,{userMarkets:this.props.userMarkets,index:l.size,current:c,starredMarkets:r,marketStats:n,viewSettings:u,columns:o,markets:v,base:\"others\",maxRows:b?20:10,findMarketTab:!b,location:this.props.location,history:this.props.history}):null),s.a.createElement(K,{quotes:this.props.preferredBases}))}}]),t}();te.defaultProps={activeTab:\"my-market\",setMinWidth:!1},te=U()(te,50,{leading:!1});var ae=function(e){function t(){return X(this,t),Z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return $(t,s.a.Component),Y(t,[{key:\"render\",value:function(){return s.a.createElement(te,this.props)}}]),t}();t.a=Object(h.a)(ae,{listenTo:function(){return[N.a,P.a,T.a]},getProps:function(){return{starredMarkets:N.a.getState().starredMarkets,onlyLiquid:N.a.getState().viewSettings.get(\"onlyLiquid\",!0),defaultMarkets:N.a.getState().defaultMarkets,viewSettings:N.a.getState().viewSettings,preferredBases:N.a.getState().preferredBases,marketStats:P.a.getState().allMarketStats,userMarkets:N.a.getState().userMarkets,searchAssets:T.a.getState().assets,onlyStars:P.a.getState().onlyStars,assetsLoading:T.a.getState().assetsLoading}}})},1848:function(e,t,a){\"use strict\";var r=a(0),n=a.n(r),s=a(1),o=a.n(s),i=a(2079),l=a(14),c=a.n(l),u=a(1791),p=a.n(u),d=a(16),m=a(3),h=a.n(m),f=a(138),b=a(1812),g=a.n(b),y=a(1786),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function k(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function E(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}((function(e){function t(){return v(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,n.a.Component),_(t,[{key:\"render\",value:function(){var e=this.props,t=e.baseSymbol,a=e.quoteSymbol;return n.a.createElement(\"thead\",null,n.a.createElement(\"tr\",null,n.a.createElement(\"th\",{style:{textAlign:\"right\"}},n.a.createElement(h.a,{content:\"exchange.price\"}),n.a.createElement(\"br\",null),t?n.a.createElement(\"span\",{className:\"header-sub-title\"},\"(\",n.a.createElement(f.a,{name:t}),\"/\",n.a.createElement(f.a,{name:a}),\")\"):null),n.a.createElement(\"th\",{style:{textAlign:\"right\"}},n.a.createElement(h.a,{content:\"transfer.amount\"}),n.a.createElement(\"br\",null),a?n.a.createElement(\"span\",{className:\"header-sub-title\"},\"(\",n.a.createElement(f.a,{name:a}),\")\"):null),n.a.createElement(\"th\",{style:{textAlign:\"right\"}},n.a.createElement(h.a,{content:\"transaction.settlement_date\"}),n.a.createElement(\"br\",null),n.a.createElement(\"span\",{style:{visibility:\"hidden\"},className:\"header-sub-title\"},\"d\"))))}}]),t})()).defaultProps={quoteSymbol:null,baseSymbol:null};var w=function(e){function t(){return v(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,n.a.Component),_(t,[{key:\"render\",value:function(){var e=this.props,t=e.base,a=e.quote,r=e.order,s=e.showSymbols,o=\"1.3.0\"==t.get(\"id\")?r.getPrice()/(1+r.offset_percent/1e4):r.getPrice()*(1+r.offset_percent/1e4),i=s?\" \"+a.get(\"symbol\"):null;return n.a.createElement(\"tr\",{style:{paddingRight:5}},n.a.createElement(\"td\",{style:{textAlign:\"right\",width:\"25%\"}},d.a.format_number(o,a.get(\"precision\")),\" \",i),n.a.createElement(\"td\",{style:{textAlign:\"right\",width:\"25%\"}},d.a.format_number(r[r.isBid()?\"amountToReceive\":\"amountForSale\"]().getAmount({real:!0}),a.get(\"precision\"))),n.a.createElement(\"td\",{style:{textAlign:\"right\",width:\"25%\"}},d.a.format_number(r[r.isBid()?\"amountForSale\":\"amountToReceive\"]().getAmount({real:!0}),t.get(\"precision\"))),n.a.createElement(\"td\",{style:{textAlign:\"right\",width:\"25%\"},className:\"tooltip\",\"data-tip\":new Date(r.settlement_date)},c.a.localize(new Date(r.settlement_date),{type:\"date\",format:-1!==g()().toLowerCase().indexOf(\"en-us\")?\"market_history_us\":\"market_history\"})))}}]),t}();w.defaultProps={showSymbols:!1,invert:!1};var S=function(e){function t(){return v(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,n.a.Component),_(t,[{key:\"shouldComponentUpdate\",value:function(e){return e.currentAccount!==this.props.currentAccount||e.orders!==this.props.orders}},{key:\"render\",value:function(){var e=this.props,t=e.orders,a=e.base,r=e.quote,s=null;if(!(t.size>0&&a&&r))return null;var o=0;return s=t.sort(function(e,t){return e.isBefore(t)?-1:1}).map(function(e){return Date.now()<e.settlement_date?n.a.createElement(w,{key:o++,order:e,base:a,quote:r}):null}).toArray(),n.a.createElement(y.a,{ref:\"contentTransition\",component:\"tbody\",transitionName:\"newrow\"},s)}}]),t}();S.defaultProps={base:{},quote:{},orders:{},quoteSymbol:\"\",baseSymbol:\"\"},S.propTypes={base:o.a.object.isRequired,quote:o.a.object.isRequired,orders:o.a.object.isRequired,quoteSymbol:o.a.string.isRequired,baseSymbol:o.a.string.isRequired};var C=S,A=a(1809),x=a(22),O=a(20),N=a(10),P=a(26),T=a(1801),B=a(1821),j=a(141),q=a(100),F=a.n(q);a.d(t,\"b\",function(){return V}),a.d(t,\"c\",function(){return H}),a.d(t,\"a\",function(){return W});var I=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function M(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function L(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function D(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var z={textAlign:\"left\"},U={textAlign:\"right\"},H=function(e){function t(){return M(this,t),L(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return D(t,n.a.Component),I(t,[{key:\"render\",value:function(){var e=this.props,t=e.baseSymbol,a=e.quoteSymbol,r=e.dashboard,s=e.isMyAccount,o=e.leftAlign;return r?n.a.createElement(\"tr\",null,s?n.a.createElement(\"th\",{id:\"cancelAllOrders\",style:{cursor:\"pointer\"}},n.a.createElement(h.a,{content:\"wallet.cancel\"})):null,n.a.createElement(\"th\",null,n.a.createElement(h.a,{content:\"account.trade\"})),n.a.createElement(\"th\",{style:o},n.a.createElement(h.a,{content:\"transaction.order_id\"})),n.a.createElement(\"th\",{style:o,colSpan:\"4\"},n.a.createElement(h.a,{content:\"exchange.description\"})),n.a.createElement(\"th\",{style:o},n.a.createElement(h.a,{content:\"exchange.price\"})),n.a.createElement(\"th\",{style:o},n.a.createElement(h.a,{content:\"exchange.price_market\"})),n.a.createElement(\"th\",{style:{textAlign:\"right\"}},n.a.createElement(h.a,{content:\"exchange.value\"}))):n.a.createElement(\"thead\",null,n.a.createElement(\"tr\",null,n.a.createElement(\"th\",{style:o||U},n.a.createElement(h.a,{className:\"header-sub-title\",content:\"exchange.price\"})),n.a.createElement(\"th\",{style:o||U},t?n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(f.a,{dataPlace:\"top\",name:a})):null),n.a.createElement(\"th\",{style:o||U},t?n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(f.a,{dataPlace:\"top\",name:t})):null),n.a.createElement(\"th\",{style:o||U},n.a.createElement(h.a,{className:\"header-sub-title\",content:\"transaction.expiration\"})),n.a.createElement(\"th\",{style:{width:\"6%\"}})))}}]),t}();H.defaultProps={quoteSymbol:null,baseSymbol:null};var V=function(e){function t(){return M(this,t),L(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return D(t,n.a.Component),I(t,[{key:\"shouldComponentUpdate\",value:function(e){return e.order.for_sale!==this.props.order.for_sale||e.order.id!==this.props.order.id||e.quote!==this.props.quote||e.base!==this.props.base||e.order.market_base!==this.props.order.market_base}},{key:\"render\",value:function(){var e=this.props,t=e.base,a=e.quote,r=e.order,s=e.showSymbols,o=e.dashboard,l=e.isMyAccount,u=e.settings,p=r.isBid(),m=r.isCall(),b=m?\"orderHistoryCall\":p?\"orderHistoryBid\":\"orderHistoryAsk\",g=s?n.a.createElement(\"span\",null,\" \"+t.get(\"symbol\")+\"/\"+a.get(\"symbol\")):null,y=s?\" \"+t.get(\"symbol\"):null,_=s?\" \"+a.get(\"symbol\"):null,v=u?u.get(\"unit\"):\"1.3.0\",k=p?\"value positive\":\"value negative\",E=p?\"value negative\":\"value positive\";return o?n.a.createElement(\"tr\",{key:r.id,className:\"clickable\"},l?n.a.createElement(\"td\",{className:\"text-center\"},m?null:n.a.createElement(\"span\",{style:{marginRight:0},className:\"order-cancel\"},n.a.createElement(\"input\",{type:\"checkbox\",className:\"orderCancel\",onChange:this.props.onCheckCancel}))):null,n.a.createElement(\"td\",null,n.a.createElement(i.a,{to:\"/market/\"+a.get(\"symbol\")+\"_\"+t.get(\"symbol\")},n.a.createElement(O.a,{name:\"trade\",title:\"icons.trade.trade\",className:\"icon-14px\"}))),n.a.createElement(\"td\",{style:z},\"#\",r.id.substring(4)),n.a.createElement(\"td\",{colSpan:\"4\",style:z,onClick:this.props.onFlip},p?n.a.createElement(h.a,{content:\"exchange.buy_description\",baseAsset:d.a.format_number(r[p?\"amountToReceive\":\"amountForSale\"]().getAmount({real:!0}),t.get(\"precision\"),!1),quoteAsset:d.a.format_number(r[p?\"amountForSale\":\"amountToReceive\"]().getAmount({real:!0}),a.get(\"precision\"),!1),baseName:n.a.createElement(f.a,{noTip:!0,customClass:k,name:a.get(\"symbol\")}),quoteName:n.a.createElement(f.a,{noTip:!0,customClass:E,name:t.get(\"symbol\")})}):n.a.createElement(h.a,{content:\"exchange.sell_description\",baseAsset:d.a.format_number(r[p?\"amountToReceive\":\"amountForSale\"]().getAmount({real:!0}),t.get(\"precision\"),!1),quoteAsset:d.a.format_number(r[p?\"amountForSale\":\"amountToReceive\"]().getAmount({real:!0}),a.get(\"precision\"),!1),baseName:n.a.createElement(f.a,{noTip:!0,customClass:k,name:a.get(\"symbol\")}),quoteName:n.a.createElement(f.a,{noTip:!0,customClass:E,name:t.get(\"symbol\")})})),n.a.createElement(\"td\",{style:z,onClick:this.props.onFlip},n.a.createElement(j.a,{base_amount:r.sellPrice().base.amount,base_asset:r.sellPrice().base.asset_id,quote_amount:r.sellPrice().quote.amount,quote_asset:r.sellPrice().quote.asset_id,force_direction:t.get(\"symbol\"),hide_symbols:!0})),n.a.createElement(\"td\",{style:z,onClick:this.props.onFlip},n.a.createElement(B.a,{base:t.get(\"id\"),quote:a.get(\"id\"),force_direction:t.get(\"symbol\"),hide_symbols:!0,hide_asset:!0})),n.a.createElement(\"td\",{style:{textAlign:\"right\"},onClick:this.props.onFlip},n.a.createElement(T.b,{hide_asset:!0,amount:r.amountForSale().getAmount(),fromAsset:r.amountForSale().asset_id,noDecimals:!0,toAsset:v}),\" \",n.a.createElement(f.a,{name:v}))):n.a.createElement(\"tr\",{key:r.id},n.a.createElement(\"td\",{className:b,style:{paddingLeft:10}},n.a.createElement(A.a,{price:r.getPrice(),base:t,quote:a}),g),n.a.createElement(\"td\",null,d.a.format_number(r[p?\"amountToReceive\":\"amountForSale\"]().getAmount({real:!0}),a.get(\"precision\")),\" \",_),n.a.createElement(\"td\",null,d.a.format_number(r[p?\"amountForSale\":\"amountToReceive\"]().getAmount({real:!0}),t.get(\"precision\")),\" \",y),n.a.createElement(\"td\",{style:{width:\"25%\",textAlign:\"right\",whiteSpace:\"nowrap\"},className:\"tooltip\",\"data-tip\":r.expiration.toLocaleString()},m?null:c.a.localize(new Date(r.expiration),{type:\"date\",format:\"short_custom\"})),n.a.createElement(\"td\",{className:\"text-center\",style:{width:\"6%\"}},m?null:n.a.createElement(\"a\",{style:{marginRight:0},className:\"order-cancel\",onClick:this.props.onCancel},n.a.createElement(O.a,{name:\"cross-circle\",title:\"icons.cross_circle.cancel_order\",className:\"icon-14px\"}))))}}]),t}();V.defaultProps={showSymbols:!1};var W=function(e){function t(e){M(this,t);var a=L(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={activeTab:e.activeTab,rowCount:20,showAll:!1},a._getOrders=a._getOrders.bind(a),a}return D(t,n.a.Component),I(t,[{key:\"shouldComponentUpdate\",value:function(e,t){if(e.activeTab!==this.state.activeTab&&this._changeTab(e.activeTab),this.props.hideScrollbars&&t.showAll!=this.state.showAll){var a=this.refs.container;t.showAll?(p.a.initialize(a),p.a.update(a)):p.a.destroy(a),this.refs.contentTransition&&this.refs.contentTransition.resetAnimation(),a&&(a.scrollTop=0)}return e.baseSymbol!==this.props.baseSymbol||e.quoteSymbol!==this.props.quoteSymbol||e.className!==this.props.className||e.activeTab!==this.props.activeTab||t.activeTab!==this.state.activeTab||t.showAll!==this.state.showAll||e.currentAccount!==this.props.currentAccount}},{key:\"componentDidMount\",value:function(){if(!this.props.hideScrollbars){var e=this.refs.container;e&&p.a.initialize(e)}}},{key:\"componentDidUpdate\",value:function(){if(!this.props.hideScrollbars||this.props.hideScrollbars&&this.state.showAll){var e=this.refs.container;e&&p.a.update(e)}}},{key:\"componentWillReceiveProps\",value:function(e){var t=this.refs.container;e.hideScrollbars!==this.props.hideScrollbars&&e.hideScrollbars&&p.a.destroy(t),e.hideScrollbars===this.props.hideScrollbars||e.hideScrollbars||(p.a.initialize(t),this.refs.contentTransition.resetAnimation(),t&&(t.scrollTop=0),p.a.update(t))}},{key:\"_onSetShowAll\",value:function(){this.setState({showAll:!this.state.showAll}),this.state.showAll&&(this.refs.container.scrollTop=0)}},{key:\"_getOrders\",value:function(){var e,t=this.props,a=t.currentAccount,r=t.base,n=t.quote,s=t.feedPrice,o=a.get(\"orders\"),i=a.get(\"call_orders\"),l=r.get(\"id\"),c=n.get(\"id\"),u=(R(e={},r.get(\"id\"),{precision:r.get(\"precision\")}),R(e,n.get(\"id\"),{precision:n.get(\"precision\")}),e),p=o.toArray().map(function(e){var t=N.ChainStore.getObject(e);if(!t)return null;var a=t.getIn([\"sell_price\",\"base\",\"asset_id\"]),r=t.getIn([\"sell_price\",\"quote\",\"asset_id\"]);return a===l&&r===c||a===c&&r===l?new P.f(t.toJS(),u,n.get(\"id\")):void 0}).filter(function(e){return!!e}),d=i.toArray().map(function(e){try{var t=N.ChainStore.getObject(e);if(!t)return null;var a=t.getIn([\"call_price\",\"base\",\"asset_id\"]),r=t.getIn([\"call_price\",\"quote\",\"asset_id\"]);if(a===l&&r===c||a===c&&r===l)return s?new P.b(t.toJS(),u,n.get(\"id\"),s):null}catch(e){return null}}).filter(function(e){return!!e}).filter(function(e){try{return e.isMarginCalled()}catch(e){return!1}});return p.concat(d)}},{key:\"_changeTab\",value:function(e){x.a.changeViewSetting({ordersTab:e}),this.setState({activeTab:e});var t=this.refs.container;t.scrollTop=0,p.a.update(t),setTimeout(F.a.rebuild,1e3)}},{key:\"render\",value:function(){var e=this,t=this.props,a=t.base,r=t.quote,s=t.quoteSymbol,o=t.baseSymbol,i=t.settleOrders,l=this.state,c=l.activeTab,u=l.showAll,p=l.rowCount;if(!a||!r)return null;var d=void 0,m=void 0;a.get(\"bitasset_data_id\")&&i.size,r.get(\"bitasset_data_id\")&&i.size;if(!c||\"my_orders\"==c){var b=this._getOrders(),g=n.a.createElement(\"tr\",null,n.a.createElement(\"td\",{style:{textAlign:\"center\",lineHeight:4,fontStyle:\"italic\"},colSpan:\"5\"},n.a.createElement(h.a,{content:\"account.no_orders\"}))),_=b.filter(function(e){return e.isBid()}).sort(function(e,t){return t.getPrice()-e.getPrice()}).map(function(t){var s=t.getPrice();return n.a.createElement(V,{price:s,key:t.id,order:t,base:a,quote:r,onCancel:e.props.onCancel.bind(e,t.id)})}),v=b.filter(function(e){return!e.isBid()}).sort(function(e,t){return e.getPrice()-t.getPrice()}).map(function(t){var s=t.getPrice();return n.a.createElement(V,{price:s,key:t.id,order:t,base:a,quote:r,onCancel:e.props.onCancel.bind(e,t.id)})}),k=[];v.length&&(k=k.concat(v)),_.length&&(k=k.concat(_)),k.sort(function(e,t){return e.props.price-t.props.price});var E=k.length;u||k.splice(p,k.length),d=n.a.createElement(y.a,{ref:\"contentTransition\",component:\"tbody\",transitionName:\"newrow\"},k.length?k:g),m=E>11?n.a.createElement(\"div\",{className:\"orderbook-showall\"},n.a.createElement(\"a\",{onClick:this._onSetShowAll.bind(this)},n.a.createElement(h.a,{content:u?\"exchange.hide\":\"exchange.show_all_orders\",rowcount:E}))):null}if(c&&\"open_settlement\"==c){var w=i.length;w>0&&(u||i.splice(p,i.length)),d=n.a.createElement(C,{key:\"settle_orders\",orders:i,base:a,quote:r,baseSymbol:o,quoteSymbol:s}),m=w>11?n.a.createElement(\"div\",{className:\"orderbook-showall\"},n.a.createElement(\"a\",{onClick:this._onSetShowAll.bind(this)},n.a.createElement(h.a,{content:u?\"exchange.hide\":\"exchange.show_all_orders\",rowcount:w}))):null}return n.a.createElement(\"div\",{style:this.props.style,key:\"open_orders\",className:this.props.className},n.a.createElement(\"div\",{className:this.props.innerClass,style:this.props.innerStyle},this.props.noHeader?null:n.a.createElement(\"div\",{style:this.props.headerStyle,className:\"exchange-content-header\"},\"my_orders\"==c?n.a.createElement(h.a,{content:\"exchange.my_orders\"}):null,\"open_settlement\"==c?n.a.createElement(h.a,{content:\"exchange.settle_orders\"}):null),n.a.createElement(\"div\",{className:\"grid-block shrink left-orderbook-header market-right-padding-only\"},n.a.createElement(\"table\",{className:\"table order-table text-right fixed-table market-right-padding\"},\"my_orders\"==c?n.a.createElement(H,{type:\"sell\",baseSymbol:o,quoteSymbol:s}):n.a.createElement(\"thead\",null,n.a.createElement(\"tr\",null,n.a.createElement(\"th\",null,n.a.createElement(h.a,{className:\"header-sub-title\",content:\"exchange.price\"})),n.a.createElement(\"th\",null,n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(f.a,{dataPlace:\"top\",name:s}))),n.a.createElement(\"th\",null,n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(f.a,{dataPlace:\"top\",name:o}))),n.a.createElement(\"th\",null,n.a.createElement(h.a,{className:\"header-sub-title\",content:\"explorer.block.date\"})))))),n.a.createElement(\"div\",{className:\"table-container grid-block market-right-padding-only no-overflow\",ref:\"container\",style:{overflow:\"hidden\",minHeight:this.props.tinyScreen?0:260,maxHeight:260,lineHeight:\"13px\"}},n.a.createElement(\"table\",{className:\"table order-table table-highlight-hover no-stripes text-right fixed-table market-right-padding\"},d)),m))}}]),t}();W.defaultProps={base:{},quote:{},orders:{},quoteSymbol:\"\",baseSymbol:\"\"},W.propTypes={base:o.a.object.isRequired,quote:o.a.object.isRequired,orders:o.a.object.isRequired,quoteSymbol:o.a.string.isRequired,baseSymbol:o.a.string.isRequired}},1854:function(e,t){e.exports={midnightTheme:{bidColor:\"#50D2C2\",bidFillColor:\"rgba(80, 210, 194, 0.5)\",askColor:\"#E3745B\",askFillColor:\"rgba(227, 116, 91, 0.5)\",callColor:\"#BBBF2B\",settleColor:\"rgba(125, 134, 214, 1)\",settleFillColor:\"rgba(125, 134, 214, 0.5)\",positiveColor:\"#6BA583\",negativeColor:\"#DB0000\",strokeColor:\"#FFFF00\",primaryText:\"#e0e0e0\",volumeColor:\"#848484\",tooltipBackgroundColor:\"rgba(0, 0, 0, 0.4)\",tooltipColor:\"#fff\",tooltipFillColor:\"#fff\",axisLabelsColor:\"#fff\",axisLineColor:\"rgba(200, 200, 200, 0.3)\",indicatorLineColor:\"#FFFFFF\",bgColor:\"#191a1f\",textColor:\"#e0e0e0\"},darkTheme:{bidColor:\"#6BA583\",bidFillColor:\"rgba(80, 210, 194, 0.5)\",askColor:\"#E3745B\",askFillColor:\"rgba(227, 116, 91, 0.5)\",callColor:\"#BBBF2B\",settleColor:\"rgba(125, 134, 214, 1)\",settleFillColor:\"rgba(125, 134, 214, 0.5)\",positiveColor:\"#258A14\",negativeColor:\"#DB0000\",strokeColor:\"#FFFF00\",primaryText:\"#e0e0e0\",volumeColor:\"#848484\",tooltipBackgroundColor:\"rgba(0, 0, 0, 0.4)\",tooltipColor:\"#fff\",tooltipFillColor:\"#fff\",axisLabelsColor:\"#fff\",axisLineColor:\"rgba(200, 200, 200, 0.3)\",indicatorLineColor:\"#FFFFFF\",bgColor:\"#2a2a2a\",textColor:\"#ffffff\"},lightTheme:{bidColor:\"#258A14\",bidFillColor:\"rgba(80, 210, 194, 0.5)\",askColor:\"#EA340B\",askFillColor:\"rgba(227, 116, 91, 0.5)\",callColor:\"#BBBF2B\",settleColor:\"rgba(125, 134, 214, 1)\",settleFillColor:\"rgba(125, 134, 214, 0.5)\",positiveColor:\"#528c0a\",negativeColor:\"rgba(225, 66, 74, 1)\",strokeColor:\"#000000\",primaryText:\"#242424\",volumeColor:\"#848484\",tooltipBackgroundColor:\"rgba(255,255,255, 0.9)\",tooltipColor:\"#000\",tooltipFillColor:\"#000\",axisLabelsColor:\"#000\",axisLineColor:\"rgba(200, 200, 200, 0.3)\",indicatorLineColor:\"#848484\",bgColor:\"#fff\",textColor:\"#3d3d3d\"}}},1949:function(e,t,a){!function(e){\"use strict\";function t(e,a){var n=r({},e);for(var s in a)\"object\"!=typeof e[s]||null===e[s]||Array.isArray(e[s])?void 0!==a[s]&&(n[s]=a[s]):n[s]=t(e[s],a[s]);return n}function a(){return\"1.12 (internal id 630b704a @ 2018-06-06 02:16:11.305509)\"}var r=Object.assign||function(e){for(var t,a=arguments,r=1,n=arguments.length;r<n;r++)for(var s in t=a[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n={mobile:{disabled_features:[\"left_toolbar\",\"header_widget\",\"timeframes_toolbar\",\"edit_buttons_in_legend\",\"context_menus\",\"control_bar\",\"border_around_the_chart\"],enabled_features:[]}},s={width:800,height:500,symbol:\"AA\",interval:\"D\",timezone:\"UTC\",container_id:\"\",library_path:\"\",locale:\"en\",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{\"mainSeriesProperties.showCountdown\":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:\"5y\",resolution:\"W\"},{text:\"1y\",resolution:\"W\"},{text:\"6m\",resolution:\"120\"},{text:\"3m\",resolution:\"60\"},{text:\"1m\",resolution:\"30\"},{text:\"5d\",resolution:\"5\"},{text:\"1d\",resolution:\"1\"}],client_id:\"0\",user_id:\"0\",charts_storage_api_version:\"1.0\",favorites:{intervals:[],chartTypes:[]}},o=function(){function e(e){if(this._id=\"tradingview_\"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error(\"Datafeed is not defined\");if(this._options=t(s,e),e.preset){var a=n[e.preset];a?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(a.disabled_features):this._options.disabled_features=a.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(a.enabled_features):this._options.enabled_features=a.enabled_features):console.warn(\"Unknown preset: `\"+e.preset+\"`\")}this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.setLanguage=function(e){this.remove(),this._options.locale=e,this._create()},e.prototype.setSymbol=function(e,t,a){this._innerAPI().changeSymbol(e,t+\"\",a)},e.prototype.remove=function(){window.removeEventListener(\"resize\",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id];var e=this._getIFrameElement();e.contentWindow.destroyChart(),e.parentNode&&e.parentNode.removeChild(e)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,a,r){this._innerAPI().saveChartToServer(e,t,a,r)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=t(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype._getIFrameElement=function(){var e=document.getElementById(this._id);if(null===e)throw new Error(\"There is no such iframe\");return e},e.prototype._innerAPI=function(){return this._getIFrameElement().contentWindow.tradingViewApi},e.prototype._innerWindow=function(){return this._getIFrameElement().contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._getIFrameElement().style.height=window.innerHeight+\"px\")},e.prototype._create=function(){var e=this,t=this._render(),a=document.getElementById(this._options.container_id);if(null===a)throw new Error(\"There is no such element - #\"+this._options.container_id);a.innerHTML=t;var r=this._getIFrameElement();(this._options.autosize||this._options.fullscreen)&&(r.style.width=\"100%\",this._options.fullscreen||(r.style.height=\"100%\")),window.addEventListener(\"resize\",this._onWindowResize),this._onWindowResize();var n=function(){r.removeEventListener(\"load\",n,!1),r.contentWindow.widgetReady(function(){e._ready=!0;for(var t=0,a=e._readyHandlers;t<a.length;t++)a[t].call(e);r.contentWindow.initializationFinished()})};r.addEventListener(\"load\",n,!1)},e.prototype._render=function(){var e=window;e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter},this._options.saved_data&&(e[this._id].chartContent={json:this._options.saved_data});var t=(this._options.library_path||\"\")+\"static/tv-chart.630b704a2b9d0eaf1593.html#localserver=1&symbol=\"+encodeURIComponent(this._options.symbol)+\"&interval=\"+encodeURIComponent(this._options.interval)+(this._options.timeframe?\"&timeframe=\"+encodeURIComponent(this._options.timeframe):\"\")+(this._options.toolbar_bg?\"&toolbarbg=\"+this._options.toolbar_bg.replace(\"#\",\"\"):\"\")+(this._options.studies_access?\"&studiesAccess=\"+encodeURIComponent(JSON.stringify(this._options.studies_access)):\"\")+\"&widgetbar=\"+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?\"&drawingsAccess=\"+encodeURIComponent(JSON.stringify(this._options.drawings_access)):\"\")+\"&timeFrames=\"+encodeURIComponent(JSON.stringify(this._options.time_frames))+\"&locale=\"+encodeURIComponent(this._options.locale)+\"&uid=\"+encodeURIComponent(this._id)+\"&clientId=\"+encodeURIComponent(String(this._options.client_id))+\"&userId=\"+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?\"&chartsStorageUrl=\"+encodeURIComponent(this._options.charts_storage_url):\"\")+(this._options.charts_storage_api_version?\"&chartsStorageVer=\"+encodeURIComponent(this._options.charts_storage_api_version):\"\")+(this._options.indicators_file_name?\"&indicatorsFile=\"+encodeURIComponent(this._options.indicators_file_name):\"\")+(this._options.custom_css_url?\"&customCSS=\"+encodeURIComponent(this._options.custom_css_url):\"\")+(this._options.auto_save_delay?\"&autoSaveDelay=\"+encodeURIComponent(String(this._options.auto_save_delay)):\"\")+\"&debug=\"+this._options.debug+(this._options.snapshot_url?\"&snapshotUrl=\"+encodeURIComponent(this._options.snapshot_url):\"\")+(this._options.timezone?\"&timezone=\"+encodeURIComponent(this._options.timezone):\"\")+(this._options.study_count_limit?\"&studyCountLimit=\"+encodeURIComponent(String(this._options.study_count_limit)):\"\")+(this._options.symbol_search_request_delay?\"&ssreqdelay=\"+encodeURIComponent(String(this._options.symbol_search_request_delay)):\"\");return'<iframe id=\"'+this._id+'\" name=\"'+this._id+'\"  src=\"'+t+'\"'+(this._options.autosize||this._options.fullscreen?\"\":' width=\"'+this._options.width+'\" height=\"'+this._options.height+'\"')+' frameborder=\"0\" allowTransparency=\"true\" scrolling=\"no\" allowfullscreen style=\"display:block;\"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=a,e.version=a,e.onready=function(e){window.addEventListener(\"DOMContentLoaded\",e,!1)},e.widget=o,Object.defineProperty(e,\"__esModule\",{value:!0})}(t)},2088:function(e,t,a){\"use strict\";a.r(t);var r=a(0),n=a.n(r),s=a(248),o=a(27),i=a(21),l=a(177),c=a(505),u=a(104),p=a(126),d=a(302),m=a(13),h=a(10),f=a(116),b=a(5),g=a.n(b),y=a(14),_=a.n(y),v=a(703),k=a.n(v),E=a(29),w=a.n(E),S=a(1791),C=a.n(S),A=a(1),x=a.n(A),O=a(22),N=a(82),P=a(64),T=a(331),B=a(58),j=a(26),q=a(140),F=a(16),I=a(3),R=a.n(I),M=a(31),L=a(35),D=a(45),z=a(1809),U=a(138),H=a(693),V=a(1907),W=a.n(V),G=a(20),J=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var K=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={forceReRender:!1},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),J(t,[{key:\"_forceRender\",value:function(e,t){this.state.forceReRender&&this.setState({forceReRender:!1}),this.props.parentWidth!==e.parentWidth&&this.setState({forceReRender:!0})}},{key:\"shouldComponentUpdate\",value:function(e,t){return this._forceRender(e,t),e.amount!==this.props.amount||e.onBorrow!==this.props.onBorrow||e.total!==this.props.total||e.currentPrice!==this.props.currentPrice||e.price!==this.props.price||e.balance!==this.props.balance||e.account!==this.props.account||e.className!==this.props.className||!(!e.fee||!this.props.fee)&&e.fee.ne(this.props.fee)||e.isPredictionMarket!==this.props.isPredictionMarket||e.feeAsset!==this.props.feeAsset||e.isOpen!==this.props.isOpen||e.hasFeeBalance!==this.props.hasFeeBalance||e.expirationType!==this.props.expirationType||e.expirationCustomTime!==this.props.expirationCustomTime||e.parentWidth!==this.props.parentWidth||t.forceReRender!==this.state.forceReRender}},{key:\"_addBalance\",value:function(e){\"bid\"===this.props.type?this.props.totalChange({target:{value:e.getAmount({real:!0}).toString()}}):this.props.amountChange({target:{value:e.getAmount({real:!0}).toString()}})}},{key:\"_setPrice\",value:function(e){this.props.priceChange({target:{value:e.toString()}})}},{key:\"render\",value:function(){var e=this,t=this.props,a=t.type,r=t.quote,s=t.base,o=t.amountChange,l=t.fee,c=t.isPredictionMarket,u=t.priceChange,p=t.onSubmit,d=t.balance,m=t.totalChange,h=t.balancePrecision,b=t.currentPrice,y=t.currentPriceObject,v=t.feeAsset,k=t.feeAssets,E=t.hasFeeBalance,S=t.hideHeader,C=t.verticalOrderForm,A=(this.refs.order_form?this.refs.order_form.clientWidth:0)<450,x=void 0,O=void 0,N=void 0;this.props.amount&&(x=this.props.amount),this.props.price&&(O=this.props.price),this.props.total&&(N=this.props.total);var P=new j.a({amount:d?d.get(\"balance\"):0,precision:h,asset_id:this.props.balanceId}),B=new j.a({amount:s.getIn([\"options\",\"max_market_fee\"]),asset_id:s.get(\"asset_id\"),precision:s.get(\"precision\")}),q=new j.a({amount:r.getIn([\"options\",\"max_market_fee\"]),asset_id:r.get(\"asset_id\"),precision:r.get(\"precision\")}),I=s.getIn([\"options\",\"market_fee_percent\"])/100+\"%\",L=r.getIn([\"options\",\"market_fee_percent\"])/100+\"%\",D=x?Math.min(q.getAmount({real:!0}),x*r.getIn([\"options\",\"market_fee_percent\"])/1e4).toFixed(q.precision):0,V=x?Math.min(B.getAmount({real:!0}),N*s.getIn([\"options\",\"market_fee_percent\"])/1e4).toFixed(B.precision):0,J=T.a.getFlagBooleans(s.getIn([\"options\",\"flags\"]),s.has(\"bitasset_data_id\")),K=T.a.getFlagBooleans(r.getIn([\"options\",\"flags\"]),r.has(\"bitasset_data_id\")),Q=F.a.replaceName(this.props.base),Y=Q.name,X=Q.prefix,Z=J.charge_market_fee?C?n.a.createElement(\"div\",{\"data-tip\":_.a.translate(\"tooltip.market_fee\",{percent:I,asset:(X||\"\")+Y}),className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-12 buy-sell-label\"},n.a.createElement(R.a,{content:\"explorer.asset.summary.market_fee\"}),\", \",I),n.a.createElement(\"div\",{className:\"inputAddon small-12\"},n.a.createElement(H.a,{placeholder:\"0.0\",id:\"baseMarketFee\",defaultValue:V,addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{noTip:!0,name:s.get(\"symbol\")}))}))):A?n.a.createElement(\"div\",{\"data-tip\":_.a.translate(\"tooltip.market_fee\",{percent:I,asset:(X||\"\")+Y}),className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-3 buy-sell-label\"},n.a.createElement(R.a,{content:\"explorer.asset.summary.market_fee\"}),\", \",I),n.a.createElement(\"div\",{className:\"inputAddon small-9\"},n.a.createElement(H.a,{placeholder:\"0.0\",id:\"baseMarketFee\",defaultValue:V,addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{noTip:!0,name:s.get(\"symbol\")}))}))):n.a.createElement(\"div\",{\"data-tip\":_.a.translate(\"tooltip.market_fee\",{percent:I,asset:(X||\"\")+Y}),className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-12 buy-sell-label\"},n.a.createElement(R.a,{content:\"explorer.asset.summary.market_fee\"}),\", \",I),n.a.createElement(\"div\",{className:\"inputAddon small-12\"},n.a.createElement(H.a,{placeholder:\"0.0\",id:\"baseMarketFee\",defaultValue:V,addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{noTip:!0,name:s.get(\"symbol\")}))}))):null,$=F.a.replaceName(this.props.quote),ee=$.name,te=$.prefix,ae=K.charge_market_fee?C?n.a.createElement(\"div\",{\"data-tip\":_.a.translate(\"tooltip.market_fee\",{percent:L,asset:(te||\"\")+ee}),className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-12 buy-sell-label\"},n.a.createElement(R.a,{content:\"explorer.asset.summary.market_fee\"}),\", \",L),n.a.createElement(\"div\",{className:\"inputAddon small-12\"},n.a.createElement(H.a,{placeholder:\"0.0\",id:\"quoteMarketFee\",defaultValue:D,addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{style:{width:100},noTip:!0,name:r.get(\"symbol\")}))}))):A?n.a.createElement(\"div\",{\"data-tip\":_.a.translate(\"tooltip.market_fee\",{percent:L,asset:(te||\"\")+ee}),className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-3 buy-sell-label\"},n.a.createElement(R.a,{content:\"explorer.asset.summary.market_fee\"}),\", \",L),n.a.createElement(\"div\",{className:\"inputAddon small-9\"},n.a.createElement(H.a,{placeholder:\"0.0\",id:\"quoteMarketFee\",defaultValue:D,addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{style:{width:100},noTip:!0,name:r.get(\"symbol\")}))}))):n.a.createElement(\"div\",{\"data-tip\":_.a.translate(\"tooltip.market_fee\",{percent:L,asset:(te||\"\")+ee}),className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-12 buy-sell-label\"},n.a.createElement(R.a,{content:\"explorer.asset.summary.market_fee\"}),\", \",L),n.a.createElement(\"div\",{className:\"inputAddon small-12\"},n.a.createElement(H.a,{placeholder:\"0.0\",id:\"quoteMarketFee\",defaultValue:D,addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{style:{width:100},noTip:!0,name:r.get(\"symbol\")}))}))):null,re=C?null:n.a.createElement(\"div\",{style:{visibility:\"hidden\"},className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-3 buy-sell-label\"},n.a.createElement(R.a,{content:\"explorer.asset.summary.market_fee\"})),n.a.createElement(\"div\",{className:\"inputAddon small-9\"},n.a.createElement(H.a,{placeholder:\"0.0\",id:\"emptyPlaceholder\",defaultValue:\"0\",addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{style:{width:100},noTip:!0,name:r.get(\"symbol\")}))}))),ne=\"bid\"===a,se=ne&&ae?ae:!ne&&Z?Z:ae||Z?re:null,oe=ne?P.getAmount({real:!0})>=parseFloat(N):P.getAmount({real:!0})>=parseFloat(x),ie=ne?_.a.translate(\"exchange.buy\"):_.a.translate(\"exchange.sell\"),le=!c&&!(P.getAmount()>0&&oe),ce=!(O>0),ue=!(x>0),pe=le||ce||ue,de=g()(a,{disabled:pe}),me=ne?s.get(\"symbol\"):r.get(\"symbol\"),he=ce?_.a.translate(\"exchange.invalid_price\"):ue?_.a.translate(\"exchange.invalid_amount\"):le?_.a.translate(\"exchange.no_balance\"):null;k[1]&&\"1.3.0\"===k[1].getIn([\"options\",\"core_exchange_rate\",\"quote\",\"asset_id\"])&&\"1.3.0\"===k[1].getIn([\"options\",\"core_exchange_rate\",\"base\",\"asset_id\"])&&(v=k[0],k.splice(1,1));var fe=0,be=k.map(function(e){var t=F.a.replaceName(e),a=t.name,r=t.prefix;return n.a.createElement(f.Select.Option,{key:e.get(\"id\"),value:fe++},r,a)}),ge=void 0;ge=v.get(\"symbol\")===me?P.clone(P.getAmount()-l.getAmount()):P;var ye=ne?_.a.translate(\"walkthrough.buy_form\"):_.a.translate(\"walkthrough.sell_form\"),_e=Object.keys(this.props.expirations).map(function(t,a){return n.a.createElement(\"option\",{value:t,key:t},e.props.expirations[t].title)}),ve=i.a.getState().settings.get(\"themes\"),ke=w()(),Ee=void 0;return Ee=C?n.a.createElement(\"div\",{className:\"small-12\"},n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-12 buy-sell-label\",content:\"exchange.price\"}),n.a.createElement(\"div\",{className:\"inputAddon small-12\"},n.a.createElement(H.a,{id:a+\"Price\",value:O,onChange:u,autoComplete:\"off\",placeholder:\"0.0\",addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{dataPlace:\"right\",name:s.get(\"symbol\")}),\" / \",n.a.createElement(U.a,{dataPlace:\"right\",name:r.get(\"symbol\")}))}))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-12 buy-sell-label\",content:\"transfer.amount\"}),n.a.createElement(\"div\",{className:\"inputAddon small-12\"},n.a.createElement(H.a,{id:a+\"Amount\",value:x,onChange:o,autoComplete:\"off\",placeholder:\"0.0\",addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{dataPlace:\"right\",name:r.get(\"symbol\")}))}))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-12 buy-sell-label\",content:\"exchange.total\"}),n.a.createElement(\"div\",{className:\"inputAddon small-12\"},n.a.createElement(H.a,{id:a+\"Total\",value:N,onChange:m,autoComplete:\"off\",placeholder:\"0.0\",addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{dataPlace:\"right\",name:s.get(\"symbol\")}))}))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-12 buy-sell-label\",content:\"transfer.fee\"}),n.a.createElement(\"div\",{className:\"inputAddon small-12\"},n.a.createElement(H.a,{id:a+\"Fee\",placeholder:\"0.0\",defaultValue:E?l.getAmount({real:!0}):_.a.translate(\"transfer.errors.insufficient\"),disabled:!0,addonAfter:n.a.createElement(f.Select,{style:{width:100,fontSize:\"75%\"},disabled:1===k.length,defaultValue:k.indexOf(this.props.feeAsset),onChange:this.props.onChangeFeeAsset},be)}))),se):A?n.a.createElement(\"div\",{className:\"small-12\"},n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-3 buy-sell-label\",content:\"exchange.price\"}),n.a.createElement(\"div\",{className:\"inputAddon small-9\"},n.a.createElement(H.a,{id:a+\"Price\",value:O,onChange:u,autoComplete:\"off\",placeholder:\"0.0\",addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{dataPlace:\"right\",name:s.get(\"symbol\")}),\" / \",n.a.createElement(U.a,{dataPlace:\"right\",name:r.get(\"symbol\")}))}))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-3 buy-sell-label\",content:\"transfer.amount\"}),n.a.createElement(\"div\",{className:\"inputAddon small-9\"},n.a.createElement(H.a,{id:a+\"Amount\",value:x,onChange:o,autoComplete:\"off\",placeholder:\"0.0\",addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{dataPlace:\"right\",name:r.get(\"symbol\")}))}))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-3 buy-sell-label\",content:\"exchange.total\"}),n.a.createElement(\"div\",{className:\"inputAddon small-9\"},n.a.createElement(H.a,{id:a+\"Total\",value:N,onChange:m,autoComplete:\"off\",placeholder:\"0.0\",addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{dataPlace:\"right\",name:s.get(\"symbol\")}))}))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-3 buy-sell-label\",content:\"transfer.fee\"}),n.a.createElement(\"div\",{className:\"inputAddon small-9\"},n.a.createElement(H.a,{id:a+\"Fee\",placeholder:\"0.0\",value:E?l.getAmount({real:!0}):_.a.translate(\"transfer.errors.insufficient\"),disabled:!0,addonAfter:n.a.createElement(f.Select,{style:{width:100,fontSize:\"75%\"},disabled:1===k.length,defaultValue:k.indexOf(this.props.feeAsset),onChange:this.props.onChangeFeeAsset},be)}))),se):n.a.createElement(\"div\",{className:\"small-12\"},n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"div\",{className:\"small-11 grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-3 buy-sell-label\",content:\"exchange.price\"}),n.a.createElement(\"div\",{className:\"small-9 buy-sell-label\",style:{textAlign:\"right\"}},n.a.createElement(\"span\",{style:{borderBottom:\"#A09F9F 1px dotted\",cursor:\"pointer\"},onClick:this.props.setPrice.bind(this,a,y.sellPrice())},n.a.createElement(z.a,{price:b,quote:r,base:s}),\" \"))),n.a.createElement(\"div\",{className:\"inputAddon small-11\"},n.a.createElement(H.a,{id:a+\"Price\",value:O,onChange:u,autoComplete:\"off\",placeholder:\"0.0\",addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{dataPlace:\"right\",name:s.get(\"symbol\")}),\" / \",n.a.createElement(U.a,{dataPlace:\"right\",name:r.get(\"symbol\")}))}))),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"div\",{className:\"small-12 grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-3 buy-sell-label\",content:\"exchange.total\"}),n.a.createElement(\"div\",{className:\"small-9 buy-sell-label\",style:{textAlign:\"right\"}},n.a.createElement(R.a,{className:\"small-3 buy-sell-label\",content:\"exchange.balance\"}),\" \",n.a.createElement(\"span\",{style:{borderBottom:\"#A09F9F 1px dotted\",cursor:\"pointer\"},onClick:this._addBalance.bind(this,ge)},F.a.format_number(P.getAmount({real:!0}),h),\" \"))),n.a.createElement(\"div\",{className:\"inputAddon small-12\"},n.a.createElement(H.a,{id:a+\"Total\",value:N,onChange:m,autoComplete:\"off\",placeholder:\"0.0\",addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{dataPlace:\"right\",name:s.get(\"symbol\")}))})))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(R.a,{className:\"small-3 buy-sell-label\",content:\"transfer.amount\"}),n.a.createElement(\"div\",{className:\"inputAddon small-11\"},n.a.createElement(H.a,{id:a+\"Amount\",value:x,onChange:o,autoComplete:\"off\",placeholder:\"0.0\",addonAfter:n.a.createElement(\"span\",{style:{fontSize:\"75%\"}},n.a.createElement(U.a,{dataPlace:\"right\",name:r.get(\"symbol\")}))}))),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(R.a,{className:\"small-3 buy-sell-label\",content:\"transfer.fee\"}),n.a.createElement(\"div\",{className:\"inputAddon small-12\"},n.a.createElement(H.a,{id:a+\"Fee\",placeholder:\"0.0\",defaultValue:E?l.getAmount({real:!0}):_.a.translate(\"transfer.errors.insufficient\"),disabled:!0,addonAfter:n.a.createElement(f.Select,{style:{width:100,fontSize:\"75%\"},disabled:1===k.length,defaultValue:k.indexOf(this.props.feeAsset),onChange:this.props.onChangeFeeAsset},be)}))))),n.a.createElement(\"div\",{className:g()(this.props.className),style:this.props.styles},n.a.createElement(\"div\",{className:\"buy-sell-container\",style:{padding:5}},S?null:n.a.createElement(\"div\",{className:\"exchange-content-header \"+a,\"data-intro\":ye},n.a.createElement(\"span\",null,n.a.createElement(M.a,{string:\"exchange.buysell_formatter\",noLink:!0,noTip:!0,keys:[{type:\"asset\",value:r.get(\"symbol\"),arg:\"asset\"},{type:\"translate\",value:c?\"exchange.short\":ne?\"exchange.buy\":\"exchange.sell\",arg:\"direction\"}]})),this.props.onFlip?n.a.createElement(\"span\",{onClick:this.props.onFlip,style:{cursor:\"pointer\",fontSize:\"1rem\"},className:\"flip-arrow\"},\" \",\"⇆\"):null,this.props.onTogglePosition?n.a.createElement(\"span\",{onClick:this.props.onTogglePosition,style:{cursor:\"pointer\",fontSize:\"1rem\"},className:\"flip-arrow\"},\" \",\"⇅\"):null,this.props.moveOrderForm?n.a.createElement(G.a,{onClick:this.props.moveOrderForm,name:\"thumb-tack\",className:\"icon-14px order-book-button-v\",style:{marginLeft:5}}):null),n.a.createElement(\"form\",{ref:\"order_form\",className:(this.props.isOpen?\"\":\"hide-container \")+\"order-form\",style:{fontSize:\"14px\"},noValidate:!0},n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},this.props.moveOrderForm&&C?n.a.createElement(\"div\",{style:{width:\"100%\",textAlign:\"right\"},onClick:this.props.moveOrderForm},n.a.createElement(G.a,{name:\"thumb-tack\",className:\"icon-18px order-book-button-v\"})):null,Ee),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:A?\"small-12 grid-block\":\"small-6\"},n.a.createElement(R.a,{className:\"small-4 buy-sell-label\",content:\"transaction.expiration\"}),n.a.createElement(\"div\",{className:\"small-8 expiration-datetime-picker\"},n.a.createElement(\"select\",{onChange:this.props.onExpirationTypeChange,value:this.props.expirationType},_e),\"SPECIFIC\"===this.props.expirationType?n.a.createElement(W.a,{pickerPosition:\"bottom center\",wrapperClassName:ve,timePicker:!0,min:ke,inputFormat:\"Do MMM YYYY hh:mm A\",value:this.props.expirationCustomTime,onChange:this.props.onExpirationCustomChange}):null)),A?null:n.a.createElement(\"div\",{className:\"small-6\"},se),n.a.createElement(\"div\",{className:\"small-12 medium-12 xlarge-12\"},A?n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-4 buy-sell-label\",content:ne?\"exchange.lowest_ask\":\"exchange.highest_bid\"}),n.a.createElement(\"div\",{className:\"small-8 buy-sell-label\"},n.a.createElement(\"span\",{style:{borderBottom:\"#A09F9F 1px dotted\",cursor:\"pointer\"},onClick:this.props.setPrice.bind(this,a,y.sellPrice())},n.a.createElement(z.a,{price:b,quote:r,base:s}),\" \",n.a.createElement(U.a,{name:s.get(\"symbol\"),noTip:!0}),\"/\",n.a.createElement(U.a,{name:r.get(\"symbol\"),noTip:!0})))):null,A?n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(R.a,{className:\"small-4 buy-sell-label\",content:\"exchange.balance\"}),n.a.createElement(\"div\",{className:\"small-8 buy-sell-label\"},n.a.createElement(\"span\",{style:{borderBottom:\"#A09F9F 1px dotted\",cursor:\"pointer\"},onClick:this._addBalance.bind(this,ge)},F.a.format_number(P.getAmount({real:!0}),h),\" \",n.a.createElement(U.a,{name:me,noTip:!0})))):null,n.a.createElement(\"div\",{style:{marginTop:10}},n.a.createElement(\"div\",null,n.a.createElement(f.Button,{\"data-tip\":he||\"\",\"data-place\":\"top\",className:pe?null:de,disabled:pe,onClick:p.bind(this,!0),type:\"primary\",style:{margin:5}},ne?\"Buy\":\"Sell\"),this.props.backedCoin?n.a.createElement(f.Button,{style:{margin:5},onClick:this.props.onDeposit.bind(this)},n.a.createElement(R.a,{content:\"exchange.quick_deposit\"})):null,this.props.onBorrow?n.a.createElement(f.Button,{style:{margin:5},onClick:this.props.onBorrow},n.a.createElement(R.a,{content:\"exchange.borrow\"})):null,this.props.currentBridges?n.a.createElement(f.Button,{style:{margin:5},onClick:this.props.onBuy.bind(this)},n.a.createElement(R.a,{content:\"exchange.quick_deposit\"})):null)))),n.a.createElement(\"div\",null,n.a.createElement(\"div\",{className:\"grid-content clear-fix no-padding\"},he&&c?n.a.createElement(\"div\",{style:{paddingRight:10},className:\"float-right\",\"data-tip\":he,\"data-place\":\"right\"},n.a.createElement(\"input\",{style:{margin:0},className:de,type:\"submit\",onClick:p.bind(this,!1),value:ie})):c?n.a.createElement(\"div\",{style:{paddingRight:10},className:\"float-right\",\"data-tip\":\"\"},n.a.createElement(\"input\",{style:{margin:0},className:de,type:\"submit\",onClick:p.bind(this,!1),value:ie})):null)))))}}]),t}();K.propTypes={balance:L.a.ChainObject,type:x.a.string,amountChange:x.a.func.isRequired,priceChange:x.a.func.isRequired,onSubmit:x.a.func.isRequired,onExpirationTypeChange:x.a.func.isRequired,onExpirationCustomChange:x.a.func.isRequired},K.defaultProps={type:\"bid\"};var Q=Object(D.a)(K),Y=a(2079),X=a(100),Z=a.n(X),$=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var ee=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={change:null,curMarket:null,marketChange:!1},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),$(t,[{key:\"shouldComponentUpdate\",value:function(e){return!(!e.volume2||e.volume2===this.props.volume2)||(e.price!==this.props.price||e.ready!==this.props.ready)}},{key:\"componentWillReceiveProps\",value:function(e){var t={change:0},a=e.market,r=this.state.curMarket!==a,n=null!=this.state.curMarket&&r;t.marketChange=n,t.curMarket=a,t.prevAsset=this.state.marketAsset,e.ready&&this.props.ready&&(t.change=parseFloat(e.price)-parseFloat(this.props.price)),this.setState(t)}},{key:\"componentDidUpdate\",value:function(){Z.a.rebuild()}},{key:\"render\",value:function(){var e=this.props,t=e.base,a=e.quote,r=e.price,s=e.content,o=e.ready,i=e.volume,l=e.toolTip,c=e.ignoreColorChange,u=this.state,p=u.change,d=null;!u.marketChange&&p&&null!==p&&!0!==c&&(d=p>0?\"pulsate green\":\"pulsate red\");var m=i?F.a.format_volume(r):F.a.price_text(r,a,t);return n.a.createElement(\"li\",{className:g()(\"stressed-stat\",this.props.className,d),onClick:this.props.onClick,\"data-place\":\"bottom\",\"data-tip\":l},n.a.createElement(\"span\",null,n.a.createElement(\"span\",{className:\"value stat-primary\"},o?m:0,\" \"),n.a.createElement(\"span\",{className:\"symbol-text\"},n.a.createElement(U.a,{name:t.get(\"symbol\")}))),s?n.a.createElement(\"div\",{className:\"stat-text\"},n.a.createElement(R.a,{content:s})):null)}}]),t}(),te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ae=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function re(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function ne(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function se(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var oe=function(e){function t(){return re(this,t),ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return se(t,n.a.Component),ae(t,[{key:\"_getFeedPrice\",value:function(){return this.props?1/F.a.get_asset_price(this.props.debtAsset.getIn([\"bitasset\",\"current_feed\",\"settlement_price\",\"quote\",\"amount\"]),this.props.collateralAsset,this.props.debtAsset.getIn([\"bitasset\",\"current_feed\",\"settlement_price\",\"base\",\"amount\"]),this.props.debtAsset):1}},{key:\"_getCollateralRatio\",value:function(){var e=this.props.object.toJS();return F.a.get_asset_amount(e.collateral,this.props.collateralAsset)/(F.a.get_asset_amount(e.debt,this.props.debtAsset)/this._getFeedPrice())}},{key:\"_getMR\",value:function(){return this.props.debtAsset.getIn([\"bitasset\",\"current_feed\",\"maintenance_collateral_ratio\"])/1e3}},{key:\"_getStatusClass\",value:function(){var e=this._getCollateralRatio(),t=this._getMR();return isNaN(e)?null:e<t?\"danger\":e<t+.5?\"warning\":\"\"}},{key:\"_getCRTip\",value:function(){var e=this._getStatusClass(),t=this._getMR();return e&&\"\"!==e?\"danger\"===e?_.a.translate(\"tooltip.cr_danger\",{mr:t}):\"warning\"===e?_.a.translate(\"tooltip.cr_warning\",{mr:t}):null:null}},{key:\"render\",value:function(){var e=this.props.object.toJS(),t=this._getCollateralRatio(),a=(F.a.get_asset_amount(e.debt,this.props.debtAsset),this._getStatusClass());return n.a.createElement(\"li\",{className:g()(\"stressed-stat\",this.props.className),onClick:this.props.onClick,\"data-place\":\"bottom\",\"data-tip\":this._getCRTip()},n.a.createElement(\"span\",null,n.a.createElement(\"span\",{className:g()(\"value stat-primary\",a)},F.a.format_number(t,2))),n.a.createElement(\"div\",{className:\"stat-text\"},n.a.createElement(R.a,{content:\"header.collateral_ratio\"})))}}]),t}();oe.propTypes={debtAsset:L.a.ChainAsset.isRequired,collateralAsset:L.a.ChainAsset.isRequired},oe=Object(D.a)(oe);var ie=function(e){function t(){return re(this,t),ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return se(t,n.a.Component),ae(t,[{key:\"render\",value:function(){var e=this.props,t=e.object,a=e.account,r=t.getIn([\"call_price\",\"quote\",\"asset_id\"]),s=t.getIn([\"call_price\",\"base\",\"asset_id\"]);return n.a.createElement(oe,te({debtAsset:r,collateralAsset:s,account:a},this.props))}}]),t}();ie.propTypes={object:L.a.ChainObject.isRequired};var le=ie=Object(D.a)(ie),ce=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var ue=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={volumeShowQuote:!0,selectedMarketPickerAsset:e.selectedMarketPickerAsset},a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),ce(t,[{key:\"componentWillReceiveProps\",value:function(e){this.setState({selectedMarketPickerAsset:e.selectedMarketPickerAsset})}},{key:\"shouldComponentUpdate\",value:function(e){return!!e.marketReady}},{key:\"_addMarket\",value:function(e,t){var a=e+\"_\"+t;this.props.starredMarkets.has(a)?O.a.removeStarMarket(e,t):O.a.addStarMarket(e,t)}},{key:\"changeVolumeBase\",value:function(){this.setState({volumeShowQuote:!this.state.volumeShowQuote})}},{key:\"marketPicker\",value:function(e){var t=this.state.selectedMarketPickerAsset;t=t&&t==e?null:e,this.setState({selectedMarketPickerAsset:t}),this.props.onToggleMarketPicker(t)}},{key:\"render\",value:function(){var e=this,t=this.props,r=t.quoteAsset,s=t.baseAsset,o=t.starredMarkets,i=t.hasPrediction,l=t.feedPrice,c=t.showCallLimit,u=t.lowestCallPrice,p=t.marketReady,d=t.latestPrice,m=t.marketStats,b=t.account,g=s.get(\"symbol\"),y=r.get(\"symbol\"),v=y+\"_\"+g,k=o.has(v)?\"gold-star\":\"grey-star\",E=m.get(\"change\"),w=0===parseFloat(E)?\"\":parseFloat(E)<0?\"negative\":\"positive\",S=m.get(\"volumeBase\"),C=m.get(\"volumeQuote\"),A=E>0?\"+\"+E:E,x=this.state.volumeShowQuote?C:S,O=this.state.volumeShowQuote?r:s,P=!1,T=r.get(\"id\"),B=s.get(\"id\"),j=\"1.3.0\"===T?B:\"1.3.0\"===B?T:null,q=j?h.ChainStore.getAsset(j):null,F=\"\",I=null;if(!!q&&!!q.get(\"bitasset\")){if(b.toJS&&b.has(\"call_orders\"))for(var M=b.get(\"call_orders\").toJS(),L=0;L<M.length;L++){var D=M[L];if(h.ChainStore.getObject(D).getIn([\"call_price\",\"quote\",\"asset_id\"])===j){F=D,P=!0;break}}var z=\"1.3.0\"==B?r:\"1.3.0\"==T?s:r;if(z&&l){var H=z.getIn([\"bitasset\",\"options\"]).toJS().force_settlement_offset_percent;I=\"1.3.0\"==B?l.toReal()/(1+H/1e4):l.toReal()*(1+H/1e4)}}var V=a(14),W=!!this.state.selectedMarketPickerAsset&&this.state.selectedMarketPickerAsset==y,J=!!this.state.selectedMarketPickerAsset&&this.state.selectedMarketPickerAsset==g;return n.a.createElement(\"div\",{className:\"grid-block shrink no-padding overflow-visible top-bar\"},n.a.createElement(\"div\",{className:\"grid-block overflow-visible\"},n.a.createElement(\"div\",{className:\"grid-block shrink\"},n.a.createElement(\"div\",{style:{padding:\"10px\"}},i?n.a.createElement(\"a\",{className:\"market-symbol\"},n.a.createElement(\"span\",null,y+\" : \"+g)):n.a.createElement(\"div\",{style:{padding:\"0 5px\",fontSize:this.props.tinyScreen?\"13px\":\"18px\",marginTop:\"1px\"}},n.a.createElement(\"span\",{onClick:this.marketPicker.bind(this,y),className:\"underline\",style:{cursor:\"pointer\",color:W?\"#2196f3\":\"\"}},n.a.createElement(U.a,{name:y,replace:!0,noTip:!0})),n.a.createElement(\"span\",{style:{padding:\"0 5px\"}},\"/\"),n.a.createElement(\"span\",{onClick:this.marketPicker.bind(this,g),className:\"underline\",style:{cursor:\"pointer\",color:J?\"#2196f3\":\"\"}},n.a.createElement(U.a,{name:g,replace:!0,noTip:!0}))),n.a.createElement(\"div\",{className:\"label-actions\"},n.a.createElement(R.a,{component:\"span\",style:{padding:\"5px 0 0 5px\"},className:\"stat-text\",content:\"exchange.trading_pair\"}),n.a.createElement(Y.a,{onClick:function(){N.a.switchMarket()},to:\"/market/\"+g+\"_\"+y,\"data-intro\":V.translate(\"walkthrough.switch_button\")},n.a.createElement(G.a,{className:\"shuffle\",name:\"shuffle\",title:\"icons.shuffle\"})),n.a.createElement(\"a\",{onClick:function(){e._addMarket(e.props.quoteAsset.get(\"symbol\"),e.props.baseAsset.get(\"symbol\"))},\"data-intro\":V.translate(\"walkthrough.favourite_button\")},n.a.createElement(G.a,{className:k,name:\"fi-star\",title:\"icons.fi_star.market\"}))))),n.a.createElement(\"div\",{className:\"grid-block vertical\",style:{overflow:\"visible\"}},n.a.createElement(\"div\",{className:\"grid-block wrap market-stats-container\"},n.a.createElement(\"ul\",{className:\"market-stats stats top-stats\"},d?n.a.createElement(ee,{ignoreColorChange:!0,ready:p,price:d,quote:r,base:s,market:v,content:\"exchange.latest\"}):null,n.a.createElement(\"li\",{className:\"hide-order-1 stressed-stat daily_change \"+w},n.a.createElement(\"span\",null,n.a.createElement(\"b\",{className:\"value\"},p?A:0),n.a.createElement(\"span\",null,\" %\")),n.a.createElement(R.a,{component:\"div\",className:\"stat-text\",content:\"account.hour_24\"})),S>=0?n.a.createElement(ee,{ignoreColorChange:!0,onClick:this.changeVolumeBase.bind(this),ready:p,decimals:0,volume:!0,price:x,className:\"hide-order-2 clickable\",base:O,market:v,content:\"exchange.volume_24\"}):null,!i&&I?n.a.createElement(ee,{ignoreColorChange:!0,toolTip:_.a.translate(\"tooltip.feed_price\"),ready:p,className:\"hide-order-3\",price:l.toReal(),quote:r,base:s,market:v,content:\"exchange.feed_price\"}):null,!i&&l?n.a.createElement(ee,{ignoreColorChange:!0,toolTip:_.a.translate(\"tooltip.settle_price\"),ready:p,className:\"hide-order-4\",price:I,quote:r,base:s,market:v,content:\"exchange.settle\"}):null,P?n.a.createElement(le,{object:F,account:b,className:\"hide-order-1\"}):null,u&&c?n.a.createElement(ee,{toolTip:_.a.translate(\"tooltip.call_limit\"),ready:p,className:\"hide-order-5 is-call\",price:u,quote:r,base:s,market:v,content:\"explorer.block.call_limit\"}):null,l&&c?n.a.createElement(ee,{toolTip:_.a.translate(\"tooltip.margin_price\"),ready:p,className:\"hide-order-6 is-call\",price:l.getSqueezePrice({real:!0}),quote:r,base:s,market:v,content:\"exchange.squeeze\"}):null),n.a.createElement(\"ul\",{className:\"market-stats stats top-stats\"},n.a.createElement(\"li\",{className:\"stressed-stat input clickable\",style:{padding:\"16px 16px 16px 0px\"},onClick:this.props.onToggleSettings.bind(this)},n.a.createElement(f.Icon,{type:\"setting\",style:{paddingRight:5}}),n.a.createElement(R.a,{className:\"column-hide-xs\",content:\"exchange.settings.header\"})))))))}}]),t}(),pe=a(1848),de=a(1943),me=a(1786),he=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function fe(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function be(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function ge(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ye=function(e){function t(){return fe(this,t),be(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ge(t,n.a.Component),he(t,[{key:\"render\",value:function(){var e=this.props,t=e.orderRows,a=e.noOrders,r=e.isBid,s=e.id;return n.a.createElement(me.a,{id:s,ref:r?\"bidTransition\":\"askTransaction\",className:\"transition-container clickable\",component:\"div\",transitionName:\"newrow\"},t.length>0?t:a||n.a.createElement(\"div\",{className:\"sticky-table-row\"},n.a.createElement(\"td\",{className:\"cell no-orders\",colSpan:\"3\"},r?n.a.createElement(R.a,{content:\"exchange.no_bids\"}):n.a.createElement(R.a,{content:\"exchange.no_asks\"}))))}}]),t}();ye.propTypes={orderRows:x.a.array.isRequired,noOrders:x.a.bool.isRequired,isBid:x.a.bool.isRequired};var _e=function(e){function t(){return fe(this,t),be(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ge(t,n.a.Component),he(t,[{key:\"shouldComponentUpdate\",value:function(e){return e.order.market_base===this.props.order.market_base&&(e.order.ne(this.props.order)||e.index!==this.props.index||e.currentAccount!==this.props.currentAccount||e.isPanelActive!==this.props.isPanelActive||e.horizontal!==this.props.horizontal)}},{key:\"render\",value:function(){var e=this.props,t=e.order,a=e.quote,r=e.base,s=e.final,o=t.isBid(),i=t.isCall()?\"orderHistoryCall\":o?\"orderHistoryBid\":\"orderHistoryAsk\",l=n.a.createElement(z.a,{price:t.getPrice(),quote:a,base:r});return n.a.createElement(\"div\",{onClick:this.props.onClick,className:g()(\"sticky-table-row order-row\",{\"final-row\":s},{\"my-order\":t.isMine(this.props.currentAccount)})},n.a.createElement(\"div\",{className:\"cell left\"},F.a.format_number(t[o?\"amountForSale\":\"amountToReceive\"]().getAmount({real:!0}),r.get(\"precision\"))),n.a.createElement(\"div\",{className:\"cell\"},F.a.format_number(t[o?\"amountToReceive\":\"amountForSale\"]().getAmount({real:!0}),a.get(\"precision\"))),n.a.createElement(\"div\",{className:\"cell \"+i+\" right\"},l))}}]),t}(),ve=function(e){return e?e.getBoundingClientRect().height:0},ke=function(e){function t(){return fe(this,t),be(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ge(t,n.a.Component),he(t,[{key:\"shouldComponentUpdate\",value:function(e){return e.order.ne(this.props.order)||e.position!==this.props.position||e.index!==this.props.index||e.currentAccount!==this.props.currentAccount}},{key:\"render\",value:function(){var e=this.props,t=e.order,a=e.quote,r=e.base,s=e.position,o=t.isBid(),i=t.isCall()?\"orderHistoryCall\":o?\"orderHistoryBid\":\"orderHistoryAsk\",l=n.a.createElement(z.a,{price:t.getPrice(),quote:a,base:r}),c=o?F.a.format_number(t.amountToReceive().getAmount({real:!0}),a.get(\"precision\")):F.a.format_number(t.amountForSale().getAmount({real:!0}),a.get(\"precision\")),u=o?F.a.format_number(t.amountForSale().getAmount({real:!0}),r.get(\"precision\")):F.a.format_number(t.amountToReceive().getAmount({real:!0}),r.get(\"precision\")),p=o?F.a.format_number(t.totalForSale().getAmount({real:!0}),r.get(\"precision\")):F.a.format_number(t.totalToReceive().getAmount({real:!0}),r.get(\"precision\"));return n.a.createElement(\"tr\",{onClick:this.props.onClick,className:t.isMine(this.props.currentAccount)?\"my-order\":\"\"},\"left\"===s?n.a.createElement(\"td\",{className:\"column-hide-xs\"},p):n.a.createElement(\"td\",{style:{width:\"25%\"},className:i},l),n.a.createElement(\"td\",null,\"left\"===s?u:c),n.a.createElement(\"td\",null,\"left\"===s?c:u),\"right\"===s?n.a.createElement(\"td\",{className:\"column-hide-xs\"},p):n.a.createElement(\"td\",{style:{width:\"25%\"},className:i},l))}}]),t}(),Ee=function(e){function t(){return fe(this,t),be(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ge(t,n.a.Component),he(t,[{key:\"shouldComponentUpdate\",value:function(e){return e.order.market_base===this.props.order.market_base&&(e.order.ne(this.props.order)||e.index!==this.props.index||e.currentAccount!==this.props.currentAccount)}},{key:\"render\",value:function(){var e=this.props,t=e.order,a=e.quote,r=e.base,s=e.final,o=t.isBid(),i=o?\"orderHistoryBid\":\"orderHistoryAsk\",l=n.a.createElement(z.a,{price:t.getPrice(),quote:a,base:r});return n.a.createElement(\"div\",{onClick:this.props.onClick,className:g()(\"sticky-table-row order-row\",{\"final-row\":s})},n.a.createElement(\"div\",{className:\"cell left\"},F.a.format_number(t[o?\"amountForSale\":\"amountToReceive\"]().getAmount({real:!0}),r.get(\"precision\"))),n.a.createElement(\"div\",{className:\"cell\"},F.a.format_number(t[o?\"amountToReceive\":\"amountForSale\"]().getAmount({real:!0}),a.get(\"precision\"))),n.a.createElement(\"div\",{className:\"cell \"+i+\" right\"},l))}}]),t}(),we=function(e){function t(){return fe(this,t),be(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ge(t,n.a.Component),he(t,[{key:\"shouldComponentUpdate\",value:function(e){return e.order.ne(this.props.order)||e.position!==this.props.position||e.index!==this.props.index||e.currentAccount!==this.props.currentAccount}},{key:\"render\",value:function(){var e=this.props,t=e.order,a=e.quote,r=e.base,s=e.position,o=t.isBid(),i=o?\"orderHistoryBid\":\"orderHistoryAsk\",l=n.a.createElement(z.a,{price:t.getPrice(),quote:a,base:r}),c=o?F.a.format_number(t.amountToReceive().getAmount({real:!0}),a.get(\"precision\")):F.a.format_number(t.amountForSale().getAmount({real:!0}),a.get(\"precision\")),u=o?F.a.format_number(t.amountForSale().getAmount({real:!0}),r.get(\"precision\")):F.a.format_number(t.amountToReceive().getAmount({real:!0}),r.get(\"precision\")),p=o?F.a.format_number(t.totalForSale().getAmount({real:!0}),r.get(\"precision\")):F.a.format_number(t.totalToReceive().getAmount({real:!0}),r.get(\"precision\"));return n.a.createElement(\"tr\",{onClick:this.props.onClick},\"left\"===s?n.a.createElement(\"td\",{className:\"column-hide-xs\"},p):n.a.createElement(\"td\",{style:{width:\"25%\"},className:i},l),n.a.createElement(\"td\",null,\"left\"===s?u:c),n.a.createElement(\"td\",null,\"left\"===s?c:u),\"right\"===s?n.a.createElement(\"td\",{className:\"column-hide-xs\"},p):n.a.createElement(\"td\",{style:{width:\"25%\"},className:i},l))}}]),t}(),Se=function(e){function t(){fe(this,t);var e=be(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={groupLimit:\"\"},e}return ge(t,n.a.Component),he(t,[{key:\"render\",value:function(){var e=this,t=0===this.props.trackedGroupsConfig.length,a=this.props.trackedGroupsConfig.map(function(t){return e.props.globalSettingsSelector?n.a.createElement(f.Select.Option,{value:t,key:t},t/100+\"%\"):n.a.createElement(\"option\",{value:t,key:t},t/100+\"%\")});return this.props.globalSettingsSelector?n.a.createElement(f.Select,{placeholder:\"Select option\",style:{width:\"100%\"},value:this.props.currentGroupOrderLimit,disabled:t,onChange:this.props.handleGroupOrderLimitChange.bind(this)},t?n.a.createElement(f.Select.Option,{value:0},n.a.createElement(R.a,{content:\"tooltip.no_groups_available\"})):n.a.createElement(f.Select.Option,{value:0},n.a.createElement(R.a,{content:\"settings.disabled\"})),a):n.a.createElement(\"select\",{value:this.state.groupLimit,onChange:this.props.handleGroupOrderLimitChange,\"data-tip\":t?_.a.translate(\"tooltip.no_groups_available\"):null,className:\"settings-select\",style:t?{cursor:\"not-allowed\"}:null},n.a.createElement(R.a,{content:\"exchange.group_order_limit\",component:\"option\",value:\"0\"}),a)}}],[{key:\"getDerivedStateFromProps\",value:function(e){return{groupLimit:e.currentGroupOrderLimit}}}]),t}(),Ce=function(e){function t(e){fe(this,t);var a=be(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.queryStickyTable=function(e){return a.verticalStickyTable.current.table.querySelector(e)},a.verticalScrollBar=function(){return a.queryStickyTable(\"#y-scrollbar\")},a.toggleFlipBuySell=function(){O.a.changeViewSetting({flipOrderBook:!a.state.flip}),a.setState({flip:!a.state.flip},function(){a.psUpdate()})},a.toggleSpreadValue=function(){a.setState({displaySpreadAsPercentage:!a.state.displaySpreadAsPercentage})},a.toggleAutoScroll=function(){a.setState({autoScroll:!a.state.autoScroll})},a.toggleOrderBook=function(){var e={orderBookReversed:!a.state.orderBookReversed};O.a.changeViewSetting(e),a.setState(e,function(){a.psUpdate()})},a.state={flip:e.flipOrderBook,orderBookReversed:e.orderBookReversed,showAllBids:!1,showAllAsks:!1,rowCount:20,autoScroll:e.autoScroll},a.verticalStickyTable=n.a.createRef(),a.centerText=n.a.createRef(),a}return ge(t,n.a.Component),he(t,[{key:\"componentWillReceiveProps\",value:function(e){this.setState({autoScroll:e.autoScroll})}},{key:\"componentWillReceiveProps\",value:function(e){this.setState({autoScroll:e.autoScroll})}},{key:\"shouldComponentUpdate\",value:function(e,t){if(this.props.horizontal&&this.props.hideScrollbars&&t.showAllAsks!=this.state.showAllAsks){var a=this.refs.hor_asks;t.showAllAsks?(C.a.initialize(a),this.psUpdate()):C.a.destroy(a),this.refs.askTransition.resetAnimation(),this.refs.hor_asks&&(this.refs.hor_asks.scrollTop=0)}if(this.props.horizontal&&this.props.hideScrollbars&&t.showAllBids!=this.state.showAllBids){var r=this.refs.hor_bids;t.showAllBids?(C.a.initialize(r),this.psUpdate()):C.a.destroy(r),this.refs.bidTransition.resetAnimation(),this.refs.hor_bids&&(this.refs.hor_bids.scrollTop=0)}return!0}},{key:\"componentDidUpdate\",value:function(e,t,a){var r=this.props;r.base.get(\"id\")===e.base.get(\"id\")&&r.quote.get(\"id\")===e.quote.get(\"id\")||(this.refs.askTransition&&(this.refs.askTransition.resetAnimation(),this.refs.hor_asks&&(this.refs.hor_asks.scrollTop=0),this.refs.hor_bids&&(this.refs.hor_bids.scrollTop=0)),this.refs.bidTransition&&this.refs.bidTransition.resetAnimation(),this.refs.vert_bids&&(this.refs.vert_bids.scrollTop=0),this.props.horizontal||this.setState({autoScroll:this.state.autoScroll}));var n=this.refs.hor_bids,s=this.refs.hor_asks;this.props.horizontal&&r.hideScrollbars!==this.props.hideScrollbars&&r.hideScrollbars&&(C.a.destroy(n),C.a.destroy(s)),this.props.horizontal&&r.hideScrollbars!==this.props.hideScrollbars&&!r.hideScrollbars&&(C.a.initialize(n),C.a.initialize(s),this.refs.askTransition.resetAnimation(),this.refs.bidTransition.resetAnimation(),s&&(s.scrollTop=0),n&&(n.scrollTop=0),this.psUpdate()),this.centerVerticalScrollBar()}},{key:\"componentDidMount\",value:function(){if(this.props.horizontal){if(!this.props.hideScrollbars){var e=this.refs.hor_bids;C.a.initialize(e);var t=this.refs.hor_asks;C.a.initialize(t)}}else C.a.initialize(this.verticalScrollBar())}},{key:\"centerVerticalScrollBar\",value:function(){if(!this.props.horizontal&&this.state.autoScroll){var e=this.queryStickyTable(\"#sticky-table-y-wrapper\"),t=this.queryStickyTable(\"#sticky-table-header\"),a=this.centerText.current,r=ve(this.queryStickyTable(\".order-row\")),n=(0!==this.props.currentGroupOrderLimit?this.props.groupedAsks:this.props.combinedAsks).length*r,s=ve(e)-ve(t),o=n+ve(a)/2-s/2;e.scrollTop=o}}},{key:\"psUpdate\",value:function(){if(this.props.horizontal){var e=this.refs.hor_bids;C.a.update(e);var t=this.refs.hor_asks;C.a.update(t)}else C.a.update(this.verticalScrollBar())}},{key:\"_onSetShowAll\",value:function(e){\"asks\"===e?(this.setState({showAllAsks:!this.state.showAllAsks}),this.state.showAllAsks&&(this.refs.hor_asks.scrollTop=0)):(this.setState({showAllBids:!this.state.showAllBids}),this.state.showAllBids&&(this.refs.hor_bids.scrollTop=0))}},{key:\"render\",value:function(){var e=this,t=this.props,a=t.combinedBids,r=t.combinedAsks,s=t.highestBid,o=t.lowestAsk,i=t.quote,l=t.base,c=t.totalAsks,u=t.totalBids,p=t.quoteSymbol,d=t.baseSymbol,m=t.horizontal,h=t.trackedGroupsConfig,f=t.currentGroupOrderLimit,b=t.handleGroupOrderLimitChange,y=t.orderBookReversed,v=t.groupedBids,k=t.groupedAsks,E=this.state,w=E.showAllAsks,S=E.showAllBids,C=E.rowCount,A=E.displaySpreadAsPercentage,x=!o.sell_price&&!s.sell_price,O=!(!o.sell_price||!s.sell_price)&&(A?(100*(o._real_price/s._real_price-1)).toFixed(2)+\"%\":n.a.createElement(z.a,{price:o._real_price-s._real_price,base:l,quote:i})),N=null,P=null,T=0!==this.props.currentGroupOrderLimit?k:r,B=0!==this.props.currentGroupOrderLimit?v:a;if(m||y?!m&&y&&(B.sort(function(e,t){return e.getPrice()-t.getPrice()}),T.sort(function(e,t){return e.getPrice()-t.getPrice()})):(B.sort(function(e,t){return t.getPrice()-e.getPrice()}),T.sort(function(e,t){return t.getPrice()-e.getPrice()})),l&&i&&(0!==this.props.currentGroupOrderLimit?(N=B.map(function(t,a){return m?n.a.createElement(we,{index:a,key:t.getPrice()+(t.isBid()?\"_bid\":\"\"),order:t,onClick:e.props.onClick.bind(e,t),base:l,quote:i,position:e.state.flip?\"right\":\"left\",currentAccount:e.props.currentAccount}):n.a.createElement(Ee,{index:a,key:t.getPrice()+(t.isBid()?\"_bid\":\"\"),order:t,onClick:e.props.onClick.bind(e,t),base:l,quote:i,final:0===a,currentAccount:e.props.currentAccount})}),P=T.map(function(t,a){return m?n.a.createElement(we,{index:a,key:t.getPrice()+(t.isBid()?\"_bid\":\"\"),order:t,onClick:e.props.onClick.bind(e,t),base:l,quote:i,type:t.type,position:e.state.flip?\"left\":\"right\",currentAccount:e.props.currentAccount}):n.a.createElement(Ee,{index:a,key:t.getPrice()+(t.isBid()?\"_bid\":\"\"),order:t,onClick:e.props.onClick.bind(e,t),base:l,quote:i,type:t.type,final:0===a,currentAccount:e.props.currentAccount})})):(N=B.map(function(t,a){return m?n.a.createElement(ke,{index:a,key:t.getPrice()+(t.isCall()?\"_call\":\"\"),order:t,onClick:e.props.onClick.bind(e,t),base:l,quote:i,position:e.state.flip?\"right\":\"left\",currentAccount:e.props.currentAccount}):n.a.createElement(_e,{index:a,key:t.getPrice()+(t.isCall()?\"_call\":\"\"),order:t,onClick:e.props.onClick.bind(e,t),base:l,quote:i,final:0===a,currentAccount:e.props.currentAccount})}),P=T.map(function(t,a){return m?n.a.createElement(ke,{index:a,key:t.getPrice()+(t.isCall()?\"_call\":\"\"),order:t,onClick:e.props.onClick.bind(e,t),base:l,quote:i,type:t.type,position:e.state.flip?\"left\":\"right\",currentAccount:e.props.currentAccount}):n.a.createElement(_e,{index:a,key:t.getPrice()+(t.isCall()?\"_call\":\"\"),order:t,onClick:e.props.onClick.bind(e,t),base:l,quote:i,type:t.type,final:0===a,currentAccount:e.props.currentAccount})}))),this.props.horizontal){var j=N.length,q=P.length;S||N.splice(C,N.length),w||P.splice(C,P.length);var I=n.a.createElement(\"thead\",null,n.a.createElement(\"tr\",{key:\"top-header\",className:\"top-header\"},n.a.createElement(\"th\",{className:\"column-hide-xs\"},n.a.createElement(R.a,{className:\"header-sub-title\",content:\"exchange.total\"}),n.a.createElement(\"span\",{className:\"header-sub-title\"},\" \",\"(\",n.a.createElement(U.a,{dataPlace:\"top\",name:d}),\")\")),n.a.createElement(\"th\",null,n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(U.a,{dataPlace:\"top\",name:d}))),n.a.createElement(\"th\",null,n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(U.a,{dataPlace:\"top\",name:p}))),n.a.createElement(\"th\",null,n.a.createElement(R.a,{className:(this.state.flip?\"ask-total\":\"bid-total\")+\" header-sub-title\",content:\"exchange.price\"})))),M=n.a.createElement(\"thead\",null,n.a.createElement(\"tr\",{key:\"top-header\",className:\"top-header\"},n.a.createElement(\"th\",null,n.a.createElement(R.a,{className:(this.state.flip?\"bid-total\":\"ask-total\")+\" header-sub-title\",content:\"exchange.price\"})),n.a.createElement(\"th\",null,n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(U.a,{dataPlace:\"top\",name:p}))),n.a.createElement(\"th\",null,n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(U.a,{dataPlace:\"top\",name:d}))),n.a.createElement(\"th\",{className:\"column-hide-xs\"},n.a.createElement(R.a,{className:\"header-sub-title\",content:\"exchange.total\"}),n.a.createElement(\"span\",{className:\"header-sub-title\"},\" \",\"(\",n.a.createElement(U.a,{dataPlace:\"top\",name:d}),\")\")))),L=this.props.wrapperClass,D=this.props.innerClass;return n.a.createElement(\"div\",{ref:\"order_book\",style:{marginRight:this.props.smallScreen?10:0},className:g()(L)},n.a.createElement(\"div\",{className:g()(D,this.state.flip?\"order-1\":\"order-2\")},n.a.createElement(\"div\",null,n.a.createElement(\"div\",{className:\"exchange-content-header ask\",\"data-intro\":_.a.translate(\"walkthrough.sell_orders\")},n.a.createElement(R.a,{content:\"exchange.asks\"}),this.state.flip?n.a.createElement(\"div\",{style:{display:\"inline-block\"}},n.a.createElement(\"span\",{onClick:this.toggleFlipBuySell.bind(this),style:{cursor:\"pointer\",fontSize:\"1rem\",marginLeft:\"4px\",position:\"relative\",top:\"-2px\"},className:\"flip-arrow\"},\" \",\"⇆\")):null,this.state.flip?n.a.createElement(\"div\",{className:\"float-right header-sub-title grouped_order\"},h?n.a.createElement(Se,{trackedGroupsConfig:h,handleGroupOrderLimitChange:b,currentGroupOrderLimit:f}):null):null,this.props.onTogglePosition?n.a.createElement(\"span\",{onClick:this.props.onTogglePosition,style:{cursor:\"pointer\",fontSize:\"1rem\"},className:\"flip-arrow\"},\" \",\"⇅\"):null,this.state.flip?n.a.createElement(\"span\",{className:\"order-book-button-v\",onClick:this.props.moveOrderBook},n.a.createElement(G.a,{name:\"thumb-tack\",className:\"icon-14px\"})):null,n.a.createElement(\"div\",{style:{lineHeight:\"16px\"},className:\"header-sub-title float-right\"},n.a.createElement(R.a,{content:\"exchange.volume\"}),n.a.createElement(\"span\",null,\": \"),F.a.format_number(c,i.get(\"precision\")),n.a.createElement(\"span\",null,\" \",\"(\",n.a.createElement(U.a,{name:p}),\")\"))),n.a.createElement(\"div\",{className:\"market-right-padding-only\"},n.a.createElement(\"table\",{className:\"table order-table table-hover fixed-table text-right\"},this.state.flip?I:M)),n.a.createElement(\"div\",{className:\"grid-block\",ref:\"hor_asks\",style:{paddingRight:\"0.6rem\",overflow:\"hidden\",maxHeight:260,lineHeight:\"13px\"}},n.a.createElement(\"table\",{style:{paddingBottom:5},className:\"table order-table no-stripes table-hover fixed-table text-right no-overflow\"},n.a.createElement(me.a,{ref:\"askTransition\",className:\"orderbook clickable\",component:\"tbody\",transitionName:\"newrow\",id:\"top-order-rows\"},P))),q>11?n.a.createElement(\"div\",{className:\"orderbook-showall\"},n.a.createElement(\"a\",{onClick:this._onSetShowAll.bind(this,\"asks\")},n.a.createElement(R.a,{content:w?\"exchange.hide\":\"exchange.show_asks\",ordercount:q}))):null)),n.a.createElement(\"div\",{className:g()(D,this.state.flip?\"order-2\":\"order-1\")},n.a.createElement(\"div\",null,n.a.createElement(\"div\",{className:\"exchange-content-header bid\",\"data-intro\":_.a.translate(\"walkthrough.buy_orders\")},n.a.createElement(R.a,{content:\"exchange.bids\"}),this.state.flip?null:n.a.createElement(\"div\",{style:{display:\"inline-block\"}},n.a.createElement(\"span\",{onClick:this.toggleFlipBuySell.bind(this),style:{cursor:\"pointer\",fontSize:\"1rem\",marginLeft:\"4px\",position:\"relative\",top:\"-2px\"},className:\"flip-arrow\"},\" \",\"⇆\")),this.state.flip?null:n.a.createElement(\"div\",{className:\"float-right header-sub-title grouped_order\"},h?n.a.createElement(Se,{trackedGroupsConfig:h,handleGroupOrderLimitChange:b,currentGroupOrderLimit:f}):null),this.props.onTogglePosition?n.a.createElement(\"span\",{onClick:this.props.onTogglePosition,style:{cursor:\"pointer\",fontSize:\"1rem\"},className:\"flip-arrow\"},\" \",\"⇅\"):null,this.state.flip?null:n.a.createElement(\"span\",{className:\"order-book-button-v\",onClick:this.props.moveOrderBook},n.a.createElement(G.a,{name:\"thumb-tack\",className:\"icon-14px\"})),n.a.createElement(\"div\",{style:{lineHeight:\"16px\"},className:\"float-right header-sub-title\"},n.a.createElement(R.a,{content:\"exchange.volume\"}),n.a.createElement(\"span\",null,\": \"),F.a.format_number(u,l.get(\"precision\")),n.a.createElement(\"span\",null,\" \",\"(\",n.a.createElement(U.a,{name:d}),\")\"))),n.a.createElement(\"div\",{className:\"market-right-padding-only\"},n.a.createElement(\"table\",{className:\"table order-table table-hover fixed-table text-right\"},this.state.flip?M:I)),n.a.createElement(\"div\",{className:\"grid-block\",ref:\"hor_bids\",style:{paddingRight:\"0.6rem\",overflow:\"hidden\",maxHeight:260,lineHeight:\"13px\"}},n.a.createElement(\"table\",{style:{paddingBottom:5},className:\"table order-table no-stripes table-hover fixed-table text-right no-overflow\"},n.a.createElement(me.a,{ref:\"bidTransition\",className:\"orderbook clickable\",component:\"tbody\",transitionName:\"newrow\"},N))),j>C?n.a.createElement(\"div\",{className:\"orderbook-showall\"},n.a.createElement(\"a\",{onClick:this._onSetShowAll.bind(this,\"bids\")},n.a.createElement(R.a,{content:S?\"exchange.hide\":\"exchange.show_bids\",ordercount:j}))):null)))}return n.a.createElement(\"div\",{className:\"order-table-container\"},n.a.createElement(de.StickyTable,{stickyColumnCount:0,className:\"order-table table\",ref:this.verticalStickyTable},n.a.createElement(\"div\",{className:\"sticky-table-row top-header\"},n.a.createElement(\"div\",{className:\"cell header-cell left\"},n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(U.a,{name:d}))),n.a.createElement(\"div\",{className:\"cell header-cell\"},n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(U.a,{name:p}))),n.a.createElement(\"div\",{className:\"cell header-cell right\"},n.a.createElement(R.a,{className:\"header-sub-title\",content:\"exchange.price\"}))),this.state.orderBookReversed?n.a.createElement(ye,{id:\"top-order-rows\",noOrders:x,orderRows:N,isBid:!0}):n.a.createElement(ye,{id:\"top-order-rows\",noOrders:x,orderRows:P,isBid:!1}),n.a.createElement(\"div\",{className:\"sticky-table-row\",ref:this.centerText},x?n.a.createElement(\"td\",{colSpan:3,className:\"no-orders padtop\"},n.a.createElement(R.a,{content:\"exchange.no_orders\"})):n.a.createElement(\"td\",{className:\"cell center-cell\",colSpan:\"3\"},n.a.createElement(\"div\",{className:\"orderbook-latest-price\"},n.a.createElement(\"div\",null,n.a.createElement(\"div\",{className:\"text-center spread\"},n.a.createElement(\"span\",{className:\"clickable left\",onClick:this.toggleSpreadValue},n.a.createElement(R.a,{className:\"orderbook-center-title\",content:\"exchange.spread\"}),\" \",n.a.createElement(\"span\",{className:\"spread-value\"},O||\"0\")),n.a.createElement(\"span\",{style:{width:75}},n.a.createElement(G.a,{className:\"lock-unlock clickable icon-fill\",onClick:this.toggleAutoScroll,name:this.state.autoScroll?\"locked\":\"unlocked\",title:this.state.autoScroll?\"icons.unlocked.disable_auto_scroll\":\"icons.locked.enable_auto_scroll\"}),\" \",n.a.createElement(G.a,{onClick:this.props.moveOrderBook,name:\"thumb-tack\",className:\"icon-14px order-book-button-v clickable\",title:this.props.horizontal?\"icons.thumb_tack\":\"icons.thumb_untack\",style:{marginLeft:0}}),\" \",0==f?null:n.a.createElement(G.a,{name:\"grouping\",className:\"icon-14px\",title:_.a.translate(\"icons.order_grouping\"),style:{marginLeft:0}})),!!this.props.latest&&n.a.createElement(\"span\",{className:\"right\"},n.a.createElement(\"span\",{className:this.props.changeClass?this.props.changeClass:\"spread-value\"},n.a.createElement(z.a,{price:this.props.latest,base:this.props.base,quote:this.props.quote})))))))),this.state.orderBookReversed?n.a.createElement(ye,{noOrders:x,orderRows:P,isBid:!1}):n.a.createElement(ye,{noOrders:x,orderRows:N,isBid:!0})))}}]),t}();Ce.defaultProps={bids:[],asks:[],orders:{}},Ce.propTypes={bids:x.a.array.isRequired,asks:x.a.array.isRequired,orders:x.a.object.isRequired};var Ae=a(11),xe=a.n(Ae),Oe=a(33),Ne=a(133),Pe=a(237),Te=a(1812),Be=a.n(Te),je=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),je(t,[{key:\"componentWillMount\",value:function(){this.props.blockHeader||Pe.a.getHeader.defer(this.props.block_number)}},{key:\"shouldComponentUpdate\",value:function(e){return e.blockHeader&&!this.props.blockHeader&&setTimeout(Z.a.rebuild,1e3),e.blockHeader!==this.props.blockHeader}},{key:\"render\",value:function(){var e=this.props,t=e.blockHeader,a=e.tooltip,r=e.component,s=e.format;return t?n.a.createElement(r,{className:a?\"tooltip\":\"\",\"data-tip\":a?t.timestamp:\"\"},n.a.createElement(\"span\",null,_.a.localize(t.timestamp,{type:\"date\",format:s}))):n.a.createElement(r)}}]),t}();qe.defaultProps={format:-1!==Be()().toLowerCase().indexOf(\"en-us\")?\"market_history_us\":\"market_history\",tooltip:!1,component:\"span\"};var Fe=qe=Object(Oe.a)(qe,{listenTo:function(){return[Ne.a]},getProps:function(e){return{blockHeader:Ne.a.getState().blockHeaders.get(e.block_number)}}}),Ie=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function Re(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Me=h.ChainTypes.operations,Le=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={activeTab:e.viewSettings.get(\"historyTab\",\"history\"),rowCount:20,showAll:!1},a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),Ie(t,[{key:\"shouldComponentUpdate\",value:function(e,t){if(e.activeTab!==this.props.activeTab&&this._changeTab(e.activeTab),this.props.hideScrollbars&&t.showAll!=this.state.showAll){var a=this.refs.history;t.showAll?(C.a.initialize(a),C.a.update(a)):C.a.destroy(a),this.refs.historyTransition.resetAnimation(),a&&(a.scrollTop=0)}return!xe.a.is(e.history,this.props.history)||e.baseSymbol!==this.props.baseSymbol||e.quoteSymbol!==this.props.quoteSymbol||e.className!==this.props.className||e.activeTab!==this.props.activeTab||t.activeTab!==this.state.activeTab||t.showAll!==this.state.showAll||e.currentAccount!==this.props.currentAccount||e.isPanelActive!==this.props.isPanelActive||e.hideScrollbars!==this.props.hideScrollbars}},{key:\"componentDidMount\",value:function(){if(!this.props.hideScrollbars){var e=this.refs.history;e&&C.a.initialize(e)}}},{key:\"componentDidUpdate\",value:function(){if(!this.props.hideScrollbars||this.props.hideScrollbars&&this.state.showAll){var e=this.refs.history;e&&C.a.update(e)}}},{key:\"componentWillReceiveProps\",value:function(e){var t=this.refs.history;e.hideScrollbars!==this.props.hideScrollbars&&e.hideScrollbars&&C.a.destroy(t),e.hideScrollbars===this.props.hideScrollbars||e.hideScrollbars||(C.a.initialize(t),this.refs.historyTransition.resetAnimation(),t&&(t.scrollTop=0),C.a.update(t))}},{key:\"_changeTab\",value:function(e){O.a.changeViewSetting({historyTab:e}),this.setState({activeTab:e});var t=this.refs.history;t.scrollTop=0,C.a.update(t),setTimeout(Z.a.rebuild,1e3)}},{key:\"_onSetShowAll\",value:function(){this.setState({showAll:!this.state.showAll}),this.state.showAll&&(this.refs.history.scrollTop=0)}},{key:\"render\",value:function(){var e,t=this,a=this.props,r=a.history,s=a.myHistory,o=a.base,i=a.quote,l=a.baseSymbol,c=a.quoteSymbol,u=a.isNullAccount,p=a.activeTab,d=this.state,m=d.rowCount,h=d.showAll,f=null;u&&(p=\"history\");var b=(Re(e={},i.get(\"id\"),{precision:i.get(\"precision\")}),Re(e,o.get(\"id\"),{precision:o.get(\"precision\")}),e);\"my_history\"===p&&s&&s.size?f=s.filter(function(e){return e.getIn([\"op\",0])===Me.fill_order}).filter(function(e){var t=i.get(\"id\"),a=o.get(\"id\"),r=e.getIn([\"op\",1,\"pays\",\"asset_id\"]),n=e.getIn([\"op\",1,\"receives\",\"asset_id\"]);return(t===r||t===n)&&(a===r||a===n)}).sort(function(e,t){return t.get(\"block_num\")-e.get(\"block_num\")}).map(function(e){var a=new j.d(e.toJS(),b,i.get(\"id\"));return n.a.createElement(\"tr\",{key:a.id},n.a.createElement(\"td\",{className:a.className},n.a.createElement(z.a,{price:a.getPrice(),base:t.props.base,quote:t.props.quote})),n.a.createElement(\"td\",null,a.amountToReceive()),n.a.createElement(\"td\",null,a.amountToPay()),n.a.createElement(Fe,{component:\"td\",block_number:a.block,tooltip:!0}))}).toArray():r&&r.size&&(f=this.props.history.take(100).map(function(e){return n.a.createElement(\"tr\",{key:\"history_\"+e.id},n.a.createElement(\"td\",{className:e.className},n.a.createElement(z.a,{price:e.getPrice(),base:t.props.base,quote:t.props.quote})),n.a.createElement(\"td\",null,e.amountToReceive()),n.a.createElement(\"td\",null,e.amountToPay()),n.a.createElement(\"td\",{className:\"tooltip\",style:{whiteSpace:\"nowrap\"},\"data-tip\":e.time},_.a.localize(e.time,{type:\"date\",format:-1!==Be()().toLowerCase().indexOf(\"en-us\")?\"market_history_us\":\"market_history\"})))}).toArray());var y=n.a.createElement(\"tr\",null,n.a.createElement(\"td\",{style:{textAlign:\"center\",lineHeight:4,fontStyle:\"italic\"},colSpan:\"5\"},n.a.createElement(R.a,{content:\"account.no_orders\"}))),v=f.length;return h||f.splice(m,f.length),n.a.createElement(\"div\",{className:g()(this.props.className)},n.a.createElement(\"div\",{className:this.props.innerClass,style:this.props.innerStyle},this.props.noHeader?null:n.a.createElement(\"div\",{style:this.props.headerStyle,className:\"exchange-content-header\"},\"my_history\"===p?n.a.createElement(R.a,{content:\"exchange.my_history\"}):null,\"history\"===p?n.a.createElement(R.a,{content:\"exchange.history\"}):null),n.a.createElement(\"div\",{className:\"grid-block shrink left-orderbook-header market-right-padding-only\"},n.a.createElement(\"table\",{className:\"table table-no-padding order-table text-left fixed-table market-right-padding\"},n.a.createElement(\"thead\",{style:{backgroundColor:\"#2c2e37\"}},n.a.createElement(\"tr\",null,n.a.createElement(\"th\",{style:{textAlign:\"right\"}},n.a.createElement(R.a,{className:\"header-sub-title\",content:\"exchange.price\"})),n.a.createElement(\"th\",{style:{textAlign:\"right\"}},n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(U.a,{dataPlace:\"top\",name:c}))),n.a.createElement(\"th\",{style:{textAlign:\"right\"}},n.a.createElement(\"span\",{className:\"header-sub-title\"},n.a.createElement(U.a,{dataPlace:\"top\",name:l}))),n.a.createElement(\"th\",{style:{textAlign:\"right\"}},n.a.createElement(R.a,{className:\"header-sub-title\",content:\"explorer.block.date\"})))))),n.a.createElement(\"div\",{className:\"table-container grid-block market-right-padding-only no-overflow\",ref:\"history\",style:{minHeight:this.props.tinyScreen?0:260,maxHeight:260,overflow:\"hidden\",lineHeight:\"13px\"}},n.a.createElement(\"table\",{className:\"table order-table no-stripes table-hover fixed-table text-right no-overflow\"},n.a.createElement(me.a,{ref:\"historyTransition\",component:\"tbody\",transitionName:\"newrow\",className:\"orderbook\"},f&&f.length>0?f:y))),v>11?n.a.createElement(\"div\",{className:\"orderbook-showall\"},n.a.createElement(\"a\",{onClick:this._onSetShowAll.bind(this)},n.a.createElement(R.a,{content:h?\"exchange.hide\":\"exchange.show_all_trades\",rowcount:v}))):null))}}]),t}();Le.defaultProps={history:[]},Le.propTypes={history:x.a.object.isRequired};var De=Object(Oe.a)(Le,{listenTo:function(){return[i.a]},getProps:function(){return{viewSettings:i.a.getState().viewSettings}}}),ze=a(1846),Ue=a(519),He=a(39),Ve=a(416),We=a(121),Ge=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function Je(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Ke(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function Qe(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ye=function(e){function t(){Je(this,t);var e=Ke(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e.initialState(),e.getAssetList=Object(d.a)(Ve.a.getAssetList.defer,150),e}return Qe(t,n.a.Component),Ge(t,[{key:\"initialState\",value:function(){return{marketsList:\"\",issuersList:\"\",lookupQuote:null,allMarkets:\"\",allIssuers:\"\",inputValue:\"\"}}},{key:\"componentWillReceiveProps\",value:function(e){e.marketPickerAsset!==this.props.marketPickerAsset&&this.setState(this.initialState()),e.searchAssets!==this.props.searchAssets&&this.assetFilter()}},{key:\"shouldComponentUpdate\",value:function(e,t){return e.marketPickerAsset!==this.props.marketPickerAsset||e.searchAssets!==this.props.searchAssets||t.marketsList!==this.state.marketsList||t.issuersList!==this.state.issuersList||!F.a.are_equal_shallow(t,this.state)}},{key:\"_onSelectIssuer\",value:function(e){var t=\"0\"==e.target.value?null:e.target.value;this.assetFilter(t)}},{key:\"_onInputName\",value:function(e,t){var a=this,r=t.target.value.trim().toUpperCase(),n=!h.ChainValidation.is_valid_symbol_error(r,!0);this.setState({inputValue:t.target.value.trim(),activeSearch:!0,allMarkets:\"\",allIssuers:\"\",marketsList:\"\",issuersList:\"\"}),n?(this.state.inputValue!==r&&this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){a._lookupAssets(r,e)},1500)):this.setState({activeSearch:!1})}},{key:\"_lookupAssets\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e||\"\"===e){var a=e.toUpperCase();this.getAssetList(a,10,t),this.setState({activeSearch:!1,lookupQuote:a})}}},{key:\"_changeMarketPickerFilter\",value:function(e){this.setState({marketsList:\"\",issuersList:\"\",lookupQuote:null,allMarkets:\"\",allIssuers:\"\",inputValue:\"\",marketPickerTab:e,activeSearch:!1})}},{key:\"_fetchIssuer\",value:function(e){var t=h.ChainStore.getObject(e.issuer,!1,!1);return t||void 0}},{key:\"assetFilter\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=this.props,r=a.searchAssets,s=a.marketPickerAsset,o=this.state,i=o.inputValue,l=o.lookupQuote,c=o.marketPickerTab;this.setState({activeSearch:!0});var u=0,p=[],d=[],m=this.props.baseAsset.get(\"symbol\"),h=this.props.quoteAsset.get(\"symbol\");r.size&&i&&i.length>2&&r.filter(function(e){try{if(e.options.description){var t=JSON.parse(e.options.description);if(\"visible\"in t&&!t.visible)return!1}}catch(e){}return-1!==e.symbol.indexOf(l)}).forEach(function(a){if(!(u>100)){u++;var r=e._fetchIssuer(a),n=e.props.baseAsset.get(\"symbol\"),o=a.symbol+\"_\"+n,l=h==s,f=l&&a.symbol!=m||!l&&a.symbol!=h;!f||t&&t!=r.get(\"name\")||(\"search\"!=c||!a.symbol.startsWith(i.toUpperCase()))&&c&&\"filter\"!=c||p.push([o,{quote:a.symbol,base:n,issuer:r?r.get(\"name\"):null}]),f&&r&&!d.includes(r.get(\"name\"))&&d.push(r.get(\"name\"))}});var f=this.state.marketsList,b=this.state.issuersList;b=d?d.sort(function(e,t){return e>t?1:e<t?-1:0}).map(function(e){return n.a.createElement(\"option\",{key:e,value:e},e)}):null,f=p?p.sort(function(e,t){var a=Object(We.f)(e[1].quote),r=Object(We.f)(t[1].quote);return a&&!r?-1:r&&!a?1:e[1].quote>t[1].quote?1:e[1].quote<t[1].quote?-1:0}).map(function(t){return n.a.createElement(\"li\",{key:t[0]},n.a.createElement(U.a,{name:t[1].quote}),n.a.createElement(\"span\",{style:{float:\"right\"}},n.a.createElement(Y.a,{onClick:function(){e.props.onToggleMarketPicker(null),N.a.switchMarket()},to:h==s?\"/market/\"+t[1].quote+\"_\"+m:\"/market/\"+h+\"_\"+t[1].quote},n.a.createElement(R.a,{content:\"exchange.market_picker.use\"}))))}):null,this.setState({allMarkets:p,allIssuers:d,marketsList:f,issuersList:b,activeSearch:!1})}},{key:\"render\",value:function(){var e=this.props.marketPickerAsset,t=this.state,a=t.marketPickerTab,r=t.inputValue,s=t.allMarkets,o=t.issuersList,i=t.marketsList;return n.a.createElement(\"div\",{className:\"marketPicker\"},n.a.createElement(\"div\",{className:\"marketPicker__header\"},n.a.createElement(\"div\",{className:\"marketPicker__filterType\"},n.a.createElement(R.a,{className:\"marketPicker__filterHeader\",component:\"span\",content:\"exchange.market_picker.search_mode\"}),n.a.createElement(G.a,{style:{marginLeft:5,cursor:\"pointer\"},className:this.state.marketPickerTab&&\"filter\"!=this.state.marketPickerTab?\"\":\"blue-icon\",size:\"1_5x\",onClick:this._changeMarketPickerFilter.bind(this,\"filter\"),name:\"filter\",title:\"icons.filter\"}),n.a.createElement(G.a,{style:{marginLeft:5,cursor:\"pointer\"},className:\"search\"==this.state.marketPickerTab?\"blue-icon\":\"\",size:\"1_5x\",onClick:this._changeMarketPickerFilter.bind(this,\"search\"),name:\"zoom\",title:\"icons.zoom\"})),n.a.createElement(R.a,{className:\"marketPicker__title\",component:\"span\",content:\"exchange.market_picker.title\"})),n.a.createElement(\"div\",{className:\"marketPicker__subHeader\"},n.a.createElement(R.a,{content:\"exchange.market_picker.sub_title\"}),\" \",n.a.createElement(Y.a,{to:\"/asset/\"+e,style:{cursor:\"pointer\",color:\"lightblue !important\"}},n.a.createElement(U.a,{name:e}),n.a.createElement(G.a,{className:\"blue-icon\",style:{marginLeft:5},name:\"info-circle-o\",title:\"icons.info_circle_o\"}))),n.a.createElement(\"hr\",null),n.a.createElement(\"div\",{id:\"search\",style:{display:\"search\"==a?\"\":\"none\"}},n.a.createElement(\"div\",null,n.a.createElement(\"section\",{className:\"block-list no-border-bottom\"},n.a.createElement(\"header\",null,n.a.createElement(R.a,{component:\"span\",content:\"exchange.market_picker.search_for_asset\"})),n.a.createElement(\"input\",{type:\"text\",value:r,onChange:this._onInputName.bind(this,!1),placeholder:_.a.translate(\"exchange.market_picker.search\"),maxLength:\"16\",tabIndex:2})))),n.a.createElement(\"div\",{id:\"filter\",style:{display:this.state.marketPickerTab&&\"filter\"!=this.state.marketPickerTab?\"none\":\"\"}},n.a.createElement(\"div\",null,n.a.createElement(\"section\",{className:\"block-list no-border-bottom\"},n.a.createElement(\"header\",null,n.a.createElement(R.a,{component:\"span\",content:\"exchange.market_picker.find_by_asset\"})),n.a.createElement(\"input\",{type:\"text\",value:r,onChange:this._onInputName.bind(this,!0),placeholder:_.a.translate(\"exchange.market_picker.search\"),maxLength:\"16\",tabIndex:2}))),n.a.createElement(\"div\",null,n.a.createElement(\"section\",{className:\"block-list no-border-bottom\"},n.a.createElement(\"header\",null,n.a.createElement(R.a,{component:\"span\",content:\"exchange.market_picker.filter_by_issuer\"})),n.a.createElement(\"ul\",null,n.a.createElement(\"li\",{className:\"with-dropdpwn\"},n.a.createElement(\"select\",{className:\"settings-select\",onChange:this._onSelectIssuer.bind(this),style:{border:0}},n.a.createElement(\"option\",{key:\"0\",value:\"0\"},_.a.translate(\"exchange.market_picker.show_all\"),\" \"),o)))))),n.a.createElement(\"section\",{className:\"block-list no-border-bottom\"},n.a.createElement(R.a,{component:\"header\",content:\"exchange.market_picker.results\",total_assets:s?s.length:0})),this.state.activeSearch&&0!=this.state.inputValue.length?n.a.createElement(\"div\",{style:{textAlign:\"center\"}},n.a.createElement(He.a,{type:\"three-bounce\"})):n.a.createElement(\"div\",{className:\"results\"},n.a.createElement(\"ul\",{style:{marginLeft:0}},i)))}}]),t}(),Xe=function(e){function t(){return Je(this,t),Ke(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Qe(t,n.a.Component),Ge(t,[{key:\"render\",value:function(){return n.a.createElement(Ye,this.props)}}]),t}(),Ze=Xe=Object(Oe.a)(Xe,{listenTo:function(){return[Ue.a]},getProps:function(){return{searchAssets:Ue.a.getState().assets,assetsLoading:Ue.a.getState().assetsLoading}}}),$e=a(36),et=a.n($e),tt=a(90),at=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var rt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={open:!1,smallScreen:!1,chartHeight:e.chartHeight,autoScroll:e.viewSettings.get(\"global_AutoScroll\",!0)},a.setChartHeight=a.setChartHeight.bind(a),a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),at(t,[{key:\"componentWillMount\",value:function(){this.setState({smallScreen:window.innerWidth<=800})}},{key:\"show\",value:function(){var e=this;this.setState({open:!0},function(){et.a.publish(e.props.modalId,\"open\")})}},{key:\"onClose\",value:function(){var e=this;this.setState({open:!1},function(){e.props.onToggleSettings()})}},{key:\"setChartHeight\",value:function(e){this.setState({chartHeight:e}),this.props.onChangeChartHeight({value:e})}},{key:\"setAutoscroll\",value:function(e){var t=1==e;this.setState({autoScroll:t}),O.a.changeViewSetting({global_AutoScroll:t}),this.props.onSetAutoscroll(t)}},{key:\"_getGroupingOptions\",value:function(e){return n.a.createElement(f.Select,{placeholder:_.a.translate(\"settings.placeholder_select\"),style:{width:\"100%\"},onChange:this.props.onSetPanelTabs.bind(this,e),value:this.props.panelTabs[e]},n.a.createElement(f.Select.Option,{value:0},n.a.createElement(R.a,{content:\"exchange.settings.grouping_standalone\"})),n.a.createElement(f.Select.Option,{value:1},n.a.createElement(R.a,{content:\"exchange.settings.grouping_1\"})),n.a.createElement(f.Select.Option,{value:2},n.a.createElement(R.a,{content:\"exchange.settings.grouping_2\"})))}},{key:\"render\",value:function(){var e=this.props.chartType,t=this.state.chartHeight;return console.log(this.props.verticalOrderBook),this.state.open?n.a.createElement(tt.a,{id:this.props.modalId,overlay:!0,onClose:this.onClose.bind(this),noHeaderContainer:!0,ref:this.props.modalId},n.a.createElement(\"section\",{style:{paddingBottom:\"1em\"},className:\"block-list no-border-bottom\"},n.a.createElement(\"header\",null,n.a.createElement(R.a,{content:\"exchange.settings.chart_options\"})),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},n.a.createElement(R.a,{content:\"exchange.settings.chart_type\"}))),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Select,{placeholder:_.a.translate(\"settings.placeholder_select\"),style:{width:\"100%\"},value:e,onChange:this.props.onToggleChart.bind(this)},n.a.createElement(f.Select.Option,{value:\"market_depth\"},_.a.translate(\"exchange.order_depth\")),n.a.createElement(f.Select.Option,{value:\"price_chart\"},_.a.translate(\"exchange.price_history\")),n.a.createElement(f.Select.Option,{value:\"\"},_.a.translate(\"exchange.settings.hidden_chart\"))))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},n.a.createElement(R.a,{content:\"exchange.settings.chart_height\"}))),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Slider,{min:300,max:1e3,onChange:this.setChartHeight.bind(this),value:\"number\"==typeof t?t:300}))),\"price_chart\"==e?n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},n.a.createElement(R.a,{content:\"exchange.settings.chart_tools\"}))),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Switch,{style:{margin:6}}))):null,\"price_chart\"==e?n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},n.a.createElement(R.a,{content:\"exchange.settings.chart_zoom\"}))),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Switch,{style:{margin:6}}))):null,n.a.createElement(\"header\",null,\"Order Options\"),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},n.a.createElement(R.a,{content:\"settings.orderbook_grouping\"}))),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"ul\",null,n.a.createElement(\"li\",{className:\"with-dropdown\"},this.props.trackedGroupsConfig?n.a.createElement(Se,{globalSettingsSelector:!0,trackedGroupsConfig:this.props.trackedGroupsConfig,handleGroupOrderLimitChange:this.props.handleGroupOrderLimitChange.bind(this),currentGroupOrderLimit:this.props.currentGroupOrderLimit}):null)))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},\"Style\")),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Select,{placeholder:_.a.translate(\"settings.placeholder_select\"),style:{width:\"100%\"},value:this.props.verticalOrderBook,onSelect:this.props.onMoveOrderBook.bind(this)},n.a.createElement(f.Select.Option,{value:!0},\"Vertical\"),n.a.createElement(f.Select.Option,{value:!1},\"Horizontal\")))),this.props.verticalOrderBook?null:n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\",style:{paddingTop:\"0.5em\"}},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},\"Buy/Sell Orders\")),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Select,{placeholder:_.a.translate(\"settings.placeholder_select\"),style:{width:\"100%\"}},n.a.createElement(f.Select.Option,{value:!1},\"Buy - Sell\"),n.a.createElement(f.Select.Option,{value:!0},\"Sell - Buy\")))),this.props.verticalOrderBook?null:n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\",style:{paddingTop:\"0.5em\"}},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},\"Buy/Sell Asset\")),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Select,{placeholder:_.a.translate(\"settings.placeholder_select\"),style:{width:\"100%\"}},n.a.createElement(f.Select.Option,{value:!1},\"Buy - Sell\"),n.a.createElement(f.Select.Option,{value:!0},\"Sell - Buy\")))),this.props.verticalOrderBook?null:n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\",style:{paddingTop:\"0.5em\"}},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},\"Vertical Orders / Asset\")),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Select,{placeholder:_.a.translate(\"settings.placeholder_select\"),style:{width:\"100%\"}},n.a.createElement(f.Select.Option,{value:!1},\"Orders above Asset\"),n.a.createElement(f.Select.Option,{value:!0},\"Asset above Order\")))),this.props.verticalOrderBook?n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\",style:{paddingTop:\"0.5em\"}},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},n.a.createElement(R.a,{content:\"exchange.settings.orderbook_autoscroll\"}))),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Switch,{style:{margin:6},checked:this.state.autoScroll,onChange:this.setAutoscroll.bind(this)}))):null,n.a.createElement(\"header\",null,\"Panel Grouping\"),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\",style:{paddingBottom:\"1em\"}},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},\"My Trades\")),n.a.createElement(\"div\",{className:\"small-6\"},this._getGroupingOptions(\"my_history\"))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\",style:{paddingBottom:\"1em\"}},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},\"Market Trades\")),n.a.createElement(\"div\",{className:\"small-6\"},this._getGroupingOptions(\"history\"))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\",style:{paddingBottom:\"1em\"}},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},\"Open Orders\")),n.a.createElement(\"div\",{className:\"small-6\"},this._getGroupingOptions(\"my_orders\"))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\",style:{paddingBottom:\"1em\"}},n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(\"h6\",{style:{margin:9}},\"Settlements\")),n.a.createElement(\"div\",{className:\"small-6\"},this._getGroupingOptions(\"open_settlement\"))),n.a.createElement(\"header\",null,\"General\"),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\",style:{paddingBottom:\"0.5em\"}},n.a.createElement(\"div\",{className:\"small-6\",style:{paddingRight:5}},n.a.createElement(\"h6\",{style:{margin:9}},n.a.createElement(R.a,{content:\"exchange.settings.market_location\"}))),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Select,{placeholder:_.a.translate(\"settings.placeholder_select\"),style:{width:\"100%\"},value:this.props.mirrorPanels,onSelect:this.props.onMirrorPanels.bind(this)},n.a.createElement(f.Select.Option,{value:!1},n.a.createElement(R.a,{content:\"settings.left\"})),n.a.createElement(f.Select.Option,{value:!0},n.a.createElement(R.a,{content:\"settings.right\"}))))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-6\",style:{paddingRight:5}},n.a.createElement(\"h6\",{style:{margin:9}},n.a.createElement(R.a,{content:\"exchange.settings.reduce_scrollbars\"}))),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Switch,{style:{margin:6},checked:this.state.hideScrollbars,onChange:this.props.onToggleScrollbars.bind(this)}))),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},n.a.createElement(\"div\",{className:\"small-6\",style:{paddingRight:5}},n.a.createElement(\"h6\",{style:{margin:9}},n.a.createElement(R.a,{content:\"exchange.settings.hide_function_buttons\"}))),n.a.createElement(\"div\",{className:\"small-6\"},n.a.createElement(f.Switch,{style:{margin:6}})))),n.a.createElement(f.Button,{type:\"primary\",onClick:this.onClose.bind(this)},n.a.createElement(R.a,{content:\"global.close\"}))):null}}]),t}(),nt=a(1854),st=a.n(nt),ot=a(1950),it=a.n(ot),lt=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw s}}return a}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),ct=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function ut(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function pt(e){return e.map(function(e){var t=e/60,a=t/60/24,r=a/7;if(t<1)return e+\"S\";if(a<1&&parseInt(t,10)===t)return t.toString();if(r<1){if(a>=1&&parseInt(a,10)===a)return 1===a?\"D\":a+\"D\"}else if(r>=1&&parseInt(r,10)===r)return r+\"D\";return null}).filter(function(e){return!!e})}var dt=function(){function e(){ut(this,e)}return ct(e,[{key:\"update\",value:function(e){for(var t in e)switch(t){case\"resolutions\":this.supported_resolutions=pt(e.resolutions);break;case\"onMarketChange\":s.a.unsubscribe(\"market_change\"),s.a.subscribe(\"market_change\",e[t]);break;default:this[t]=e[t]}}},{key:\"clearSubs\",value:function(){s.a.clearSubs()}},{key:\"onReady\",value:function(e){var t=this;setTimeout(function(){e({exchanges:[{value:\"OPEN.\",name:\"Openledger\",desc:\"Openledger Gateway\"}],symbols_types:[],supported_resolutions:t.supported_resolutions,supports_marks:!1,supports_search:!1,supports_time:!0})},10)}},{key:\"searchSymbols\",value:function(e,t,a,r){console.log(\"searchSymbols\",e,t,a),r([])}},{key:\"resolveSymbol\",value:function(e,t,a){var r=this,n=e.split(\"_\"),s=lt(n,2),o=s[0],i=s[1];Promise.all([Object(h.FetchChain)(\"getAsset\",o),Object(h.FetchChain)(\"getAsset\",i)]).then(function(a){var n=lt(a,2),s=n[0],o=n[1];t(new function e(t){ut(this,e),this.name=t.ticker,this.ticker=t.ticker;var a=Object(We.c)(t.quoteAsset),r=Object(We.c)(t.baseAsset),n=a===r?a:a&&!r?a:!a&&r?r:a+\" / \"+r,s=F.a.replaceName(t.baseAsset),o=s.name,i=s.prefix,l=F.a.replaceName(t.quoteAsset),c=l.name,u=l.prefix;this.description=\"\"+(u||\"\")+c+\" / \"+(i||\"\")+o+\" \"+(n?\"(\"+n+\")\":\"\"),this.type=\"bitcoin\",this.session=\"24x7\",this.timezone=it.a.tz.guess(),this.data_status=\"streaming\",this.supported_resolutions=t.resolutions,this.has_empty_bars=!0,this.pricescale=Math.pow(10,t.baseAsset.get(\"precision\")),this.quoteAsset=t.quoteAsset,this.baseAsset=t.baseAsset,this.minmov=1,this.has_intraday=this.supported_resolutions.reduce(function(e,t){return e||!isNaN(parseInt(t,10))},!1),this.intraday_multipliers=this.supported_resolutions.filter(function(e){return!isNaN(parseInt(e,10))}),this.has_seconds=this.supported_resolutions.reduce(function(e,t){return e||-1!==t.indexOf(\"S\")},!1),this.seconds_multipliers=this.supported_resolutions.filter(function(e){return-1!==e.indexOf(\"S\")}),this.has_daily=this.supported_resolutions.reduce(function(e,t){return e||-1!==t.indexOf(\"D\")},!1),this.has_daily=this.supported_resolutions.reduce(function(e,t){return e||-1!==t.indexOf(\"D\")},!1)}({ticker:e,quoteAsset:s,baseAsset:o,resolutions:r.supported_resolutions}))}).catch(a)}},{key:\"getBars\",value:function(e,t,a,r,n,s,o){var i=this;a*=1e3,r*=1e3;var l=this._getHistory();if(this.latestBar=l[l.length-1],l=l.filter(function(e){return e.time>=a&&e.time<=r}),this.interval!==t){if(!o)return;var c=function(e){return\"D\"===e?86400:-1!==e.indexOf(\"W\")?7*parseInt(e.replace(\"D\",\"\"),10)*24*60*60:-1!==e.indexOf(\"D\")?24*parseInt(e.replace(\"D\",\"\"),10)*60*60:-1!==e.indexOf(\"S\")?parseInt(e.replace(\"S\",\"\"),10):60*parseInt(e,10)}(t);return N.a.changeBucketSize(c),N.a.unSubscribeMarket(e.quoteAsset.get(\"id\"),e.baseAsset.get(\"id\")).then(function(){N.a.subscribeMarket(e.baseAsset,e.quoteAsset,c).then(function(){var e=i._getHistory();if(i.latestBar=e[e.length-1],e=e.filter(function(e){return e.time>=a&&e.time<=r}),i.interval=t,!e.length)return n(e,{noData:!0});n(e)})})}if(this.interval=t,!l.length)return n(l,{noData:!0});n(l)}},{key:\"_getHistory\",value:function(){return s.a.getState().priceData}},{key:\"subscribeBars\",value:function(e,t,a,r,n){var o=this;s.a.unsubscribe(\"subscribeBars\"),n(),s.a.subscribe(\"subscribeBars\",function(){var e=o._getHistory(),t=e.filter(function(e){return!o.latestBar||e.time>o.latestBar.time});if(t.length)t.forEach(function(e){a(e)}),o.latestBar=t[t.length-1];else{var r=!1;for(var n in o.latestBar)o.latestBar[n]!==e[e.length-1][n]&&(r=!0);r&&a(e[e.length-1])}})}},{key:\"unsubscribeBars\",value:function(){}},{key:\"calculateHistoryDepth\",value:function(e,t,a){}},{key:\"getServerTime\",value:function(e){e((new Date).getTime()/1e3)}}]),e}(),mt=[\"America/Argentina/Buenos_Aires\",\"America/Bogota\",\"America/Caracas\",\"America/Chicago\",\"America/El_Salvador\",\"America/Los_Angeles\",\"America/Mexico_City\",\"America/New_York\",\"America/Phoenix\",\"America/Sao_Paulo\",\"America/Toronto\",\"America/Vancouver\",\"Asia/Almaty\",\"Asia/Ashkhabad\",\"Asia/Bangkok\",\"Asia/Dubai\",\"Asia/Hong_Kong\",\"Asia/Kathmandu\",\"Asia/Kolkata\",\"Asia/Seoul\",\"Asia/Shanghai\",\"Asia/Singapore\",\"Asia/Taipei\",\"Asia/Tehran\",\"Asia/Tokyo\",\"Australia/ACT\",\"Australia/Adelaide\",\"Australia/Brisbane\",\"Australia/Sydney\",\"Europe/Athens\",\"Europe/Berlin\",\"Europe/Istanbul\",\"Europe/London\",\"Europe/Madrid\",\"Europe/Moscow\",\"Europe/Paris\",\"Europe/Warsaw\",\"Europe/Zurich\",\"Pacific/Auckland\",\"Pacific/Chatham\",\"Pacific/Fakaofo\",\"Pacific/Honolulu\",\"US/Mountain\"];var ht=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var ft=a(1949),bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),ht(t,[{key:\"loadTradingView\",value:function(e){var t=this,a=e.dataFeed,r=st.a[e.theme];if(a&&!this.tvWidget){0,a.update({resolutions:e.buckets,ticker:e.quoteSymbol+\"_\"+e.baseSymbol,interval:pt([e.bucketSize])[0]});var n=[\"header_saveload\",\"symbol_info\",\"symbol_search_hot_key\",\"border_around_the_chart\",\"header_symbol_search\",\"header_compare\"];this.props.mobile&&(n.push(\"chart_scroll\"),n.push(\"chart_zoom\")),this.tvWidget=new ft.widget({fullscreen:!1,symbol:e.quoteSymbol+\"_\"+e.baseSymbol,interval:pt([e.bucketSize])[0],library_path:\"/charting_library/\",datafeed:a,container_id:\"tv_chart\",charts_storage_url:\"https://saveload.tradingview.com\",charts_storage_api_version:\"1.1\",client_id:\"tradingview.com\",user_id:\"public_user_id\",autosize:!0,locale:e.locale,timezone:function(){var e=it.a.tz.guess();if(-1!==mt.indexOf(e))return e;for(var t=it()().toISOString(),a=it.a.tz(t,e).format(),r=0;r<mt.length;r++)if(it.a.tz(t,mt[r]).format()===a)return mt[r];return console.log(\"No matching timezone found for \"+e+\", setting to default value of Europe/London\"),\"Europe/London\"}(),toolbar_bg:r.bgColor,overrides:{\"paneProperties.background\":r.bgColor,\"paneProperties.horzGridProperties.color\":r.axisLineColor,\"paneProperties.vertGridProperties.color\":r.axisLineColor,\"scalesProperties.lineColor\":r.axisLineColor,\"scalesProperties.textColor\":r.textColor},custom_css_url:e.theme+\".css\",enabled_features:[\"study_templates\",\"keep_left_toolbar_visible_on_small_screens\"],disabled_features:n,debug:!1,preset:this.props.mobile?\"mobile\":\"\"}),this.tvWidget.onChartReady(function(){a.update({onMarketChange:t._setSymbol.bind(t)})})}}},{key:\"componentWillReceiveProps\",value:function(e){e.marketReady&&!this.props.dataFeed&&e.dataFeed&&loadTradingView(e)}},{key:\"_setSymbol\",value:function(e){this.tvWidget&&this.tvWidget.setSymbol(e,pt([this.props.bucketSize])[0])}},{key:\"componentDidMount\",value:function(){this.loadTradingView(this.props)}},{key:\"componentWillUnmount\",value:function(){this.props.dataFeed.clearSubs()}},{key:\"shouldComponentUpdate\",value:function(e){return e.chartHeight!==this.props.chartHeight||!this.tvWidget&&!!e.marketReady}},{key:\"render\",value:function(){return n.a.createElement(\"div\",{className:\"small-12\"},n.a.createElement(\"div\",{className:\"exchange-bordered\",style:{marginTop:10,marginBottom:10,height:this.props.chartHeight+\"px\"},id:\"tv_chart\"}))}}]),t}(),gt=a(534),yt=a(1822),_t=a.n(yt),vt=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var kt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),vt(t,[{key:\"shouldComponentUpdate\",value:function(e){var t=!isNaN(e.feedPrice)&&e.feedPrice!==this.props.feedPrice;return Object(j.j)(e.orders,this.props.orders)||Object(j.j)(e.call_orders,this.props.call_orders)||t||e.feedPrice!==this.props.feedPrice||e.height!==this.props.height||e.isPanelActive!==this.props.isPanelActive||e.activePanels!==this.props.activePanels||e.LCP!==this.props.LCP||e.showCallLimit!==this.props.showCallLimit||e.hasPrediction!==this.props.hasPrediction||e.feedPrice!==this.props.feedPrice||e.marketReady!==this.props.marketReady}},{key:\"componentDidMount\",value:function(){this.reflowChart(500)}},{key:\"componentWillReceiveProps\",value:function(e){this.refs.depthChart&&e.activePanels!==this.props.activePanels&&this.reflowChart(100)}},{key:\"componentWillUpdate\",value:function(){this.props.centerRef&&(this.tempScroll=this.props.centerRef.scrollTop)}},{key:\"componentDidUpdate\",value:function(){this.props.centerRef&&(this.props.centerRef.scrollTop=this.tempScroll)}},{key:\"reflowChart\",value:function(e){var t=this;setTimeout(function(){t.refs.depthChart&&t.refs.depthChart.chart.reflow()},e)}},{key:\"_getThemeColors\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return st.a[e.theme]}},{key:\"render\",value:function(){var e=this.props,t=e.flat_bids,a=e.flat_asks,r=e.flat_calls,s=e.flat_settles,o=e.totalBids,i=e.totalAsks,l=e.base,c=e.quote,u=e.feedPrice,p=this._getThemeColors(),d=p.primaryText,m=p.callColor,h=p.settleColor,f=p.settleFillColor,b=p.bidColor,g=p.bidFillColor,y=p.askColor,v=p.askFillColor,k=p.axisLineColor,E=F.a.replaceName(l),w=E.name,S=E.prefix,C=F.a.replaceName(c),A=C.name,x=C.prefix;w=(S||\"\")+w,A=(x||\"\")+A;var O=Object(gt.a)(t),N=Object(gt.a)(a),P=Object(gt.a)(r),T=Object(gt.a)(s),B={chart:{type:\"area\",backgroundColor:\"rgba(255, 0, 0, 0)\",spacing:[10,0,5,0]},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},dataGrouping:{enabled:!1},tooltip:{shared:!1,backgroundColor:\"rgba(0, 0, 0, 0.75)\",useHTML:!0,formatter:function(){return\"\\n\\t\\t\\t\\t\\t<table>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td>\"+_.a.translate(\"exchange.price\")+':</td>\\n\\t\\t\\t\\t\\t\\t\\t<td style=\"text-align: right\">'+F.a.format_number(this.x,l.get(\"precision\"))+\" \"+w+\"/\"+A+\"</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td>\"+_.a.translate(\"exchange.quantity\")+':</td>\\n\\t\\t\\t\\t\\t\\t\\t<td style=\"text-align: right\">'+F.a.format_number(this.y,c.get(\"precision\"))+\" \"+A+\"</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\"},style:{color:\"#FFFFFF\"}},series:[],yAxis:{labels:{enabled:!0,style:{color:d},formatter:function(){return F.a.format_number(this.value,c.get(\"precision\"))}},opposite:!1,title:{text:null,style:{color:\"#FFFFFF\"}},gridLineWidth:1,gridLineColor:\"rgba(196, 196, 196, 0.30)\",gridZIndex:1,crosshair:{snap:!1},currentPriceIndicator:{enabled:!1}},xAxis:{labels:{style:{color:d}},ordinal:!1,lineColor:\"#000000\",title:{text:null},plotLines:[]},plotOptions:{area:{animation:!1,marker:{enabled:!1},series:{enableMouseTracking:!1}}}};if(O.length>0&&N.length>0){var j=(N[0][0]+O[O.length-1][0])/2;B.xAxis.min=.4*j,B.xAxis.max=1.6*j,B.xAxis.max<N[0][0]&&(B.xAxis.max=1.5*N[0][0]),B.xAxis.min>O[O.length-1][0]&&(B.xAxis.min=.5*O[O.length-1][0]);var q=0;O.forEach(function(e){e[0]>=B.xAxis.min&&(q=Math.max(e[1],q))}),N.forEach(function(e){e[0]<=B.xAxis.max&&(q=Math.max(e[1],q))}),B.yAxis.max=1.15*q;var I=q>10?0:q>1?2:5;B.yAxis.labels.formatter=function(){return F.a.format_number(this.value,I)}}else O.length&&!N.length?(B.xAxis.min=.4*O[O.length-1][0],B.xAxis.max=1.6*O[O.length-1][0]):N.length&&!O.length&&(B.xAxis.min=0,B.xAxis.max=2*N[0][0]);if(this.props.hasPrediction&&(B.xAxis.min=-.05,B.xAxis.max=1.05),this.props.LCP&&B.xAxis.plotLines.push({color:k,id:\"plot_line\",dashStyle:\"longdash\",value:this.props.LCP,label:{text:_.a.translate(\"explorer.block.call_limit\"),style:{color:d,fontWeight:\"bold\"}},width:2,zIndex:5}),u){var M=l.has(\"bitasset\")?y:b;B.xAxis.plotLines.push({color:M,id:\"plot_line\",dashStyle:\"solid\",value:u,label:{text:_.a.translate(\"explorer.block.feed_price\"),style:{color:d,fontWeight:\"bold\"}},width:2,zIndex:5}),P&&P.length&&B.series.push({name:\"Call \"+A,data:P,color:m})}return u&&T&&T.length&&B.series.push({name:\"Settle \"+A,data:T,color:h,fillColor:f}),O.length&&B.series.push({step:\"right\",name:\"Bid \"+A,data:O,color:b,fillColor:g}),N.length&&B.series.push({step:\"left\",name:\"Ask \"+A,data:N,color:y,fillColor:v}),this.props.height?B.chart.height=this.props.height:B.chart.height=\"400px\",this.props.onClick&&(B.chart.events={click:this.props.onClick.bind(this)}),this.props.noFrame?n.a.createElement(\"div\",{className:\"grid-content no-overflow no-padding\"},O.length||N.length||P.length?null:n.a.createElement(\"span\",{className:\"no-data\"},n.a.createElement(R.a,{content:\"exchange.no_data\"})),this.props.noText?null:n.a.createElement(\"p\",{className:\"bid-total\"},F.a.format_number(o,l.get(\"precision\")),\" \",w),this.props.noText?null:n.a.createElement(\"p\",{className:\"ask-total\"},F.a.format_number(i,c.get(\"precision\")),\" \",A),O||N||P?n.a.createElement(_t.a,{config:B}):null):n.a.createElement(\"div\",{className:\"grid-content no-overflow no-padding middle-content\"},n.a.createElement(\"div\",{className:\"exchange-bordered\",style:{margin:0}},n.a.createElement(\"div\",{className:\"exchange-content-header\"},this.props.noText?null:n.a.createElement(\"span\",{className:\"bid-total\"},F.a.format_number(o,l.get(\"precision\")),\" \",n.a.createElement(U.a,{name:l.get(\"symbol\")})),this.props.noText?null:n.a.createElement(\"span\",{className:\"ask-total float-right\"},F.a.format_number(i,c.get(\"precision\")),\" \",n.a.createElement(U.a,{name:c.get(\"symbol\")}))),O.length||N.length||P.length?null:n.a.createElement(\"span\",{className:\"no-data\"},n.a.createElement(R.a,{content:\"exchange.no_data\"})),O||N||P?n.a.createElement(_t.a,{ref:\"depthChart\",config:B}):null))}}]),t}();kt.defaultProps={flat_bids:[],flat_asks:[],orders:{},noText:!1,noFrame:!0},kt.propTypes={flat_bids:x.a.array.isRequired,flat_asks:x.a.array.isRequired,orders:x.a.object.isRequired};var Et=kt,wt=a(1823),St=a(1954),Ct=a.n(St),At=a(524),xt=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var Ot=h.ChainTypes.operations,Nt=Object.keys(Ot),Pt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),xt(t,[{key:\"componentWillReceiveProps\",value:function(e){if(e.account&&e.account.size&&this.props.account&&this.props.account.get(\"history\")){var t=this.props.account.get(\"history\")&&this.props.account.get(\"history\").first()?this.props.account.get(\"history\").first().toJS():null,a=e.account.get(\"history\")&&e.account.get(\"history\").first()?e.account.get(\"history\").first().toJS():null;a&&t&&\"fill_order\"===Nt[a.op[0]]&&(!t&&a.id||a.id!==t.id)&&(et.a.publish(\"account-notify\",\"open\"),setTimeout(function(){et.a.publish(\"account-notify\",\"close\")},5e3))}}},{key:\"shouldComponentUpdate\",value:function(e){return!(!e.account||!this.props.account)&&(!xe.a.is(e.account.get(\"history\"),this.props.account.get(\"history\"))||!xe.a.is(e.account,this.props.account))}},{key:\"render\",value:function(){var e=this.props.account;if(!e)return n.a.createElement(\"div\",null);var t=void 0,a=void 0;return this.props.account.get(\"history\")&&this.props.account.get(\"history\").size&&(t=this.props.account.get(\"history\").first().toJS())&&(a=n.a.createElement(At.a,{key:t.id,op:t.op,result:t.result,block:t.block_num,current:e.get(\"id\"),hideDate:!0,hideFee:!0})),t?n.a.createElement(Ct.a.Static,{id:\"account-notify\",title:null,image:\"\",wrapperElement:\"div\"},n.a.createElement(\"table\",{className:\"table\"},n.a.createElement(\"tbody\",null,a))):n.a.createElement(\"div\",null)}}]),t}();Pt.propTypes={account:L.a.ChainAccount.isRequired};var Tt=Pt=Object(D.a)(Pt),Bt=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();var jt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),Bt(t,[{key:\"render\",value:function(){return n.a.createElement(p.a,{stores:[o.a],inject:{account:function(){return o.a.getState().currentAccount}}},n.a.createElement(Tt,null))}}]),t}(),qt=a(1835),Ft=a(1836),It=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Rt=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw s}}return a}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Lt=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function Dt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var zt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.EXPIRATIONS={HOUR:{title:\"1 hour\",get:function(){return w()().add(1,\"hour\").valueOf()}},\"12HOURS\":{title:\"12 hours\",get:function(){return w()().add(12,\"hour\").valueOf()}},\"24HOURS\":{title:\"24 hours\",get:function(){return w()().add(1,\"day\").valueOf()}},\"7DAYS\":{title:\"7 days\",get:function(){return w()().add(7,\"day\").valueOf()}},MONTH:{title:\"30 days\",get:function(){return w()().add(30,\"day\").valueOf()}},YEAR:{title:\"1 year\",get:function(){return w()().add(1,\"year\").valueOf()}},SPECIFIC:{title:\"Specific\",get:function(e){return a.state.expirationCustomTime[e].valueOf()}}},a.state=Mt({},a._initialState(e),{expirationType:{bid:e.exchange.getIn([\"lastExpiration\",\"bid\"])||\"YEAR\",ask:e.exchange.getIn([\"lastExpiration\",\"ask\"])||\"YEAR\"},expirationCustomTime:{bid:w()().add(1,\"day\"),ask:w()().add(1,\"day\")},feeStatus:{}}),a._getWindowSize=Object(d.a)(a._getWindowSize.bind(a),150),a._checkFeeStatus=a._checkFeeStatus.bind(a),a._handleExpirationChange=a._handleExpirationChange.bind(a),a._handleCustomExpirationChange=a._handleCustomExpirationChange.bind(a),a.psInit=!0,a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.a.Component),Lt(t,[{key:\"_handleExpirationChange\",value:function(e,t){var a=Mt({},this.state.expirationType,Dt({},e,t.target.value));\"SPECIFIC\"!==t.target.value&&O.a.setExchangeLastExpiration(Mt({},this.props.exchange.has(\"lastExpiration\")&&this.props.exchange.get(\"lastExpiration\").toJS()||{},Dt({},e,t.target.value))),this.setState({expirationType:a})}},{key:\"_handleCustomExpirationChange\",value:function(e,t){var a=Mt({},this.state.expirationCustomTime,Dt({},e,t));this.setState({expirationCustomTime:a})}},{key:\"_initialOrderState\",value:function(e){var t={forSaleText:\"\",toReceiveText:\"\",priceText:\"\",for_sale:new j.a({asset_id:e.baseAsset.get(\"id\"),precision:e.baseAsset.get(\"precision\")}),to_receive:new j.a({asset_id:e.quoteAsset.get(\"id\"),precision:e.quoteAsset.get(\"precision\")})};t.price=new j.h({base:t.for_sale,quote:t.to_receive});var a={forSaleText:\"\",toReceiveText:\"\",priceText:\"\",for_sale:new j.a({asset_id:e.quoteAsset.get(\"id\"),precision:e.quoteAsset.get(\"precision\")}),to_receive:new j.a({asset_id:e.baseAsset.get(\"id\"),precision:e.baseAsset.get(\"precision\")})};return a.price=new j.h({base:a.for_sale,quote:a.to_receive}),{ask:a,bid:t}}},{key:\"_initialState\",value:function(e){var t=e.viewSettings,a=this._initialOrderState(e),r=a.ask,n=a.bid;return{history:[],tabVerticalPanel:t.get(\"tabVerticalPanel\",\"order_book\"),tabBuySell:t.get(\"tabBuySell\",\"buy\"),buySellOpen:t.get(\"buySellOpen\",!0),bid:n,ask:r,flipBuySell:t.get(\"flipBuySell\",!1),favorite:!1,verticalOrderBook:t.get(\"verticalOrderBook\",!1),verticalOrderForm:t.get(\"verticalOrderForm\",!1),buyDiff:!1,sellDiff:!1,buySellTop:t.get(\"buySellTop\",!0),buyFeeAssetIdx:t.get(\"buyFeeAssetIdx\",0),sellFeeAssetIdx:t.get(\"sellFeeAssetIdx\",0),height:window.innerHeight,width:window.innerWidth,hidePanel:t.get(\"hidePanel\",!1),autoScroll:t.get(\"global_AutoScroll\",!0),hideScrollbars:t.get(\"hideScrollbars\",!1),chartType:t.get(\"chartType\",\"price_chart\"),chartHeight:t.get(\"chartHeight\",600),currentPeriod:t.get(\"currentPeriod\",7776e3),showMarketPicker:!1,activePanels:t.get(\"activePanels\",[\"left\",\"right\"]),mobileKey:[\"\"],forceReRender:0,panelWidth:0,mirrorPanels:t.get(\"mirrorPanels\",!1),panelTabs:t.get(\"panelTabs\",{my_history:1,history:1,my_orders:2,open_settlement:2}),panelTabsActive:{1:\"\",2:\"\"}}}},{key:\"_getLastMarketKey\",value:function(){var e=m.Apis.instance().chain_id;return\"lastMarket\"+(e?\"_\"+e.substr(0,8):\"\")}},{key:\"componentWillMount\",value:function(){window.addEventListener(\"resize\",this._setDimensions,{capture:!1,passive:!0}),this._checkFeeStatus()}},{key:\"componentDidMount\",value:function(){N.a.getTrackedGroupsConfig(),O.a.changeViewSetting.defer(Dt({},this._getLastMarketKey(),this.props.quoteAsset.get(\"symbol\")+\"_\"+this.props.baseAsset.get(\"symbol\"))),window.addEventListener(\"resize\",this._getWindowSize,{capture:!1,passive:!0})}},{key:\"_forceRender\",value:function(e,t){this.state.forceReRender&&this.setState({forceReRender:!1}),F.a.are_equal_shallow(this.state.activePanels,t.activePanels)&&F.a.are_equal_shallow(this.state.verticalOrderBook,t.verticalOrderBook)&&e.quoteAsset===this.props.quoteAsset&&e.baseAsset===this.props.baseAsset||this.setState({forceReRender:!0})}},{key:\"shouldComponentUpdate\",value:function(e,t){if(this._forceRender(e,t),!e.marketReady&&!this.props.marketReady)return!1;var a=!1,r=!1;for(var n in e)if(e.hasOwnProperty(n)&&(a=a||!F.a.are_equal_shallow(e[n],this.props[n])))break;for(var s in t.panelTabsActive)r=!F.a.are_equal_shallow(t.panelTabsActive[s],this.state.panelTabsActive[s]);return a||r||!F.a.are_equal_shallow(t,this.state)}},{key:\"_checkFeeStatus\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[this.props.coreAsset,this.props.baseAsset,this.props.quoteAsset],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.currentAccount,r={},n=[];t.forEach(function(e){n.push(Object(q.b)({accountID:a.get(\"id\"),feeID:e.get(\"id\"),type:\"limit_order_create\"}))}),Promise.all(n).then(function(a){t.forEach(function(e,t){r[e.get(\"id\")]=a[t]}),F.a.are_equal_shallow(e.state.feeStatus,r)||e.setState({feeStatus:r})}).catch(function(t){console.log(\"checkFeeStatusAsync error\",t),e.setState({feeStatus:{}})})}},{key:\"_getWindowSize\",value:function(){var e=window,t=e.innerHeight,a=e.innerWidth;if(t!==this.state.height||a!==this.state.width){this.setState({height:t,width:a});var r=this.refs.center;r&&C.a.update(r)}}},{key:\"componentDidUpdate\",value:function(e,t){if(this._initPsContainer(),!this.props.exchange.get(\"tutorialShown\")&&e.coreAsset&&t.feeStatus&&!this.tutorialShown){this.tutorialShown=!0;var a=this.props.settings.get(\"themes\");k.a.introJs().setOptions({tooltipClass:a,highlightClass:a,showBullets:!1,hideNext:!0,hidePrev:!0,nextLabel:_.a.translate(\"walkthrough.next_label\"),prevLabel:_.a.translate(\"walkthrough.prev_label\"),skipLabel:_.a.translate(\"walkthrough.skip_label\"),doneLabel:_.a.translate(\"walkthrough.done_label\")}).start(),O.a.setExchangeTutorialShown.defer(!0)}}},{key:\"_initPsContainer\",value:function(){if(this.refs.center&&this.psInit){var e=this.refs.center;e&&(C.a.initialize(e),this.psInit=!1)}}},{key:\"componentWillReceiveProps\",value:function(e){if(this._initPsContainer(),e.quoteAsset===this.props.quoteAsset&&e.baseAsset===this.props.baseAsset&&e.currentAccount===this.props.currentAccount||this._checkFeeStatus([e.coreAsset,e.baseAsset,e.quoteAsset],e.currentAccount),e.quoteAsset.get(\"symbol\")!==this.props.quoteAsset.get(\"symbol\")||e.baseAsset.get(\"symbol\")!==this.props.baseAsset.get(\"symbol\"))return this.setState(this._initialState(e)),O.a.changeViewSetting(Dt({},this._getLastMarketKey(),e.quoteAsset.get(\"symbol\")+\"_\"+e.baseAsset.get(\"symbol\")))}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this._getWindowSize)}},{key:\"_getFeeAssets\",value:function(e,t,a){var r=this,n=this.props.currentAccount,s=this.state.feeStatus;function o(e,t){-1===e.indexOf(t)&&e.push(t)}var i=[a,e===a?t:e];o(i,e),o(i,t);var l=[a,t===a?e:t];o(l,e),o(l,t);var c={};function u(e,t,r){var n=void 0;return(e=e.filter(function(e){return!!t[e.get(\"id\")]&&(function(e){return s[e]&&s[e].hasPoolBalance}(e.get(\"id\"))&&function(e){return s[e]&&s[e].hasBalance}(e.get(\"id\")))})).length?n=e[Math.min(e.length-1,r)]:(n=a,e.push(a)),{assets:e,asset:n}}n.get(\"balances\",[]).filter(function(a,r){return[\"1.3.0\",e.get(\"id\"),t.get(\"id\")].indexOf(r)>=0}).forEach(function(e,t){var a=h.ChainStore.getObject(e);c[t]={balance:a?parseInt(a.get(\"balance\"),10):0,fee:r._getFee(h.ChainStore.getAsset(t))}});var p=u(i,c,this.state.sellFeeAssetIdx),d=p.assets,m=p.asset,f=u(l,c,this.state.buyFeeAssetIdx),b=f.assets,g=f.asset;return{sellFeeAsset:m,sellFeeAssets:d,sellFee:this._getFee(m),buyFeeAsset:g,buyFeeAssets:b,buyFee:this._getFee(g)}}},{key:\"_getFee\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.coreAsset;return this.state.feeStatus[e.get(\"id\")]&&this.state.feeStatus[e.get(\"id\")].fee}},{key:\"_verifyFee\",value:function(e,t,a,r){var n=this._getFee();return\"1.3.0\"===e.asset_id?n.getAmount()<=r?\"1.3.0\":null:(t.asset_id===e.asset_id?e.getAmount()+t.getAmount():t.getAmount())<=a?e.asset_id:n.getAmount()<=r&&\"1.3.0\"!==e.asset_id?\"1.3.0\":null}},{key:\"_createLimitOrderConfirm\",value:function(e,t,a,r,n,s){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];arguments[7].preventDefault();var i=this.props.marketData,l=i.highestBid,c=i.lowestAsk,u=this.state[\"sell\"===s?\"ask\":\"bid\"];a=u.for_sale.clone(a?parseInt(h.ChainStore.getObject(a).toJS().balance,10):0),r=new j.a({amount:r?parseInt(h.ChainStore.getObject(r).toJS().balance,10):0});var p=this._getFee(n),d=this._verifyFee(p,u.for_sale,a.getAmount(),r.getAmount());if(!d)return P.a.addNotification({message:\"Insufficient funds to pay fees\",level:\"error\"});if(\"buy\"===s&&c){var m=this.state.bid.price.toReal()/c.getPrice();if(m>1.2)return this.refs.buy.show(),this.setState({buyDiff:m})}else if(\"sell\"===s&&l){var f=1/(this.state.ask.price.toReal()/l.getPrice());if(f>1.2)return this.refs.sell.show(),this.setState({sellDiff:f})}var b=t.getIn([\"bitasset\",\"is_prediction_market\"]);return u.for_sale.gt(a)&&!b?P.a.addNotification({message:\"Insufficient funds to place order, you need at least \"+u.for_sale.getAmount({real:!0})+\" \"+t.get(\"symbol\"),level:\"error\"}):u.for_sale.getAmount()>0&&u.to_receive.getAmount()>0?\"sell\"===s&&b&&o?this._createPredictionShort(d):void this._createLimitOrder(s,d):P.a.addNotification({message:\"Please enter a valid amount and price\",level:\"error\"})}},{key:\"_createLimitOrder\",value:function(e,t){var a=\"sell\"===e?\"ask\":\"bid\",r=this.state[a],n=null;n=\"SPECIFIC\"===this.state.expirationType[a]?this.EXPIRATIONS[this.state.expirationType[a]].get(a):this.EXPIRATIONS[this.state.expirationType[a]].get();var s=new j.g({for_sale:r.for_sale,expiration:new Date(n||!1),to_receive:r.to_receive,seller:this.props.currentAccount.get(\"id\"),fee:{asset_id:t,amount:0}}),o=B.a.getMarketName(this.props.baseAsset,this.props.quoteAsset),i=o.marketName,l=o.first,c=this.props.marketDirections.get(i);if(c&&l.get(\"id\")!==this.props.baseAsset.get(\"id\")||!c&&l.get(\"id\")!==this.props.baseAsset.get(\"id\")){var u={};u[i]=!c,O.a.changeMarketDirection(u)}return console.log(\"order:\",JSON.stringify(s.toObject())),N.a.createLimitOrder2(s).then(function(e){e.error&&\"wallet locked\"!==e.error.message&&P.a.addNotification({message:\"Unknown error. Failed to place order for \"+r.to_receive.getAmount({real:!0})+\" \"+r.to_receive.asset_id,level:\"error\"}),console.log(\"order success\")}).catch(function(e){console.log(\"order failed:\",e)})}},{key:\"_clearForms\",value:function(e){var t=this._initialOrderState(this.props),a=t.ask,r=t.bid;e?\"ask\"==e?this.setState({ask:a}):\"bid\"==e&&this.setState({bid:r}):this.setState({bid:r,ask:a})}},{key:\"_createPredictionShort\",value:function(e){var t=this.state.ask,a=new j.g({for_sale:t.for_sale,to_receive:t.to_receive,seller:this.props.currentAccount.get(\"id\"),fee:{asset_id:e,amount:0}});Promise.all([Object(h.FetchChain)(\"getAsset\",this.props.quoteAsset.getIn([\"bitasset\",\"options\",\"short_backing_asset\"]))]).then(function(e){var t=Rt(e,1)[0],r=new j.a({amount:a.amount_for_sale.getAmount(),asset_id:t.get(\"id\"),precision:t.get(\"precision\")});N.a.createPredictionShort(a,r).then(function(e){e.error&&\"wallet locked\"!==e.error.message&&P.a.addNotification({message:\"Unknown error. Failed to place order for \"+buyAssetAmount+\" \"+buyAsset.symbol,level:\"error\"})})})}},{key:\"_forceBuy\",value:function(e,t,a,r){var n=this.state[\"sell\"===e?\"ask\":\"bid\"];a=n.for_sale.clone(a?parseInt(h.ChainStore.getObject(a).get(\"balance\"),10):0),r=new j.a({amount:r?parseInt(h.ChainStore.getObject(r).toJS().balance,10):0});var s=this._getFee(t),o=this._verifyFee(s,n.for_sale,a.getAmount(),r.getAmount());o?this._createLimitOrder(e,o):console.error(\"Unable to pay fees, aborting limit order creation\")}},{key:\"_forceSell\",value:function(e,t,a,r){var n=this.state[\"sell\"===e?\"ask\":\"bid\"];a=n.for_sale.clone(a?parseInt(h.ChainStore.getObject(a).get(\"balance\"),10):0),r=new j.a({amount:r?parseInt(h.ChainStore.getObject(r).toJS().balance,10):0});var s=this._getFee(t),o=this._verifyFee(s,n.for_sale,a.getAmount(),r.getAmount());o?this._createLimitOrder(e,o):console.error(\"Unable to pay fees, aborting limit order creation\")}},{key:\"_cancelLimitOrder\",value:function(e,t){t.preventDefault();var a=this.props.currentAccount;N.a.cancelLimitOrder(a.get(\"id\"),e)}},{key:\"_changeZoomPeriod\",value:function(e,t){t.preventDefault(),e!==this.state.currentPeriod&&(this.setState({currentPeriod:e}),O.a.changeViewSetting({currentPeriod:e}))}},{key:\"_onGroupOrderLimitChange\",value:function(e){var t=this,a=void 0;if(\"object\"==(void 0===e?\"undefined\":It(e))&&(e.preventDefault(),a=parseInt(e.target.value)),\"number\"==typeof e&&(a=parseInt(e)),N.a.changeCurrentGroupLimit(a),a!==this.props.currentGroupOrderLimit){N.a.changeCurrentGroupLimit(a);var r=this.props.sub.split(\"_\");N.a.unSubscribeMarket(r[0],r[1]).then(function(){t.props.subToMarket(t.props,t.props.bucketSize,a)})}}},{key:\"_depthChartClick\",value:function(e,t,a){a.preventDefault();var r=this.state,n=r.bid,s=r.ask;n.price=new j.h({base:this.state.bid.for_sale,quote:this.state.bid.to_receive,real:a.xAxis[0].value}),n.priceText=n.price.toReal(),s.price=new j.h({base:this.state.ask.to_receive,quote:this.state.ask.for_sale,real:a.xAxis[0].value}),s.priceText=s.price.toReal();var o={bid:n,ask:s,depthLine:n.price.toReal()};this._setForSale(n,!0)||this._setReceive(n,!0),this._setReceive(s)||this._setForSale(s),this._setPriceText(n,!0),this._setPriceText(s,!1),this.setState(o)}},{key:\"_setAutoscroll\",value:function(e){this.setState({autoScroll:e})}},{key:\"_togglePanel\",value:function(e){if(e){var t=[];this.state.activePanels.forEach(function(a){a!==e&&t.push(a)}),this.state.activePanels.includes(e)||t.push(e),this.setState({activePanels:t}),O.a.changeViewSetting({activePanels:t})}}},{key:\"_toggleChart\",value:function(e){this.setState({chartType:e}),O.a.changeViewSetting({chartType:e})}},{key:\"_flipBuySell\",value:function(){this.setState({flipBuySell:!this.state.flipBuySell}),O.a.changeViewSetting({flipBuySell:!this.state.flipBuySell})}},{key:\"_toggleOpenBuySell\",value:function(){O.a.changeViewSetting({buySellOpen:!this.state.buySellOpen}),this.setState({buySellOpen:!this.state.buySellOpen})}},{key:\"_toggleMarketPicker\",value:function(e){var t=!!e;t&&this.refs.marketPicker.show(),this.setState({showMarketPicker:t,marketPickerAsset:e})}},{key:\"_moveOrderBook\",value:function(){this.state.verticalOrderForm&&this._moveOrderForm(),O.a.changeViewSetting({verticalOrderBook:!this.state.verticalOrderBook}),this.setState({verticalOrderBook:!this.state.verticalOrderBook})}},{key:\"_moveOrderForm\",value:function(){this.state.verticalOrderBook&&this._moveOrderBook(),O.a.changeViewSetting({verticalOrderForm:!this.state.verticalOrderForm}),this.setState({verticalOrderForm:!this.state.verticalOrderForm})}},{key:\"_toggleSettings\",value:function(){this.state.showSettings||this.refs.settingsModal.show(),this.setState({showSettings:!this.state.showSettings})}},{key:\"_toggleScrollbars\",value:function(){O.a.changeViewSetting({hideScrollbars:!this.state.hideScrollbars}),this.setState({hideScrollbars:!this.state.hideScrollbars})}},{key:\"_mirrorPanels\",value:function(){this.setState({mirrorPanels:!this.state.mirrorPanels}),O.a.changeViewSetting({mirrorPanels:!this.state.mirrorPanels})}},{key:\"_currentPriceClick\",value:function(e,t){var a=\"bid\"===e,r=this.state[e];r.price=t[a?\"invert\":\"clone\"](),r.priceText=r.price.toReal(),a?this._setForSale(r,a)||this._setReceive(r,a):this._setReceive(r,a)||this._setForSale(r,a),this.forceUpdate()}},{key:\"_orderbookClick\",value:function(e){var t=e.isBid(),a=e.totalToReceive({noCache:!0}),r=a.times(e.sellPrice()),n=new j.h({base:t?r:a,quote:t?a:r}),s=this.state[t?\"bid\":\"ask\"];s.price=n,s.priceText=n.toReal();var o=Dt({},t?\"ask\":\"bid\",{for_sale:a,forSaleText:a.getAmount({real:!0}),to_receive:r,toReceiveText:r.getAmount({real:!0}),price:n,priceText:n.toReal()});t?this._setForSale(s,t)||this._setReceive(s,t):this._setReceive(s,t)||this._setForSale(s,t),this.setState(o)}},{key:\"_borrowQuote\",value:function(){this.refs.borrowQuote.show()}},{key:\"_borrowBase\",value:function(){this.refs.borrowBase.show()}},{key:\"_onDeposit\",value:function(e,t){t.preventDefault(),this.setState({modalType:e}),this.refs.deposit_modal.show()}},{key:\"_onBuy\",value:function(e,t){t.preventDefault(),this.setState({modalType:e}),this.refs.bridge_modal.show()}},{key:\"_getSettlementInfo\",value:function(){var e=this.props,t=e.lowestCallPrice,a=e.feedPrice,r=e.quoteAsset,n=!1;return a&&(n=a.inverted?t<=a.toReal():t>=a.toReal()),!(!n||!t||r.getIn([\"bitasset\",\"is_prediction_market\"]))}},{key:\"_setTabVerticalPanel\",value:function(e){this.setState({tabVerticalPanel:e}),O.a.changeViewSetting({tabVerticalPanel:e})}},{key:\"_setTabBuySell\",value:function(e){this.setState({tabBuySell:e}),O.a.changeViewSetting({tabBuySell:e})}},{key:\"_setPanelTabInGroup\",value:function(e,t){var a=this.state.panelTabsActive;Object.keys(a).map(function(r){r==e&&(a[r]=t)}),this.setState({panelTabsActive:a,forceReRender:!0})}},{key:\"_setPanelTabs\",value:function(e,t){var a=this.state,r=a.panelTabs,n=a.panelTabsActive,s={panelTabs:r,panelTabsActive:n};Object.keys(r).map(function(a){s.panelTabs[a]=a==e?t:r[a]}),Object.keys(n).map(function(e){s.panelTabsActive[e]=\"\"}),this.setState({newState:s}),O.a.changeViewSetting({newState:s})}},{key:\"onChangeFeeAsset\",value:function(e,t){\"buy\"===e?(this.setState({buyFeeAssetIdx:t}),O.a.changeViewSetting({buyFeeAssetIdx:t})):(this.setState({sellFeeAssetIdx:t}),O.a.changeViewSetting({sellFeeAssetIdx:t}))}},{key:\"onChangeChartHeight\",value:function(e){var t=e.value,a=e.increase,r=t||this.state.chartHeight+(a?20:-20);this.setState({chartHeight:r}),O.a.changeViewSetting({chartHeight:r})}},{key:\"_toggleBuySellPosition\",value:function(){this.setState({buySellTop:!this.state.buySellTop}),O.a.changeViewSetting({buySellTop:!this.state.buySellTop})}},{key:\"_setReceive\",value:function(e,t){return!(!e.price.isValid()||!e.for_sale.hasAmount())&&(e.to_receive=e.for_sale.times(e.price),e.toReceiveText=e.to_receive.getAmount({real:!0}).toString(),!0)}},{key:\"_setForSale\",value:function(e,t){return!(!e.price.isValid()||!e.to_receive.hasAmount())&&(e.for_sale=e.to_receive.times(e.price,!0),e.forSaleText=e.for_sale.getAmount({real:!0}).toString(),!0)}},{key:\"_setPrice\",value:function(e){return!(!e.for_sale.hasAmount()||!e.to_receive.hasAmount())&&(e.price=new j.h({base:e.for_sale,quote:e.to_receive}),e.priceText=e.price.toReal().toString(),!0)}},{key:\"_setPriceText\",value:function(e,t){var a=e[t?\"for_sale\":\"to_receive\"],r=e[t?\"to_receive\":\"for_sale\"];a.hasAmount()&&r.hasAmount()&&(e.priceText=new j.h({base:a,quote:r}).toReal().toString())}},{key:\"_onInputPrice\",value:function(e,t){var a=this.state[e],r=\"bid\"===e;a.price=new j.h({base:a[r?\"for_sale\":\"to_receive\"],quote:a[r?\"to_receive\":\"for_sale\"],real:parseFloat(t.target.value)||0}),r?this._setForSale(a,r)||this._setReceive(a,r):this._setReceive(a,r)||this._setForSale(a,r),a.priceText=t.target.value,this.forceUpdate()}},{key:\"_onInputSell\",value:function(e,t,a){var r=this.state[e];r.for_sale.setAmount({real:parseFloat(a.target.value)||0}),r.price.isValid()?this._setReceive(r,t):this._setPrice(r),r.forSaleText=a.target.value,this._setPriceText(r,\"bid\"===e),this.forceUpdate()}},{key:\"_onInputReceive\",value:function(e,t,a){var r=this.state[e];r.to_receive.setAmount({real:parseFloat(a.target.value)||0}),r.price.isValid()?this._setForSale(r,t):this._setPrice(r),r.toReceiveText=a.target.value,this._setPriceText(r,\"bid\"===e),this.forceUpdate()}},{key:\"isMarketFrozen\",value:function(){var e=this.props,t=e.baseAsset,a=e.quoteAsset,r=t.getIn([\"options\",\"whitelist_markets\"]).toJS(),n=a.getIn([\"options\",\"whitelist_markets\"]).toJS(),s=t.getIn([\"options\",\"blacklist_markets\"]).toJS(),o=a.getIn([\"options\",\"blacklist_markets\"]).toJS();return n.length&&-1===n.indexOf(t.get(\"id\"))?{isFrozen:!0,frozenAsset:a.get(\"symbol\")}:r.length&&-1===r.indexOf(a.get(\"id\"))?{isFrozen:!0,frozenAsset:t.get(\"symbol\")}:o.length&&-1!==o.indexOf(t.get(\"id\"))?{isFrozen:!0,frozenAsset:a.get(\"symbol\")}:s.length&&-1!==s.indexOf(a.get(\"id\"))?{isFrozen:!0,frozenAsset:t.get(\"symbol\")}:{isFrozen:!1}}},{key:\"_toggleMiniChart\",value:function(){O.a.changeViewSetting({miniDepthChart:!this.props.miniDepthChart})}},{key:\"_onChangeMobilePanel\",value:function(e){this.setState({mobileKey:e})}},{key:\"render\",value:function(){var e=this.props,t=e.currentAccount,a=e.marketLimitOrders,r=e.marketCallOrders,s=e.marketData,o=e.activeMarketHistory,i=e.invertedCalls,l=e.starredMarkets,c=e.quoteAsset,u=e.baseAsset,p=e.lowestCallPrice,d=e.marketStats,m=e.marketReady,h=e.marketSettleOrders,b=e.bucketSize,y=e.totals,v=e.feedPrice,k=e.buckets,E=e.coreAsset,w=e.trackedGroupsConfig,S=e.currentGroupOrderLimit,C=s.combinedBids,A=s.combinedAsks,x=s.lowestAsk,O=s.highestBid,N=s.flatBids,P=s.flatAsks,B=s.flatCalls,j=s.flatSettles,q=s.groupedBids,F=s.groupedAsks,I=this.state,R=I.bid,L=I.ask,D=I.verticalOrderBook,z=I.verticalOrderForm,U=I.chartHeight,H=I.chartType,V=(I.buyDiff,I.sellDiff,I.width),W=I.buySellTop,G=I.tabBuySell,J=I.tabVerticalPanel,K=I.hidePanel,Y=I.hideScrollbars,X=I.modalType,Z=I.autoScroll,$=I.activePanels,ee=(I.panelWidth,I.mirrorPanels),te=I.panelTabsActive,ae=I.panelTabs,re=this.isMarketFrozen(),ne=re.isFrozen,se=(re.frozenAsset,0);this.refs.center&&(se=this.refs.center.clientWidth);var oe=null,ie=null,le=null,ce=null,de=null,me=null,he=void 0,fe=void 0,be=!1,ge=void 0,ye=void 0,_e=this.props.viewSettings.get(\"showVolumeChart\",!0);if(Y=!!Re||Y,c.size&&u.size&&t.size){if(ie=c,fe=(oe=u).get(\"symbol\"),he=ie.get(\"symbol\"),le=t.get(\"balances\").toJS())for(var ve in le)ve===ie.get(\"id\")&&(ce=le[ve]),ve===oe.get(\"id\")&&(de=le[ve]),\"1.3.0\"===ve&&(me=le[ve]);be=this._getSettlementInfo()}var ke=!!c.get(\"bitasset_data_id\"),Ee=!!u.get(\"bitasset_data_id\"),we=x&&O?x.getPrice()-O.getPrice():0;if(o.size){var Se=o.take(2);ge=Se.first();var Ae=Se.last();ye=ge.getPrice()===Ae.getPrice()?\"\":ge.getPrice()-Ae.getPrice()>0?\"change-up\":\"change-down\"}if(!E||!Object.keys(this.state.feeStatus).length)return null;var xe=this._getFeeAssets(ie,oe,E),Oe=xe.sellFeeAsset,Ne=xe.sellFeeAssets,Pe=xe.sellFee,Te=xe.buyFeeAsset,Be=xe.buyFeeAssets,je=xe.buyFee,qe=oe.getIn([\"bitasset\",\"is_prediction_market\"])||ie.getIn([\"bitasset\",\"is_prediction_market\"]),Fe=null;qe&&(Fe=c.getIn([\"options\",\"description\"]),Fe=T.a.parseDescription(Fe).main);var Ie=V<850,Re=V<640,Me=Math.max(this.state.height>1100?U:U-125,300),Le=this.state.expirationType,Ue=this.state.expirationCustomTime,Ve=$.length>=1,We=oe.getIn([\"bitasset\",\"is_prediction_market\"]),Ge=0,Je=ne?null:Re&&!this.state.mobileKey.includes(\"buySellTab\")?null:n.a.createElement(Q,{key:\"actionCard_\"+Ge++,onBorrow:Ee?this._borrowBase.bind(this):null,onBuy:this._onBuy.bind(this,\"bid\"),onDeposit:this._onDeposit.bind(this,\"bid\"),currentAccount:t,backedCoin:this.props.backedCoins.find(function(e){return e.symbol===oe.get(\"symbol\")}),currentBridges:this.props.bridgeCoins.get(oe.get(\"symbol\"))||null,isOpen:this.state.buySellOpen,onToggleOpen:this._toggleOpenBuySell.bind(this),parentWidth:se,styles:{paddingRight:ee?15:0},className:g()(z&&!Ie?\"\":se>1200?\"medium-6 large-6 xlarge-4\":se>800?\"medium-6\":\"\",\"small-12 no-padding middle-content\",this.state.flipBuySell?\"order-\"+(W?2:3)+\" large-order-\"+(W?2:5)+\" sell-form\":\"order-\"+(W?1:2)+\" large-order-\"+(W?1:4)+\" buy-form\"),type:\"bid\",hideHeader:!!(Re||!Ie&&z),expirationType:Le.bid,expirations:this.EXPIRATIONS,expirationCustomTime:Ue.bid,onExpirationTypeChange:this._handleExpirationChange.bind(this,\"bid\"),onExpirationCustomChange:this._handleCustomExpirationChange.bind(this,\"bid\"),amount:R.toReceiveText,price:R.priceText,total:R.forSaleText,quote:ie,base:oe,amountChange:this._onInputReceive.bind(this,\"bid\",!0),priceChange:this._onInputPrice.bind(this,\"bid\"),setPrice:this._currentPriceClick.bind(this),totalChange:this._onInputSell.bind(this,\"bid\",!1),clearForm:this._clearForms.bind(this,\"bid\"),balance:de,balanceId:oe.get(\"id\"),onSubmit:this._createLimitOrderConfirm.bind(this,ie,oe,de,me,Te,\"buy\"),balancePrecision:oe.get(\"precision\"),quotePrecision:ie.get(\"precision\"),totalPrecision:oe.get(\"precision\"),currentPrice:x.getPrice(),currentPriceObject:x,account:t.get(\"name\"),fee:je,hasFeeBalance:this.state.feeStatus[je.asset_id].hasBalance,feeAssets:Be,feeAsset:Te,onChangeFeeAsset:this.onChangeFeeAsset.bind(this,\"buy\"),isPredictionMarket:oe.getIn([\"bitasset\",\"is_prediction_market\"]),onFlip:this.state.flipBuySell?null:this._flipBuySell.bind(this),onTogglePosition:this.state.buySellTop&&!D?this._toggleBuySellPosition.bind(this):null,moveOrderForm:Ie||this.state.flipBuySell&&!z?null:this._moveOrderForm.bind(this),verticalOrderForm:!Ie&&z,isPanelActive:Ve,activePanels:$}),Ke=ne?null:Re&&!this.state.mobileKey.includes(\"buySellTab\")?null:n.a.createElement(Q,{key:\"actionCard_\"+Ge++,onBorrow:ke?this._borrowQuote.bind(this):null,onBuy:this._onBuy.bind(this,\"ask\"),onDeposit:this._onDeposit.bind(this,\"ask\"),currentAccount:t,backedCoin:this.props.backedCoins.find(function(e){return e.symbol===ie.get(\"symbol\")}),currentBridges:this.props.bridgeCoins.get(ie.get(\"symbol\"))||null,isOpen:this.state.buySellOpen,onToggleOpen:this._toggleOpenBuySell.bind(this),parentWidth:se,styles:{paddingRight:ee?15:0},className:g()(z&&!Ie?\"\":se>1200?\"medium-6 large-6 xlarge-4\":se>800?\"medium-6\":\"\",\"small-12 no-padding middle-content\",this.state.flipBuySell?\"order-\"+(W?1:2)+\" large-order-\"+(W?1:4)+\" buy-form\":\"order-\"+(W?2:3)+\" large-order-\"+(W?2:5)+\" sell-form\"),type:\"ask\",hideHeader:!!(Re||!Ie&&z),amount:L.forSaleText,price:L.priceText,total:L.toReceiveText,quote:ie,base:oe,expirationType:Le.ask,expirations:this.EXPIRATIONS,expirationCustomTime:Ue.ask,onExpirationTypeChange:this._handleExpirationChange.bind(this,\"ask\"),onExpirationCustomChange:this._handleCustomExpirationChange.bind(this,\"ask\"),amountChange:this._onInputSell.bind(this,\"ask\",!1),priceChange:this._onInputPrice.bind(this,\"ask\"),setPrice:this._currentPriceClick.bind(this),totalChange:this._onInputReceive.bind(this,\"ask\",!0),clearForm:this._clearForms.bind(this,\"ask\"),balance:ce,balanceId:ie.get(\"id\"),onSubmit:this._createLimitOrderConfirm.bind(this,oe,ie,ce,me,Oe,\"sell\"),balancePrecision:ie.get(\"precision\"),quotePrecision:ie.get(\"precision\"),totalPrecision:oe.get(\"precision\"),currentPrice:O.getPrice(),currentPriceObject:O,account:t.get(\"name\"),fee:Pe,hasFeeBalance:this.state.feeStatus[Pe.asset_id].hasBalance,feeAssets:Ne,feeAsset:Oe,onChangeFeeAsset:this.onChangeFeeAsset.bind(this,\"sell\"),isPredictionMarket:ie.getIn([\"bitasset\",\"is_prediction_market\"]),onFlip:this.state.flipBuySell?this._flipBuySell.bind(this):null,onTogglePosition:this.state.buySellTop&&!D?this._toggleBuySellPosition.bind(this):null,moveOrderForm:Ie||!this.state.flipBuySell&&!z?null:this._moveOrderForm.bind(this),verticalOrderForm:!Ie&&z,isPanelActive:Ve,activePanels:$}),Qe=Re&&!this.state.mobileKey.includes(\"myMarkets\")?null:n.a.createElement(ze.a,{key:\"actionCard_\"+Ge++,className:\"left-order-book no-overflow order-9\",style:{minWidth:350,height:Ie?680:\"calc(100vh - 215px)\",padding:Ie?10:0},headerStyle:{width:\"100%\",display:Ie?\"\":\"display: none\"},noHeader:!Ie,listHeight:this.state.height?\"my-market\"==G?this.state.height-325:this.state.height-450:null,columns:[{name:\"star\",index:1},{name:\"market\",index:2},{name:\"vol\",index:3},{name:\"price\",index:4},{name:\"change\",index:5}],findColumns:[{name:\"market\",index:1},{name:\"issuer\",index:2},{name:\"vol\",index:3},{name:\"add\",index:4}],current:he+\"_\"+fe,location:this.props.location,history:this.props.history,activeTab:Ie?\"my-market\":J||\"my-market\"}),Ye=Re&&!this.state.mobileKey.includes(\"orderBook\")?null:n.a.createElement(Ce,{ref:\"order_book\",key:\"actionCard_\"+Ge++,latest:ge&&ge.getPrice(),changeClass:ye,orders:a,calls:r,invertedCalls:i,combinedBids:C,combinedAsks:A,highestBid:O,lowestAsk:x,totalBids:y.bid,totalAsks:y.ask,base:oe,quote:ie,baseSymbol:fe,quoteSymbol:he,onClick:this._orderbookClick.bind(this),horizontal:!(D&&!Ie),flipOrderBook:this.props.viewSettings.get(\"flipOrderBook\"),orderBookReversed:this.props.viewSettings.get(\"orderBookReversed\"),marketReady:m,wrapperClass:g()(\"medium-12 large-12 xlarge-8\",\"small-12 grid-block orderbook no-padding align-spaced no-overflow wrap shrink\",\"order-\"+(W?3:1)+\" xlarge-order-\"+(W?4:1)),innerClass:g()(se>800?\"medium-6\":\"medium-12\",\"large-6 xlarge-6\",\"small-12 middle-content\",Re?\"\":\"exchange-padded\"),currentAccount:this.props.currentAccount.get(\"id\"),handleGroupOrderLimitChange:this._onGroupOrderLimitChange.bind(this),trackedGroupsConfig:w,currentGroupOrderLimit:S,groupedBids:q,groupedAsks:F,isPanelActive:$.length>=1,onTogglePosition:this.state.buySellTop?null:this._toggleBuySellPosition.bind(this),moveOrderBook:Ie?null:this._moveOrderBook.bind(this),smallScreen:Ie,hideScrollbars:Y,autoScroll:Z});var Xe=Re&&!this.state.mobileKey.includes(\"marketHistory\")?null:n.a.createElement(De,{key:\"actionCard_\"+Ge++,className:g()(0==ae.history?se>1200?\"medium-6 large-6 xlarge-4\":se>800?\"medium-6\":\"\":\"medium-12\",\"no-padding no-overflow middle-content small-12 order-6\"),innerClass:Re?\"\":\"exchange-padded\",innerStyle:{paddingBottom:Re?\"0\":\"1.2rem\"},noHeader:0!=ae.history,history:o,currentAccount:t,myHistory:t.get(\"history\"),base:oe,quote:ie,baseSymbol:fe,quoteSymbol:he,activeTab:\"history\",tinyScreen:Re,isPanelActive:Ve,hideScrollbars:Y}),$e=Re&&!this.state.mobileKey.includes(\"myMarketHistory\")?null:n.a.createElement(De,{key:\"actionCard_\"+Ge++,className:g()(0==ae.my_history?se>1200?\"medium-6 large-6 xlarge-4\":se>800?\"medium-6\":\"\":\"medium-12\",\"no-padding no-overflow middle-content small-12 order-5\"),innerClass:Re?\"\":\"exchange-padded\",innerStyle:{paddingBottom:Re?\"0\":\"1.2rem\"},noHeader:0!=ae.my_history,history:o,currentAccount:t,myHistory:t.get(\"history\"),base:oe,quote:ie,baseSymbol:fe,quoteSymbol:he,activeTab:\"my_history\",tinyScreen:Re,isPanelActive:Ve,hideScrollbars:Y}),et=Re&&!this.state.mobileKey.includes(\"myOpenOrders\")?null:n.a.createElement(pe.a,{key:\"actionCard_\"+Ge++,style:{marginBottom:Re?0:15},className:g()(0==ae.my_orders?se>1200?\"medium-6 large-6 xlarge-4\":se>800?\"medium-6\":\"\":\"medium-12\",\"no-padding no-overflow middle-content small-12 order-7\"),innerClass:Re?\"\":\"exchange-padded\",innerStyle:{paddingBottom:Re?\"0\":\"1.2rem\"},noHeader:0!=ae.my_orders,orders:a,settleOrders:h,currentAccount:t,base:oe,quote:ie,baseSymbol:fe,quoteSymbol:he,activeTab:\"my_orders\",onCancel:this._cancelLimitOrder.bind(this),flipMyOrders:this.props.viewSettings.get(\"flipMyOrders\"),feedPrice:this.props.feedPrice,smallScreen:Ie,tinyScreen:Re,hidePanel:K,isPanelActive:Ve,hideScrollbars:Y}),tt=Re&&!this.state.mobileKey.includes(\"settlementOrders\")?null:n.a.createElement(pe.a,{key:\"actionCard_\"+Ge++,style:{marginBottom:Re?0:15},className:g()(0==ae.open_settlement?se>1200?\"medium-6 large-6 xlarge-4\":se>800?\"medium-6\":\"\":\"medium-12\",\"no-padding no-overflow middle-content small-12 order-8\"),innerClass:Re?\"\":\"exchange-padded\",innerStyle:{paddingBottom:Re?\"0\":\"1.2rem\"},noHeader:0!=ae.open_settlement,orders:a,settleOrders:h,currentAccount:t,base:oe,quote:ie,baseSymbol:fe,quoteSymbol:he,activeTab:\"open_settlement\",onCancel:this._cancelLimitOrder.bind(this),flipMyOrders:this.props.viewSettings.get(\"flipMyOrders\"),feedPrice:this.props.feedPrice,smallScreen:Ie,tinyScreen:Re,hidePanel:K,isPanelActive:Ve,hideScrollbars:Y}),at=!H||\"price_chart\"!=H||Re&&!this.state.mobileKey.includes(\"tradingViewChart\")?null:n.a.createElement(bt,{locale:this.props.locale,dataFeed:this.props.dataFeed,baseSymbol:fe,quoteSymbol:he,marketReady:m,theme:this.props.settings.get(\"themes\"),buckets:k,bucketSize:b,currentPeriod:this.state.currentPeriod,chartHeight:Me,mobile:V<800}),nt=!H||\"market_depth\"!=H||Re&&!this.state.mobileKey.includes(\"deptHighChart\")?null:n.a.createElement(Et,{marketReady:m,orders:a,showCallLimit:be,call_orders:r,flat_asks:P,flat_bids:N,flat_calls:be?B:[],flat_settles:this.props.settings.get(\"showSettles\")&&j,settles:h,invertedCalls:i,totalBids:y.bid,totalAsks:y.ask,base:oe,quote:ie,height:Me,isPanelActive:Ve,onClick:this._depthChartClick.bind(this,oe,ie),feedPrice:!qe&&v&&v.toReal(),spread:we,LCP:be?p:null,hasPrediction:qe,noFrame:!1,theme:this.props.settings.get(\"themes\"),centerRef:this.refs.center,activePanels:$}),st=n.a.createElement(\"div\",{key:\"actionCard_\"+Ge++,className:\"left-order-book small-12\",style:{paddingLeft:5,width:Ie?\"auto\":300}},n.a.createElement(f.Tabs,{defaultActiveKey:\"buy\",activeKey:G,onChange:this._setTabBuySell.bind(this),style:{padding:\"0px !important\",margin:\"0px !important\"}},n.a.createElement(f.Tabs.TabPane,{tab:n.a.createElement(M.a,{string:\"exchange.buysell_formatter\",noLink:!0,noTip:!1,keys:[{type:\"asset\",value:ie.get(\"symbol\"),arg:\"asset\"},{type:\"translate\",value:We?\"exchange.short\":\"exchange.buy\",arg:\"direction\"}]}),key:\"buy\"},Je),n.a.createElement(f.Tabs.TabPane,{tab:n.a.createElement(M.a,{string:\"exchange.buysell_formatter\",noLink:!0,noTip:!1,keys:[{type:\"asset\",value:ie.get(\"symbol\"),arg:\"asset\"},{type:\"translate\",value:We?\"exchange.short\":\"exchange.sell\",arg:\"direction\"}]}),key:\"sell\"},Ke))),ot={1:[],2:[]},it=[];Object.keys(ae).map(function(e){0==ae[e]?(\"my_history\"==e&&it.push($e),\"history\"==e&&it.push(Xe),\"my_orders\"==e&&it.push(et),\"open_settlement\"==e&&it.push(tt)):(\"my_history\"==e&&ot[ae[e]].push(n.a.createElement(f.Tabs.TabPane,{tab:_.a.translate(\"exchange.my_history\"),key:\"my_history\"},$e)),\"history\"==e&&ot[ae[e]].push(n.a.createElement(f.Tabs.TabPane,{tab:_.a.translate(\"exchange.history\"),key:\"history\"},Xe)),\"my_orders\"==e&&ot[ae[e]].push(n.a.createElement(f.Tabs.TabPane,{tab:_.a.translate(\"exchange.my_orders\"),key:\"my_orders\"},et)),\"open_settlement\"==e&&ot[ae[e]].push(n.a.createElement(f.Tabs.TabPane,{tab:_.a.translate(\"exchange.settle_orders\"),key:\"open_settlement\"},tt)))}),Object.keys(te).map(function(e){Object.keys(ae).map(function(t){var a=!1;a||e!=ae[t]||(te[e]=te[e]?te[e]:t,a=!0)})});var lt=ot[1].length>0?n.a.createElement(\"div\",{key:\"actionCard_\"+Ge++,className:g()(D||z?\"\":\"xlarge-order-2\",se>1200?\"medium-6 large-6 xlarge-4\":se>800?\"medium-6\":\"\",\"small-12 order-5\"),style:{paddingRight:5}},n.a.createElement(f.Tabs,{activeKey:te[1],onChange:this._setPanelTabInGroup.bind(this,1)},ot[1])):null,ct=ot[2].length>0?n.a.createElement(\"div\",{key:\"actionCard_\"+Ge++,className:g()(se>1200?\"medium-6 large-6 xlarge-4\":se>800?\"medium-6\":\"\",\"small-12 order-6\"),style:{paddingRight:5}},n.a.createElement(f.Tabs,{activeKey:te[2],onChange:this._setPanelTabInGroup.bind(this,2)},ot[2])):null,ut=[];Ie?Re?ut=n.a.createElement(f.Collapse,{activeKey:this.state.mobileKey,onChange:this._onChangeMobilePanel.bind(this)},H&&\"price_chart\"==H?n.a.createElement(f.Collapse.Panel,{header:_.a.translate(\"exchange.price_history\"),key:\"tradingViewChart\"},at):null,H&&\"market_depth\"==H?n.a.createElement(f.Collapse.Panel,{header:_.a.translate(\"exchange.order_depth\"),key:\"deptHighChart\"},nt):null,n.a.createElement(f.Collapse.Panel,{header:_.a.translate(\"exchange.buy_sell\"),key:\"buySellTab\"},st),n.a.createElement(f.Collapse.Panel,{header:_.a.translate(\"exchange.order_book\"),key:\"orderBook\"},Ye),n.a.createElement(f.Collapse.Panel,{header:_.a.translate(\"exchange.history\"),key:\"marketHistory\"},Xe),n.a.createElement(f.Collapse.Panel,{header:_.a.translate(\"exchange.settle_orders\"),key:\"settlementOrders\"},tt),n.a.createElement(f.Collapse.Panel,{header:_.a.translate(\"exchange.my_history\"),key:\"myMarketHistory\"},$e),n.a.createElement(f.Collapse.Panel,{header:_.a.translate(\"exchange.my_orders\"),key:\"myOpenOrders\"},et),n.a.createElement(f.Collapse.Panel,{header:_.a.translate(\"exchange.market_name\"),key:\"myMarkets\"},Qe)):(ut.push(Je),ut.push(Ke),ut.push(Ye),ut.push(it),ut.push(lt),ut.push(ct),ut.push(Qe)):(z||(ut.push(Je),ut.push(Ke)),D||ut.push(Ye),ut.push(it),ut.push(lt),ut.push(ct));var pt=null,dt=null,mt=null,ht=null,ft=!1,gt=!1;return Ie||(D&&(pt=n.a.createElement(\"div\",{className:\"left-order-book no-padding no-overflow\",style:{display:\"block\",height:\"calc(100vh - 170px)\",width:350}},Ye)),z&&(pt=n.a.createElement(\"div\",{className:\"left-order-book no-padding no-overflow\",style:{display:\"block\",height:\"calc(100vh - 170px)\",width:300}},st)),dt=n.a.createElement(\"div\",{className:\"left-order-book no-padding no-overflow\",style:{display:\"block\"},key:\"actionCard_\"+Ge++},n.a.createElement(\"div\",{className:\"v-align no-padding align-center grid-block footer shrink column\"},n.a.createElement(f.Tabs,{defaultActiveKey:\"order_book\",activeKey:J,onChange:this._setTabVerticalPanel.bind(this)},n.a.createElement(f.Tabs.TabPane,{tab:_.a.translate(\"exchange.market_name\"),key:\"my-market\"}),n.a.createElement(f.Tabs.TabPane,{tab:_.a.translate(\"exchange.more\"),key:\"find-market\"}))),\"my-market\"==J||\"find-market\"==J?Qe:null),(!ee&&pt||ee&&dt)&&(ft=!0),(!ee&&dt||ee&&pt)&&(gt=!0),mt=n.a.createElement(\"div\",{className:\"grid-block left-column shrink no-overflow\"},$.includes(\"left\")?ee?dt:pt:null,ft?n.a.createElement(\"div\",{style:{width:\"auto\",paddingTop:\"calc(50vh - 80px)\"},onClick:this._togglePanel.bind(this,\"left\")},n.a.createElement(f.Icon,{type:$.includes(\"left\")?\"caret-left\":\"caret-right\"})):null),ht=n.a.createElement(\"div\",{className:\"grid-block left-column shrink no-overflow\"},gt?n.a.createElement(\"div\",{style:{width:\"auto\",paddingTop:\"calc(50vh - 80px)\"},onClick:this._togglePanel.bind(this,\"right\")},n.a.createElement(f.Icon,{type:$.includes(\"right\")?\"caret-right\":\"caret-left\"})):null,$.includes(\"right\")?ee?pt:dt:null)),console.log(\"Chart Type is \"+H),n.a.createElement(\"div\",{className:\"grid-block vertical\"},this.props.marketReady?null:n.a.createElement(He.a,null),n.a.createElement(ue,{account:this.props.currentAccount,quoteAsset:c,baseAsset:u,hasPrediction:qe,starredMarkets:l,lowestAsk:x,highestBid:O,lowestCallPrice:p,showCallLimit:be,feedPrice:v,marketReady:m,latestPrice:ge&&ge.getPrice(),marketStats:d,selectedMarketPickerAsset:this.state.marketPickerAsset,onToggleMarketPicker:this._toggleMarketPicker.bind(this),onToggleSettings:this._toggleSettings.bind(this),showVolumeChart:_e}),n.a.createElement(\"div\",{className:\"grid-block page-layout market-layout\"},n.a.createElement(Ze,Mt({ref:\"marketPicker\",modalId:\"marketPicker\",marketPickerAsset:this.state.marketPickerAsset,onToggleMarketPicker:this._toggleMarketPicker.bind(this)},this.props)),n.a.createElement(rt,{ref:\"settingsModal\",modalId:\"settingsModal\",viewSettings:this.props.viewSettings,chartType:H,chartHeight:U,onToggleSettings:this._toggleSettings.bind(this),onChangeChartHeight:this.onChangeChartHeight.bind(this),handleGroupOrderLimitChange:this._onGroupOrderLimitChange.bind(this),trackedGroupsConfig:w,currentGroupOrderLimit:S,verticalOrderBook:D,hideScrollbars:Y,mirrorPanels:ee,panelTabs:ae,onMoveOrderBook:this._moveOrderBook.bind(this),onMirrorPanels:this._mirrorPanels.bind(this),onToggleScrollbars:this._toggleScrollbars.bind(this),onSetAutoscroll:this._setAutoscroll.bind(this),onToggleChart:this._toggleChart.bind(this),onSetPanelTabs:this._setPanelTabs.bind(this)}),n.a.createElement(jt,null),mt,n.a.createElement(\"div\",{style:{paddingTop:0},className:g()(\"grid-block main-content vertical no-overflow\")},n.a.createElement(\"div\",{className:\"grid-block vertical no-padding ps-container\",id:\"CenterContent\",ref:\"center\"},n.a.createElement(\"div\",null,H&&\"price_chart\"==H?n.a.createElement(\"div\",{className:\"grid-block shrink no-overflow\",id:\"market-charts\"},at):null,H&&\"market_depth\"==H?n.a.createElement(\"div\",{className:\"grid-block vertical no-padding shrink\"},nt):null),n.a.createElement(\"div\",{className:\"grid-block no-overflow wrap shrink\"},ut))),ht),ke?n.a.createElement(wt.a,{ref:\"borrowQuote\",modalId:\"borrow_modal_quote_\"+c.get(\"id\"),quote_asset:c.get(\"id\"),backing_asset:c.getIn([\"bitasset\",\"options\",\"short_backing_asset\"]),account:t}):null,Ee?n.a.createElement(wt.a,{ref:\"borrowBase\",modalId:\"borrow_modal_base_\"+u.get(\"id\"),quote_asset:u.get(\"id\"),backing_asset:u.getIn([\"bitasset\",\"options\",\"short_backing_asset\"]),account:t}):null,n.a.createElement(qt.a,Mt({ref:\"deposit_modal\",action:\"deposit\",fiatModal:!1,account:t.get(\"name\"),sender:t.get(\"id\"),asset:\"bid\"===X?oe.get(\"id\"):ie.get(\"id\"),modalId:\"simple_deposit_modal\"+(\"bid\"===X?\"\":\"_ask\"),balance:\"bid\"===X?de:ce},this.props.backedCoins.find(function(e){return e.symbol===X===\"bid\"?oe.get(\"symbol\"):ie.get(\"symbol\")}))),n.a.createElement(Ft.a,{ref:\"bridge_modal\",action:\"deposit\",account:t.get(\"name\"),sender:t.get(\"id\"),asset:\"bid\"===X?oe.get(\"id\"):ie.get(\"id\"),modalId:\"simple_bridge_modal\"+(\"bid\"===X?\"\":\"_ask\"),balances:[\"bid\"===X?de:ce],bridges:this.props.bridgeCoins.get(\"bid\"===X?oe.get(\"symbol\"):ie.get(\"symbol\"))||null}))}}]),t}();zt.propTypes={marketCallOrders:x.a.object.isRequired,activeMarketHistory:x.a.object.isRequired,viewSettings:x.a.object.isRequired},zt.defaultProps={marketCallOrders:[],activeMarketHistory:{},viewSettings:{}};var Ut=zt,Ht=a(527),Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wt=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function Gt(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Jt(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function Kt(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Qt=function(e){function t(){return Gt(this,t),Jt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Kt(t,n.a.Component),Wt(t,[{key:\"render\",value:function(){var e=this.props.match.params.marketID.toUpperCase().split(\"_\");return e[0]===e[1]?n.a.createElement(Ht.a,{subtitle:\"market_not_found_subtitle\"}):n.a.createElement(p.a,{stores:[s.a,o.a,i.a,u.a,c.a],inject:{locale:function(){return c.a.getState().currentLocale},lockedWalletState:function(){return u.a.getState().locked},marketLimitOrders:function(){return s.a.getState().marketLimitOrders},marketCallOrders:function(){return s.a.getState().marketCallOrders},invertedCalls:function(){return s.a.getState().invertedCalls},marketSettleOrders:function(){return s.a.getState().marketSettleOrders},marketData:function(){return s.a.getState().marketData},totals:function(){return s.a.getState().totals},activeMarketHistory:function(){return s.a.getState().activeMarketHistory},bucketSize:function(){return s.a.getState().bucketSize},buckets:function(){return s.a.getState().buckets},lowestCallPrice:function(){return s.a.getState().lowestCallPrice},feedPrice:function(){return s.a.getState().feedPrice},currentAccount:function(){return o.a.getState().currentAccount},myActiveAccounts:function(){return o.a.getState().myActiveAccounts},viewSettings:function(){return i.a.getState().viewSettings},settings:function(){return i.a.getState().settings},exchange:function(){return i.a.getState().exchange},starredMarkets:function(){return i.a.getState().starredMarkets},marketDirections:function(){return i.a.getState().marketDirections},marketStats:function(){return s.a.getState().marketStats},marketReady:function(){return s.a.getState().marketReady},backedCoins:function(){return l.a.getState().backedCoins.get(\"OPEN\",[])},bridgeCoins:function(){return l.a.getState().bridgeCoins},miniDepthChart:function(){return i.a.getState().viewSettings.get(\"miniDepthChart\",!0)},dataFeed:function(){return new dt},trackedGroupsConfig:function(){return s.a.getState().trackedGroupsConfig},currentGroupOrderLimit:function(){return s.a.getState().currentGroupLimit}}},n.a.createElement(aa,{history:this.props.history,location:this.props.location,quoteAsset:e[0],baseAsset:e[1]}))}}]),t}(),Yt=Object(h.EmitterInstance)(),Xt=void 0,Zt=void 0,$t=void 0,ea=void 0,ta=void 0,aa=function(e){function t(e){Gt(this,t);var a=Jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={sub:null},a._subToMarket=a._subToMarket.bind(a),a}return Kt(t,n.a.Component),Wt(t,[{key:\"componentWillMount\",value:function(){var e=this;null!==this.props.quoteAsset&&null!==this.props.baseAsset&&(this.props.quoteAsset.toJS&&this.props.baseAsset.toJS&&this._subToMarket(this.props),Yt.on(\"cancel-order\",Zt=N.a.cancelLimitOrderSuccess),Yt.on(\"close-call\",Xt=N.a.closeCallOrderSuccess),Yt.on(\"call-order-update\",$t=function(t){var a=t.call_price.base.asset_id,r=t.call_price.quote.asset_id,n=e.props.baseAsset.get(\"id\"),s=e.props.quoteAsset.get(\"id\");a!==n&&a!==s||r!==n&&r!==s||N.a.callOrderUpdate(t)}),Yt.on(\"bitasset-update\",ea=N.a.feedUpdate),Yt.on(\"settle-order-update\",ta=function(t){var a=market_utils.isMarketAsset(e.props.quoteAsset,e.props.baseAsset),r=a.isMarketAsset,n=a.marketAsset;r&&n.id===t.balance.asset_id&&N.a.settleOrderUpdate(n.id)}))}},{key:\"componentWillReceiveProps\",value:function(e){var t=this;if(null!==e.quoteAsset&&null!==e.baseAsset){if(e.baseAsset&&e.baseAsset.getIn([\"bitasset\",\"is_prediction_market\"])&&this.props.history.push(\"/market/\"+e.baseAsset.get(\"symbol\")+\"_\"+e.quoteAsset.get(\"symbol\")),e.quoteAsset&&e.baseAsset&&!this.state.sub)return this._subToMarket(e);if(e.quoteAsset.get(\"symbol\")!==this.props.quoteAsset.get(\"symbol\")||e.baseAsset.get(\"symbol\")!==this.props.baseAsset.get(\"symbol\")){var a=this.state.sub.split(\"_\");N.a.unSubscribeMarket(a[0],a[1]).then(function(){t._subToMarket(e)})}}}},{key:\"componentWillUnmount\",value:function(){var e=this.props,t=e.quoteAsset,a=e.baseAsset;null!==t&&null!==a&&(N.a.unSubscribeMarket(t.get(\"id\"),a.get(\"id\")),Yt&&(Yt.off(\"cancel-order\",Zt),Yt.off(\"close-call\",Xt),Yt.off(\"call-order-update\",$t),Yt.off(\"bitasset-update\",ea),Yt.off(\"settle-order-update\",ta)))}},{key:\"_subToMarket\",value:function(e,t,a){var r=e.quoteAsset,n=e.baseAsset,s=e.bucketSize,o=e.currentGroupOrderLimit;t&&(s=t),a&&(o=a),r.get(\"id\")&&n.get(\"id\")&&(N.a.subscribeMarket.defer(n,r,s,o),this.setState({sub:r.get(\"id\")+\"_\"+n.get(\"id\")}))}},{key:\"render\",value:function(){return null===this.props.quoteAsset||null===this.props.baseAsset?n.a.createElement(Ht.a,{subtitle:\"market_not_found_subtitle\"}):n.a.createElement(Ut,Vt({},this.props,{sub:this.state.sub,subToMarket:this._subToMarket}))}}]),t}();aa.propTypes={currentAccount:L.a.ChainAccount.isRequired,quoteAsset:L.a.ChainAsset.isRequired,baseAsset:L.a.ChainAsset.isRequired,coreAsset:L.a.ChainAsset.isRequired},aa.defaultProps={currentAccount:\"1.2.3\",coreAsset:\"1.3.0\"},aa=Object(D.a)(aa,{show_loader:!0});t.default=Qt}}]);"],"mappings":"AAAA","sourceRoot":""}